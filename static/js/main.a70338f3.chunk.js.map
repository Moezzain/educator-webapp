{"version":3,"sources":["assets/bright-no-bg.png","config/apiConfig.js","helpers/commonReducerState.js","redux/reducers/authReducer/index.js","styles/loginViewStyles.js","views/LoginView.js","helpers/Converters.js","assets/logo-dark-notext.png","redux/reducers/chatsReducer/index.js","API/apiEducator.js","API/apiAdmin.js","redux/reducers/educatorsReducer/index.js","API/apiPatient.js","redux/reducers/patientReducer/index.js","components/PopUpProfile.js","styles/themes.js","styles/myNavStyles.js","components/MyNav.js","components/Footer.js","styles/chatStyles.js","components/CustomSeparator.js","views/Chat/index.js","views/Chat/helpers.js","styles/patientProfileStyles.js","components/ProfileCard.js","styles/patientAppointmentsStyles.js","components/PatientAppointments.js","helpers/index.js","components/ProfileChart.js","components/PatientEducators.js","views/PatientProfile.js","styles/patientNotesStyles.js","styles/readMoreStyles.js","components/ReadMore.js","views/PatientNotes.js","views/patientSummaries.js","styles/showPatientsViewStyles.js","views/CalendarView.js","styles/patientListStyles.js","components/PatientList.js","redux/reducers/refrralsReducer/index.js","styles/refrralsStyles.js","components/Refrrals.js","views/ShowPatientsView.js","redux/reducers/index.js","redux/index.js","App.js","serviceWorker.js","index.js"],"names":["apiUrl","commonState","loading","error","encrypt","text","sha256","loginEducatorAction","createAsyncThunk","a","username","password","rejectWithValue","encryptedPassword","auths","data","id","axios","post","url","then","res","educator","educatorId","appointments","chats","tokens","JSON","parse","token","length","admin","catch","e","console","log","loginAdminAction","adminUsername","logoutAction","adminId","body","notificationToken","patch","headers","Authorization","result","resetPasswordAction","oldPassword","newPassword","encryptedOldPassword","initialState","response","darkMode","resetError","authReducer","createSlice","name","reducers","clearAll","setLoading","state","action","payload","setChats","setDarkMode","setResetError","extraReducers","fulfilled","pending","rejected","actions","setLoadingAction","setChatsAction","clearAllAuthAction","setResetErrorAction","styles","container","display","alignItems","justifyContent","height","backgroundColor","width","card","padding","borderRadius","root","flexDirection","logo","marginBottom","formDiv","form","marginTop","button","color","LoginView","dispatch","useDispatch","history","useHistory","useState","setUsername","setPassword","activeRole","setActiveRole","buttonEducatorColor","setButtonEducatorColor","buttonAdminColor","setButtonAdminColor","ar","submit","lang","useSelector","auth","useEffect","push","onEducatorSubmit","onAdminSubmit","Container","maxWidth","style","src","Card","borderWidth","borderColor","borderStyle","Button","value","onClick","TextField","type","required","label","variant","onChange","persist","target","LinearProgress","parseArray","arr","map","element","parseObjectOfArrays","obj","parsed","objects","key","current","Array","isArray","getChatsAction","chatId","adminParam","get","timeout","reverse","getAllChatsAction","archivedChats","parsedData","messages","currentChat","allChats","allChatsLoading","chatsReducer","setCurrentChat","setCurrentChatAction","clearAllChatsAction","getEducatorIds","Object","keys","educators","forEach","getEducatorData","isCaseHandler","getAdminData","getEducatorsAndPatients","tempEducators","patients","i","educatorData","find","filterEducator","specialty","count","chat","patient","patientId","getAllEducators","fetchedEducatorId","currentEducator","educatorsReducer","setFetchedEducatiorId","setCurrentEducator","clearAllEducatorsAction","setFetchedEducatorIdReducer","setCurrentEducatorAction","getPatient","unparsedPatient","patientProfile","getPatientAdmin","getAppointments","parsedPatient","getPatientAction","patientData","getAppointmentsAction","patientReducer","setPatientId","rejeceted","setPatientIdAction","clearAllPatientAction","useStyles","makeStyles","avatar","blue","PopUpProfile","setOpen","open","setOldPassword","setNewPassword","setNewPasswordVerify","handleResetSubmit","page","setPage","classes","Dialog","onClose","DialogTitle","textAlign","Typography","marginLeft","FormControl","fullWidth","className","margin","InputLabel","htmlFor","OutlinedInput","labelWidth","mainTheme","primary","black","red","white","bluishWhite","secondary","lightBlue","mainBlue","darkBlue","orange","darkTheme","lightGrey","theme","lightStyles","tabs","logout","fontSize","transform","rotate","footerAppBar","top","bottom","navLogo","footerLogo","customTabDiv","minWidth","verticalAlign","textTransform","position","icon","marginRight","tabDiv","darkStyles","flexGrow","MyNav","localEducators","setLocalEducators","newPasswordVerify","setValue","values","sort","first","second","placeValue","index","AppBar","Tabs","indicatorColor","textColor","scrollButtons","alt","replace","Footer","chatDiv","messageFooter","ontSize","customMessage","messagelistContent","separatorDiv","flex","alignContent","leftLine","rightLine","date","statsDiv","emptyMessages","chatScrollDiv","overflow","CustomSeparator","Styles","d","Date","getDay","Chat","localMessages","setLocalMessages","duration","setDuration","messageCount","usageDuration","emptyConvo","localStyles","componentDecorator","href","rel","messagesAndDuration","imgTypes","fileTypes","audioTypes","formatedMessages","message","assign","parseInt","user","_id","media","fileNameArr","split","fileExtension","isImg","includes","isFile","isAudio","createdOn","image","file","audio","userId","formattedMessage","formatMessages","CircularProgress","animation","model","direction","ImageContent","CustomContent","controls","download","toLocaleTimeString","flex1","chartWrapper","chartDiv","rightLowerCorner","leftSideCard","alignVertical","alignSelf","rightSideCard","rightSideDiv","paper","chartMargin","right","left","medicineItems","listStyleType","medicinesText","patientName","clickPopever","medicineTextPaper","educatorsDiv","flexWrap","educatorsButton","contentWrapper","rightBottomRightDiv","rightSideLeftColumn","rightSideRightColumn","ProfileCard","description","CardContent","component","minHeight","maxHeight","listDiv","RenderAppointments","localAppointments","setLocalAppointments","tempAppointments","filter","appointment","flat","getAppointmentsEducators","goToEducator","ProfileChart","hba1cs","weights","useTheme","setData","tempData","hba1c","weight","createData","Fragment","ResponsiveContainer","LineChart","XAxis","dataKey","stroke","palette","YAxis","Label","angle","textAnchor","fill","Tooltip","Legend","Line","activeDot","r","PatientEducators","dateAffectedText","dateBirthText","dietText","diseaseText","weightText","heightText","Hba1CText","sexText","surgeryText","otherDiseaseText","whoIsPatientText","outSideLinkText","topicsText","saveText","needPayment","PatientProfile","dateAffected","setDateAffected","dateBirth","setDateBirth","setWeights","heights","setHeights","setHba1cs","medicines","setMedicines","setPatientName","setNotes","diseaseType","setDiseaseType","sex","whoIsPatient","setWhoIsPatient","surgery","setSurgery","otherDisease","setOtherDisease","outSideLink","setOutSideLink","setTopics","diet","setDiet","filteredEducators","setFilteredEducators","profileValue","valueInside","substring","item","concat","concatProfile","notes","topics","educatorsIds","toLocaleDateString","PatientAppointments","mainDev","bullet","pos","learnMore","learnMoreButton","cardDev","cardContent","titleText","ReadMore","currentNote","title","PatientNotes","currentPage","setCurrentPage","setCurrentNote","summary","goToPatient","note","gutterBottom","size","setReadMore","renderCard","PatientSummaries","summaries","renderReadMore","buttonsText","icons","goToPatientButton","mianDev","iconsDev","listDev","rightColumn","cardContainer","listHeaderDiv","patientListName","listAppointemntsButton","popUpDiv","calendarMainDiv","headerListDiv","calendarContentDiv","calendarCardDiv","calendarCard","calendarDiv","calendar","localizer","momentLocalizer","moment","CalendarView","appointmentId","time","upComing","calendarAppointments","now","setHours","allDay","start","end","patinetId","elevation","events","startAccessor","endAccessor","onSelectEvent","mainDiv","uperDiv","input","convo","accountIcon","inputDiv","switchDiv","allChatsSwitch","allChatsText","PatientList","localPatients","allPateints","activateChat","setSearchTerm","searchTerm","checkedAllChats","setCheckedAllChats","filteredPatients","setFilteredPatients","searchHolder","toLowerCase","dir","Input","placeholder","Switch","checked","active","Content","addRefrralsAction","phone","referCode","medium","getRefrralsAction","referral","referrers","added","refrralsReducer","clearErrors","clearErrorsAction","iconsButton","closeIcon","mainContainer","paddingBottom","leftHalf","addLinkText","formText","formButton","divider","rightHalf","rightMainContainer","numberOfLinks","linksWrapper","linkCardDiv","linkCard","paddingRight","paddingLeft","linkText","fullUrlText","overflowWrap","fullUrlDiv","Refrrals","setActiveList","setName","setPhone","setSpecialty","setReferCode","setMedium","addLink","code","link","langText","refrrals","IconButton","aria-label","b","ref","fullUrl","ShowPatientsView","activeList","setLocalPatients","disableIcons","setDisableIcons","profile","tempChats","err","tempEducator","renderListHeader","setValueCurrentPage","persistConfig","storage","whitelist","persistCombineReducers","middleware","getDefaultMiddleware","store","configureStore","reducer","persistor","persistStore","App","exact","path","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a70338f3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bright-no-bg.d6200e7f.png\";","let apiUrl = 'https://api.ithnain.com'\r\n// let apiUrl= 'http://ec2-157-175-56-64.me-south-1.compute.amazonaws.com:3002'\r\n// let apiUrl = 'http://cors-anywhere.herokuapp.com/https://ithnain-test-backend.herokuapp.com'\r\n\r\n// let apiUrl= 'http://192.168.8.109:3000'\r\n// let apiUrl= 'http://192.168.8.106:3000'\r\n// let apiUrl= 'http://157.175.113.31:3000'\r\n// const expressPort = 3000\r\n// const apiUrls = {\r\n//   production: 'Production URL',\r\n//   development: `http://localhost:${expressPort}`\r\n// }\r\n\r\n// if (window.location.hostname === 'localhost') {\r\n//   apiUrl = apiUrls.development\r\n// } else {\r\n//   apiUrl = apiUrls.production\r\n// }\r\n\r\nexport default apiUrl","export const commonState = {\r\n  loading: false,\r\n  error: null,\r\n};\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport url from '../../../config/apiConfig';\r\nimport { sha256 } from 'js-sha256';\r\nimport { commonState } from '../../../helpers/commonReducerState';\r\nconst encrypt = (text) => {\r\n  return sha256(text);\r\n};\r\n\r\nexport const loginEducatorAction = createAsyncThunk(\r\n  'auth/loginEducatorAction',\r\n  async ({ username, password }, { rejectWithValue }) => {\r\n    let encryptedPassword = await encrypt(password);\r\n    let auths = {};\r\n    const data = {\r\n      id: username,\r\n      password: encryptedPassword,\r\n    };\r\n    return axios\r\n      .post(`${url}/login`, data)\r\n      .then((res) => {\r\n        if (res.data.educator) {\r\n          const { educatorId, appointments, chats } = res.data;\r\n          rejectWithValue();\r\n          const educator = JSON.parse(res.data.educator);\r\n          const tokens = educator.token;\r\n\r\n          auths.token = tokens[tokens.length - 1];\r\n          auths.educatorId = educatorId;\r\n          auths.appointments = appointments;\r\n          auths.chats = chats;\r\n          auths.admin = false;\r\n          return auths;\r\n        } else return rejectWithValue('credintials');\r\n      })\r\n      .catch((e) => {\r\n        console.log('error', e);\r\n        return rejectWithValue('network');\r\n      });\r\n  }\r\n);\r\nexport const loginAdminAction = createAsyncThunk(\r\n  'auth/loginAdminAction',\r\n  async ({ username, password }, { rejectWithValue }) => {\r\n\r\n    let encryptedPassword = await encrypt(password);\r\n    let auths = {};\r\n    const data = {\r\n      adminUsername: username,\r\n      password: encryptedPassword,\r\n    };\r\n    return axios\r\n      .post(`${url}/login`, data)\r\n      .then((res) => {\r\n        if (res.data.admin) {\r\n          const admin = JSON.parse(res.data.admin);\r\n          const { id } = admin;\r\n          const tokens = admin.token;\r\n\r\n          auths.token = tokens[tokens.length - 1];\r\n          auths.educatorId = id;\r\n          auths.admin = true;\r\n\r\n          return auths;\r\n        } else return rejectWithValue('credintials');\r\n      })\r\n      .catch((e) => {\r\n        console.log('error', e);\r\n        return rejectWithValue('network');\r\n      });\r\n  }\r\n);\r\nexport const logoutAction = createAsyncThunk(\r\n  'auth/logout',\r\n  async ({ educatorId, token, adminId }) => {\r\n    let body;\r\n    if (adminId)\r\n      body = {\r\n          adminId,\r\n          // notificationToken: ' ',\r\n        };\r\n        else\r\n        body = {\r\n            educatorId,\r\n            notificationToken: ' ',\r\n      };\r\n\r\n    const result = await axios\r\n      .patch(`${url}/logout`, body, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {})\r\n      .catch((e) => {\r\n        console.log('error ', e);\r\n      });\r\n    return result;\r\n  }\r\n);\r\nexport const resetPasswordAction = createAsyncThunk(\r\n    'auth/resetPasswordAction',\r\n    async({adminId, token, oldPassword, newPassword},{rejectWithValue}) => {\r\n      try{\r\n\r\n        const encryptedPassword = await encrypt(newPassword)\r\n        const encryptedOldPassword = await encrypt(oldPassword)\r\n        const body = {\r\n            adminId,\r\n            oldPassword: encryptedOldPassword,\r\n            password: encryptedPassword,\r\n        }\r\n        return await axios.patch(`${url}/admin?adminId=${adminId}`,body ,{\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n              },\r\n        } ).then((res) => {\r\n          if(res.data.id){\r\n\r\n            return res.data\r\n          }\r\n          else \r\n          return rejectWithValue('wrong password')\r\n          \r\n        }).catch((e) => {\r\n            console.log('error reseting ',e);\r\n            return rejectWithValue(e)\r\n        })\r\n      } catch (error){\r\n        return rejectWithValue(error)\r\n      }\r\n    }\r\n)\r\nconst initialState = {\r\n  token: null,\r\n  educatorId: null,\r\n  appointments: null,\r\n  chats: null,\r\n  response: null,\r\n  darkMode: false,\r\n  admin: false,\r\n  resetError: '',\r\n  ...commonState,\r\n};\r\nconst authReducer = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    clearAll: () => initialState,\r\n    setLoading: (state, action) => {\r\n      state.loading = action.payload;\r\n    },\r\n    setChats: (state, action) => {\r\n      state.chats = action.payload;\r\n    },\r\n    setDarkMode: (state, action) => {\r\n      state.darkMode = action.payload;\r\n    },\r\n    setResetError: (state, action) => {\r\n        state.resetError = action.payload\r\n    }\r\n  },\r\n\r\n  extraReducers: {\r\n    [loginEducatorAction.fulfilled]: (state, action) => {\r\n      state.token = action.payload.token;\r\n      state.educatorId = action.payload.educatorId;\r\n      state.appointments = action.payload.appointments;\r\n      state.chats = action.payload.chats;\r\n      state.admin = action.payload.admin;\r\n      state.loading = false;\r\n    },\r\n    [loginEducatorAction.pending]: (state, action) => {\r\n      state.loading = true;\r\n    },\r\n    [loginEducatorAction.rejected]: (state, action) => {\r\n      if (action.payload === 'network') state.error = \"There's a Network issue\";\r\n      else if (action.payload === 'credintials')\r\n        state.error = 'The Username or Password is incorrect';\r\n      state.loading = false;\r\n    },\r\n    [loginAdminAction.fulfilled]: (state, action) => {\r\n      state.token = action.payload.token;\r\n      state.educatorId = action.payload.educatorId;\r\n      state.admin = action.payload.admin;\r\n      state.loading = false;\r\n    },\r\n    [loginAdminAction.pending]: (state, action) => {\r\n      state.loading = true;\r\n    },\r\n    [loginAdminAction.rejected]: (state, action) => {\r\n      if (action.payload === 'network') state.error = \"There's a Network issue\";\r\n      else if (action.payload === 'credintials')\r\n        state.error = 'The Username or Password is incorrect';\r\n      state.loading = false;\r\n    },\r\n    [resetPasswordAction.fulfilled]: (state, action) => {\r\n        state.token = action.payload.token[0]\r\n    },\r\n    [resetPasswordAction.rejected]: (state, action) => {\r\n      state.resetError = 'somthing went wrong'\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setLoading: setLoadingAction,\r\n  setChats: setChatsAction,\r\n  clearAll: clearAllAuthAction,\r\n  setDarkMode: setDarkModeAction,\r\n  setResetError: setResetErrorAction\r\n} = authReducer.actions;\r\n\r\nexport default authReducer.reducer;\r\n","export const styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100vh',\r\n    backgroundColor: '#0a122a',\r\n    width: '100%',\r\n  },\r\n  card: {\r\n    width: '80%',\r\n    padding: 30,\r\n    borderRadius:8\r\n  },\r\n  root: { display: 'flex', flexDirection: 'row' },\r\n  logo: { width: '30%', marginBottom: '15%' },\r\n  formDiv: {\r\n    width: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  form: { display: 'flex', flexDirection: 'column' },\r\n  username: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  password: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'lightblue',\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  error: { color: 'red' },\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport logo from '../assets/bright-no-bg.png';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { loginEducatorAction, setLoadingAction, loginAdminAction } from '../redux/reducers/authReducer';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport { styles } from '../styles/loginViewStyles';\r\nimport Card from '@material-ui/core/Card';\r\n\r\nconst LoginView = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [activeRole, setActiveRole] = useState('educator');\r\n  const [buttonEducatorColor, setButtonEducatorColor] = useState('lightgrey');\r\n  const [buttonAdminColor, setButtonAdminColor] = useState('white');\r\n  const [lang, setLang] = useState({\r\n    ar: {\r\n      username: 'اسم المستخدم',\r\n      password: 'الرقم السري',\r\n      submit: 'دخول',\r\n    },\r\n  });\r\n\r\n  const { educatorId, token, loading, error } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n  useEffect(() => {\r\n    if (token && educatorId) {\r\n      history.push('showpatients');\r\n    }\r\n  }, [educatorId, history, token]);\r\n  const onEducatorSubmit = async () => {\r\n    dispatch(setLoadingAction(true));\r\n    dispatch(loginEducatorAction({ username: username, password: password }));\r\n  };\r\n  const onAdminSubmit = async () => {\r\n    dispatch(setLoadingAction(true));\r\n    dispatch(loginAdminAction({ username: username, password: password }));\r\n  };\r\n  const renderLoginAdmin = () => {\r\n    return (\r\n      <form style={styles.form}>\r\n        <TextField\r\n          type=\"username\"\r\n          required\r\n          id=\"outlined-required\"\r\n          label={lang.ar.username}\r\n          variant=\"outlined\"\r\n          value={username}\r\n          onChange={(e) => {\r\n            e.persist();\r\n            setUsername(e.target.value);\r\n          }}\r\n          style={styles.username}\r\n        />\r\n        <TextField\r\n          type=\"password\"\r\n          required\r\n          id=\"outlined-required\"\r\n          label={lang.ar.password}\r\n          variant=\"outlined\"\r\n          value={password}\r\n          onChange={(e) => {\r\n            e.persist();\r\n            setPassword(e.target.value);\r\n          }}\r\n          style={styles.password}\r\n        />\r\n        <Button variant=\"primary\" style={styles.button} onClick={() => {onAdminSubmit()}}>\r\n          {lang.ar.submit}\r\n        </Button>\r\n        {loading ? <LinearProgress /> : null}\r\n        {error ? <text style={styles.error}>{error}</text> : ''}\r\n      </form>\r\n    );\r\n  };\r\n  const renderLoginEducator = () => {\r\n    return (\r\n      <form style={styles.form}>\r\n        <TextField\r\n          type=\"username\"\r\n          required\r\n          id=\"outlined-required\"\r\n          label={lang.ar.username}\r\n          variant=\"outlined\"\r\n          value={username}\r\n          onChange={(e) => {\r\n            e.persist();\r\n            setUsername(e.target.value);\r\n          }}\r\n          style={styles.username}\r\n        />\r\n        <TextField\r\n          type=\"password\"\r\n          required\r\n          id=\"outlined-required\"\r\n          label={lang.ar.password}\r\n          variant=\"outlined\"\r\n          value={password}\r\n          onChange={(e) => {\r\n            e.persist();\r\n            setPassword(e.target.value);\r\n          }}\r\n          style={styles.password}\r\n        />\r\n        <Button variant=\"primary\" style={styles.button} onClick={onEducatorSubmit}>\r\n          {lang.ar.submit}\r\n        </Button>\r\n        {loading ? <LinearProgress /> : null}\r\n        {error ? <text style={styles.error}>{error}</text> : ''}\r\n      </form>\r\n    );\r\n  };\r\n  return (\r\n    <Container\r\n      // fluid\r\n      maxWidth={false}\r\n      style={styles.container}\r\n    >\r\n      <div style={styles.root}>\r\n        <img src={logo} style={styles.logo} />\r\n        <div style={styles.formDiv}>\r\n          <Card style={styles.card}>\r\n            <div\r\n              style={{\r\n                borderRadius: 5,\r\n                borderWidth: 1,\r\n                borderColor: 'grey',\r\n                borderStyle: 'solid',\r\n              }}\r\n            >\r\n              <Button\r\n                style={{\r\n                  width: '50%',\r\n                  height: 50,\r\n                  backgroundColor: buttonEducatorColor,\r\n                }}\r\n                value=\"educator\"\r\n                onClick={() => {\r\n                  setActiveRole('educator');\r\n                  setButtonEducatorColor('lightgrey');\r\n                  setButtonAdminColor('white');\r\n                }}\r\n              >\r\n                Educator\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  width: '50%',\r\n                  height: 50,\r\n                  backgroundColor: buttonAdminColor,\r\n                }}\r\n                value=\"admin\"\r\n                onClick={() => {\r\n                  setActiveRole('admin');\r\n                  setButtonAdminColor('lightgrey');\r\n                  setButtonEducatorColor('white');\r\n                }}\r\n              >\r\n                {' '}\r\n                Admin\r\n              </Button>\r\n            </div>\r\n\r\n            {activeRole === 'admin'\r\n              ? renderLoginAdmin()\r\n              : renderLoginEducator()}\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoginView;\r\n","export function parseArray(arr){\r\n    return arr.map((element) => { return JSON.parse(element) })\r\n}\r\n\r\nexport function parseObjectOfArrays(obj){\r\n    let parsed=[]\r\n    let objects={}\r\n    for(var key in obj){\r\n        var current=obj[key]\r\n        if (Array.isArray(current)) {\r\n            objects[key]= parseArray(current)\r\n            parsed.push(parseArray(current))\r\n        }\r\n    }\r\n    return objects\r\n}","export default __webpack_public_path__ + \"static/media/logo-dark-notext.58fe3789.png\";","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport url from './../../../config/apiConfig';\r\nimport { commonState } from '../../../helpers/commonReducerState';\r\nimport { parseArray } from '../../../helpers/Converters';\r\nexport const getChatsAction = createAsyncThunk(\r\n  'chats/getChatsAction',\r\n  async ({ chatId, educatorId, token, adminId }, { rejectWithValue }) => {\r\n    try {\r\n      const adminParam = adminId ? `adminId=${adminId}&` : '';\r\n      let result = await axios.get(\r\n        `${url}/message?chatId=${chatId}&${adminParam}educatorId=${educatorId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          timeout: 10000,\r\n        }\r\n      );\r\n      if (result?.data) {\r\n        return result.data.reverse();\r\n      }\r\n    } catch (error) {\r\n      console.log('error', error);\r\n\r\n      return rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\nexport const getAllChatsAction = createAsyncThunk(\r\n  'chats/getAllChats',\r\n  async ({ educatorId, token, adminId }, { rejectWithValue }) => {\r\n    try {\r\n      const adminParam = adminId ? `adminId=${adminId}&` : '';\r\n      let result = await axios.get(\r\n        `${url}/chats?educatorId=${educatorId}&${adminParam}filterDate=all`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          timeout: 10000,\r\n        }\r\n      );\r\n      if (result?.data) {\r\n        const chats = parseArray(result.data?.chats);\r\n        const archivedChats = parseArray(result.data?.archivedChats);\r\n        const parsedData = {\r\n          chats,\r\n          archivedChats,\r\n        };\r\n        return parsedData;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\nconst initialState = {\r\n  messages: null,\r\n  currentChat: null,\r\n  allChats: [],\r\n  archivedChats: [],\r\n  allChatsLoading: false,\r\n  ...commonState,\r\n};\r\nconst chatsReducer = createSlice({\r\n  name: 'chats',\r\n  initialState,\r\n  reducers: {\r\n    clearAll: () => initialState,\r\n    setChats: (state, action) => {\r\n      state.chats = action.payload;\r\n    },\r\n    setCurrentChat: (state, action) => {\r\n      state.currentChat = action.payload;\r\n    },\r\n  },\r\n\r\n  extraReducers: {\r\n    [getChatsAction.fulfilled]: (state, action) => {\r\n      state.messages = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [getChatsAction.pending]: (state, action) => {\r\n      state.loading = true;\r\n    },\r\n    [getChatsAction.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n    },\r\n    [getAllChatsAction.pending]: (state, action) => {\r\n      state.allChatsLoading = true;\r\n    },\r\n    [getAllChatsAction.fulfilled]: (state, action) => {\r\n      state.allChats = action.payload.chats;\r\n      state.archivedChats = action.payload.archivedChats;\r\n      state.allChatsLoading = false;\r\n    },\r\n    [getAllChatsAction.rejected]: (state, action) => {\r\n      state.allChatsLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setChats: setChatsAction,\r\n  setCurrentChat: setCurrentChatAction,\r\n  clearAll: clearAllChatsAction,\r\n} = chatsReducer.actions;\r\n\r\nexport default chatsReducer.reducer;\r\n","import url from '../config/apiConfig'\r\nimport { parseObjectOfArrays } from '../helpers/Converters'\r\nimport axios from \"axios\"\r\n\r\nexport const getMessages = async (chatId, educatorId, token) => {\r\n  try {\r\n    let result = await axios\r\n        .get(`${url}/message?chatId=${chatId}&educatorId=${educatorId}`, {headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }, timeout: 10000 })\r\n    if (result?.data) {\r\n      return result.data\r\n    }\r\n  } catch (error) {\r\n      console.log('error',error);\r\n      \r\n      return error\r\n  }\r\n}\r\n\r\nexport const getEducatorIds = async (educatorId, token) => {\r\n  try {\r\n    let result;\r\n    Object.keys(educatorId)[0] === 'adminId' ? \r\n    result = await axios.get(`${url}/educator?get=all&adminId=${educatorId.adminId}&educatorId=${educatorId}`, {headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }})\r\n    : \r\n    result = await axios.get(`${url}/educator?get=all&${educatorId}&educatorId=${educatorId}`, {headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }})\r\n     \r\n    if (result.data) {\r\n      let educators = {}\r\n      result.data.forEach((educator) => {\r\n        let { name, id } = JSON.parse(educator)\r\n        educators[id] = { name, id }\r\n      })\r\n      return educators;\r\n    }\r\n  } catch(err) {\r\n    console.log('Error getEducatorIds', err);\r\n  }\r\n}\r\n\r\nexport const getEducatorChats = async (educatorId, token) => {\r\n  const educators = await getEducatorIds(educatorId, token);\r\n  for (var i in educators) {\r\n    let chats = await getChats(educators[i].id, token)\r\n    if (chats) {\r\n      educators[i].chats = chats\r\n      educators[i].count = chats.length\r\n    }\r\n  }\r\n  return educators;\r\n}\r\n\r\nexport const getChats = async (educatorId, token) => {\r\n  try {\r\n    const filterDate = 'all';\r\n    const result = await axios.get(`${url}/chat?educatorId=${educatorId}&filterDate=${filterDate}`, {headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }})\r\n    if(result.data) {\r\n      if (result.data.error) {\r\n        return;\r\n      }\r\n      let chats = result.data?.chats?.map((item) => JSON.parse(item))\r\n      if(!chats) {\r\n        return []\r\n      }\r\n      return chats\r\n    }\r\n  } catch (error) {\r\n    console.log(\"Error getting chats:\", error);\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const getEducatorData = async ({educatorId, token}) => {\r\n  try {\r\n    const get = 'chats,appointments,educator,all';\r\n    const result = await axios.get(`${url}/educator?id=${educatorId}&get=${get}&educatorId=${educatorId}`, {headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }})\r\n    if(result.data) {\r\n      \r\n      const {data} = result;\r\n      const educator = JSON.parse(data.educator)\r\n      delete data.educator\r\n      let parsedData = parseObjectOfArrays(data);\r\n      const { appointments, chats, educators } = parsedData;\r\n      \r\n      return { chats, appointments, educator, educators};\r\n    }\r\n  } catch (error) {\r\n    console.log('getEducatorData Error', error);\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const isCaseHandler = async (educatorId, token) => {\r\n  \r\n  return axios.get(`${url}/educator?id=${educatorId}&get=educator&educatorId=${educatorId}`, {headers: {\r\n    Authorization: `Bearer ${token}`\r\n  }}).then((result) => {\r\n    \r\n    return result?.data?.isCaseHandler \r\n    \r\n  }).catch((e) => {\r\n    console.log('isCaseHandler error ',e);\r\n    \r\n  })\r\n}\r\n\r\nexport const logout = async (educatorId, token) => {\r\n  const body = {\r\n    educatorId,\r\n    notificationToken:\" \"\r\n  }\r\n  const result =  await axios.patch(`${url}/logout`,body,{headers: {\r\n    Authorization: `Bearer ${token}`}}).then((res) => {\r\n      \r\n    }).catch((e) => {\r\n      console.log('error ',e);\r\n      \r\n    })\r\n    return result\r\n} ","import url from '../config/apiConfig'\r\nimport { parseObjectOfArrays } from '../helpers/Converters'\r\nimport axios from \"axios\"\r\n\r\nexport const getAdminData = async ({educatorId, adminId, token}) => {\r\n  try {\r\n    const get = 'chats,appointments,educator,all';\r\n    const result = await axios.get(`${url}/educator?id=${educatorId}&get=${get}&adminId=${adminId}`, {headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }})\r\n    if(result.data) {\r\n      \r\n      const {data} = result;\r\n      const educator = JSON.parse(data.educator)\r\n      delete data.educator\r\n      let parsedData = parseObjectOfArrays(data);\r\n      const { appointments, chats, educators } = parsedData;\r\n      \r\n      return { chats, appointments, educator, educators};\r\n    }\r\n  } catch (error) {\r\n    console.log('getAdminData Error', error);\r\n  }\r\n}\r\n\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { isCaseHandler, getEducatorIds,getEducatorData } from '../../../API/apiEducator';\r\nimport { getAdminData } from '../../../API/apiAdmin';\r\nimport { commonState } from '../../../helpers/commonReducerState';\r\nexport const getEducatorsAndPatients = createAsyncThunk(\r\n  'educators/getEducatorsAndPatients',\r\n  async ({ educatorId, token },{rejectWithValue}) => {\r\n    \r\n    try {\r\n      const caseHandler = await isCaseHandler(educatorId,token)\r\n      if(caseHandler){\r\n        \r\n      const tempEducators = await getEducatorIds(educatorId, token);\r\n      \r\n      let patients = {}\r\n      for (var i in tempEducators) {\r\n        let educator = tempEducators[i]\r\n        let {chats, appointments, educators}= await getEducatorData({educatorId:educator.id, token})\r\n        const educatorData = educators?.find((filterEducator) => {\r\n          return filterEducator?.id === educator?.id\r\n        })\r\n        tempEducators[i].specialty = educatorData?.specialty\r\n        const isCaseHandler = educatorData?.isCaseHandler\r\n        educator.isCaseHandler = isCaseHandler\r\n        if (chats) {\r\n          educator.chats = chats\r\n          educator.count = chats.length\r\n          chats.forEach((chat) => {\r\n            let patient = patients[chat.patientId]\r\n            if (!patient) {\r\n              patients[chat.patientId] = chat\r\n              patient= patients[chat.patientId]\r\n            }\r\n            if (patient && patient.educators) {\r\n              patient.educators.push({id: educator.id, name: educator.name})\r\n            }\r\n            else {\r\n              patient.educators = [{id: educator.id, name: educator.name}]\r\n            }\r\n          })\r\n          // break;\r\n  \r\n        }\r\n        if (appointments) {\r\n          tempEducators[i].appointments = appointments\r\n        }\r\n      \r\n      }\r\n      return {educators: tempEducators, patients};\r\n  }\r\n  else{\r\n    \r\n    let patients = {}\r\n    let {chats, appointments, educator}= await getEducatorData({educatorId, token})\r\n    \r\n    if (chats) {\r\n      educator.chats = chats\r\n      educator.count = chats.length\r\n      chats.forEach((chat) => {\r\n        let patient = patients[chat.patientId]\r\n        if (!patient) {\r\n          patients[chat.patientId] = chat\r\n          patient= patients[chat.patientId]\r\n        }\r\n        if (patient && patient.educators) {\r\n          patient.educators.push({id: educator.id, name: educator.name})\r\n        }\r\n        else {\r\n          patient.educators = [{id: educator.id, name: educator.name}]\r\n        }\r\n      })\r\n      \r\n\r\n    }\r\n    \r\n    if (appointments) {\r\n      educator.appointments = appointments\r\n    }\r\n    const tempEducators = [educator]\r\n    \r\n    return {educators: tempEducators,patients}\r\n  }\r\n\r\n}\r\n    catch (error) {\r\n      console.log(' Error getEducatorsAndPatients', error);\r\n      return rejectWithValue(error)\r\n    }\r\n  }\r\n);\r\nexport const getAllEducators = createAsyncThunk(\r\n  'educators/getAllEducators',\r\n  async({adminId, token}, {rejectWithValue}) => {\r\n    const tempEducators = await getEducatorIds({adminId}, token);\r\n      \r\n      let patients = {}\r\n      for (var i in tempEducators) {\r\n        let educator = tempEducators[i]\r\n        let {chats, appointments, educators}= await getAdminData({educatorId: educator.id, adminId, token})\r\n        const educatorData = educators?.find((filterEducator) => {\r\n          return filterEducator?.id === educator?.id\r\n        })\r\n        tempEducators[i].specialty = educatorData?.specialty\r\n        const isCaseHandler = educatorData?.isCaseHandler\r\n        educator.isCaseHandler = isCaseHandler\r\n        if (chats) {\r\n          educator.chats = chats\r\n          educator.count = chats.length\r\n          chats.forEach((chat) => {\r\n            let patient = patients[chat.patientId]\r\n            if (!patient) {\r\n              patients[chat.patientId] = chat\r\n              patient= patients[chat.patientId]\r\n            }\r\n            if (patient && patient.educators) {\r\n              patient.educators.push({id: educator.id, name: educator.name})\r\n            }\r\n            else {\r\n              patient.educators = [{id: educator.id, name: educator.name}]\r\n            }\r\n          })\r\n          // break;\r\n  \r\n        }\r\n        if (appointments) {\r\n          tempEducators[i].appointments = appointments\r\n        }\r\n      \r\n      }\r\n      return {educators: tempEducators, patients};\r\n  }\r\n)\r\nconst initialState = {\r\n  educators: [],\r\n  patients: [],\r\n  fetchedEducatorId: '',\r\n  currentEducator:'',\r\n  ...commonState\r\n};\r\nconst educatorsReducer = createSlice({\r\n  name: 'educators',\r\n  initialState,\r\n  reducers: {\r\n    clearAll: () => initialState,\r\n    setFetchedEducatiorId: (state, action) => {\r\n        state.fetchedEducatorId = action.payload\r\n    },\r\n    setCurrentEducator: (state, action) => {\r\n      state.currentEducator = action.payload\r\n    }\r\n  },\r\n\r\n  extraReducers: {\r\n      [getEducatorsAndPatients.fulfilled]: (state, action) => {\r\n          state.educators = action.payload.educators\r\n          state.patients = action.payload.patients\r\n          state.loading = false\r\n      },\r\n      [getEducatorsAndPatients.pending]: (state, action) => {\r\n          state.loading = true\r\n      },\r\n      [getEducatorsAndPatients.rejected]: (state, action) => {\r\n          state.loading = false\r\n      },\r\n      [getAllEducators.fulfilled]: (state, action) => {\r\n          state.educators = action.payload.educators\r\n          state.patients = action.payload.patients\r\n          state.loading = false\r\n      },\r\n      [getAllEducators.pending]: (state, action) => {\r\n          state.loading = true\r\n      },\r\n      [getAllEducators.rejected]: (state, action) => {\r\n          state.loading = false\r\n      },\r\n  },\r\n});\r\n\r\nexport const {\r\n    clearAll: clearAllEducatorsAction,\r\n    setFetchedEducatiorId: setFetchedEducatorIdReducer,\r\n    setCurrentEducator: setCurrentEducatorAction\r\n} = educatorsReducer.actions;\r\n\r\nexport default educatorsReducer.reducer;","import url from '../config/apiConfig';\r\nimport axios from 'axios';\r\nimport { parseArray } from '../helpers/Converters';\r\n\r\nexport const getPatient = async ({educatorId, token, patientId}) => {\r\n  try {\r\n    const result = await axios.get(\r\n      `${url}/patient?patientId=${patientId}&educatorId=${educatorId}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    \r\n    if (result.data) {\r\n      const { patient: unparsedPatient, patientProfile } = result.data;\r\n      const patient = JSON.parse(unparsedPatient);\r\n      return { patient, patientProfile };\r\n    }\r\n  } catch (error) {\r\n    console.log('getPatient Error', error);\r\n  }\r\n};\r\nexport const getPatientAdmin = async ({adminId, token, patientId}) => {\r\n  try {\r\n    const result = await axios.get(\r\n      `${url}/patient?patientId=${patientId}&adminId=${adminId}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    if (result.data) {\r\n      const { patient: unparsedPatient, patientProfile } = result.data;\r\n      const patient = JSON.parse(unparsedPatient);\r\n      return { patient, patientProfile };\r\n    }\r\n  } catch (error) {\r\n    console.log('getPatient Error', error);\r\n  }\r\n};\r\nexport const getAppointments = async (patientId, token, educatorId) => {\r\n  try {\r\n    const result = await axios.get(\r\n      `${url}/appointment?patientId=${patientId}&educatorId=${educatorId}&get=one`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    if (result.data) {\r\n      const parsedPatient = parseArray(result.data) \r\n      return parsedPatient;\r\n    }\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { getPatient, getAppointments, getPatientAdmin } from '../../../API/apiPatient';\r\nimport { commonState } from '../../../helpers/commonReducerState';\r\n\r\nexport const getPatientAction = createAsyncThunk(\r\n  'patient/getPatientAction',\r\n  async ({ educatorId, token, patientId, adminId }, { rejectWithValue }) => {\r\n    if(adminId){\r\n      \r\n      return await getPatientAdmin({adminId:adminId, token, patientId})\r\n        .then((patientData) => {\r\n  \r\n          return patientData?.patientProfile;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          return rejectWithValue(e);\r\n        });\r\n    } else {\r\n\r\n      return await getPatient({educatorId, token, patientId})\r\n        .then((patientData) => {\r\n  \r\n          return patientData?.patientProfile;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          return rejectWithValue(e);\r\n        });\r\n    }\r\n  }\r\n);\r\nexport const getAppointmentsAction = createAsyncThunk(\r\n  'patinet/getAppointmentsAction',\r\n  async ({ educatorId, token, patientId }, { rejectWithValue }) => {\r\n    return await getAppointments(patientId, token, educatorId)\r\n      .then((data) => {\r\n        if (data) return data;\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        rejectWithValue(e);\r\n      });\r\n  }\r\n);\r\nconst initialState = {\r\n  patientProfile: null,\r\n  patientId: null,\r\n  appointments: null,\r\n  ...commonState,\r\n};\r\nconst patientReducer = createSlice({\r\n  name: 'patient',\r\n  initialState,\r\n  reducers: {\r\n    clearAll: () => initialState,\r\n    setPatientId: (state, action) => {\r\n      state.patientId = action.payload;\r\n    },\r\n  },\r\n\r\n  extraReducers: {\r\n    [getPatientAction.fulfilled]: (state, action) => {\r\n      state.patientProfile = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [getPatientAction.rejeceted]: (state, action) => {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [getPatientAction.pending]: (state, action) => {\r\n      state.loading = true;\r\n    },\r\n    [getAppointmentsAction.fulfilled]: (state, action) => {\r\n      state.appointments = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setPatientId: setPatientIdAction,\r\n  clearAll: clearAllPatientAction,\r\n} = patientReducer.actions;\r\n\r\nexport default patientReducer.reducer;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { blue } from '@material-ui/core/colors';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport KeyboardBackspaceIcon from '@material-ui/icons/KeyboardBackspace';\r\n\r\nconst useStyles = makeStyles({\r\n  avatar: {\r\n    backgroundColor: blue[100],\r\n    color: blue[600],\r\n  },\r\n});\r\nconst PopUpProfile = ({\r\n  setOpen,\r\n  open,\r\n  setOldPassword,\r\n  setNewPassword,\r\n  setNewPasswordVerify,\r\n  handleResetSubmit,\r\n  error,\r\n}) => {\r\n  const [page, setPage] = useState('profile');\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={() => {\r\n        setOpen(false);\r\n      }}\r\n      open={open}\r\n    >\r\n      <div style={{ height: 400, width: 600 }}>\r\n        {page === 'profile' ? (\r\n          <div> \r\n\r\n        <DialogTitle style={{ textAlign: 'center' }} id=\"simple-dialog-title\">\r\n          Profile\r\n        </DialogTitle>\r\n<Typography style={{backgroundColor:'lightblue', marginLeft:10,textAlign:'center' ,width:580, height:40, }}>Name: </Typography>\r\n          <Button\r\n          style={{width:580, height:40, backgroundColor:'lightblue', marginLeft:10,marginTop:10}}\r\n            onClick={() => {\r\n              setPage('reset');\r\n            }}\r\n          >\r\n            Reset Password\r\n          </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <DialogTitle style={{ textAlign: 'center' }} id=\"simple-dialog-title\">\r\n          Reset Password\r\n        </DialogTitle>\r\n            <Button style={{backgroundColor:'lightblue', marginLeft:10}} onClick={() => {setPage('profile')}}> \r\n              <KeyboardBackspaceIcon />\r\n            </Button>\r\n            <FormControl\r\n              style={{ width: 580, marginTop: 10, marginLeft: 10 }}\r\n              fullWidth\r\n              className={classes.margin}\r\n              variant=\"outlined\"\r\n            >\r\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\r\n                Old Password\r\n              </InputLabel>\r\n              <OutlinedInput\r\n                type=\"password\"\r\n                // value={values.amount}\r\n                onChange={(e) => {\r\n                  setOldPassword(e.target.value);\r\n                }}\r\n                // startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\r\n                labelWidth={50}\r\n              />\r\n            </FormControl>\r\n            <FormControl\r\n              style={{ width: 580, marginTop: 10, marginLeft: 10 }}\r\n              fullWidth\r\n              className={classes.margin}\r\n              variant=\"outlined\"\r\n            >\r\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\r\n                New Password\r\n              </InputLabel>\r\n              <OutlinedInput\r\n                type=\"password\"\r\n                // value={values.amount}\r\n                onChange={(e) => {\r\n                  setNewPassword(e.target.value);\r\n                }}\r\n                // startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\r\n                labelWidth={50}\r\n              />\r\n            </FormControl>\r\n            <FormControl\r\n              style={{ width: 580, marginTop: 10, marginLeft: 10 }}\r\n              fullWidth\r\n              className={classes.margin}\r\n              variant=\"outlined\"\r\n            >\r\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\r\n                New Password\r\n              </InputLabel>\r\n              <OutlinedInput\r\n                type=\"password\"\r\n                // value={values.amount}\r\n                onChange={(e) => {\r\n                  setNewPasswordVerify(e.target.value);\r\n                }}\r\n                // startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\r\n                labelWidth={50}\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              style={{\r\n                backgroundColor: 'lightblue',\r\n                width: 580,\r\n                marginTop: 10,\r\n                marginLeft: 10,\r\n              }}\r\n              onClick={() => {\r\n                handleResetSubmit();\r\n              }}\r\n              variant=\"primary\"\r\n            >\r\n              Submit\r\n            </Button>\r\n            <InputLabel\r\n              style={{ textAlign: 'center', marginTop: 10, color: 'red' }}\r\n            >\r\n              {error}\r\n            </InputLabel>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\nexport default PopUpProfile;\r\n","export const mainTheme = {\r\n  primary: {\r\n    black: '#042c42',\r\n    red: '#ee3d60',\r\n    white: '#ffffff',\r\n    bluishWhite: '#EDF8FF',\r\n  },\r\n  secondary: {\r\n    lightBlue: '#d2edf4 ',\r\n    mainBlue: '#51c7ea',\r\n    darkBlue: '#005792',\r\n    orange: '#fbbd33',\r\n  },\r\n};\r\nexport const darkTheme = {\r\n  primary: {\r\n    black: '#042639',\r\n    red: '#D03554',\r\n    white: '#ffffff',\r\n    bluishWhite: '#CFD9DF',\r\n  },\r\n  secondary: {\r\n    lightBlue: '#B8CFD6',\r\n    mainBlue: '#337C92',\r\n    darkBlue: '#003B52',\r\n    orange: '#BC8E26',\r\n    lightGrey: '#CBCBCB',\r\n  },\r\n};\r\n","import { darkTheme, mainTheme } from './themes';\r\nconst theme = mainTheme;\r\nexport const lightStyles = {\r\n  root: {\r\n    // flexGrow: 1,\r\n    width: '100%',\r\n    height: '5%',\r\n  },\r\n  tabs: {\r\n    backgroundColor: darkTheme.secondary.lightBlue,\r\n    height: '100%',\r\n  },\r\n  logout: {\r\n    fontSize: 20,\r\n    color: 'black',\r\n    width: 30,\r\n    height: 50,\r\n    marginLeft:25,\r\n    transform: [{ rotate: '90deg' }],\r\n  },\r\n  footerAppBar: {\r\n    top: 'auto',\r\n    bottom: 0,\r\n    width: '100%',\r\n    height: '5%',\r\n    backgroundColor: darkTheme.secondary.lightBlue,\r\n    alignItems: 'center',\r\n  },\r\n  navLogo: {\r\n    marginTop: 5,\r\n  },\r\n  footerLogo: {\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  customTabDiv: {\r\n    width: 200,\r\n    minWidth:140,\r\n    height: 50,\r\n    fontSize: 25,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    verticalAlign: 'center',\r\n    textTransform: 'none'\r\n  },\r\n  text: {\r\n    textAlign: 'center',\r\n    verticalAlign: 'center',\r\n    top: 0,\r\n    position: 'relative',\r\n    fontSize: 20,\r\n    flexDirection: 'row',\r\n    display: 'flex',\r\n    marginBottom: -5,\r\n  },\r\n  icon: { marginRight: 10 },\r\n  tabDiv: { fontSize: 16, marginBottom: 2 },\r\n};\r\nexport const darkStyles = {\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    height: 50,\r\n    backgroundColor: theme.secondary.darkBlue,\r\n  },\r\n  tabs: {\r\n    backgroundColor: theme.secondary.darkBlue,\r\n    height: 50,\r\n  },\r\n  logout: {\r\n    fontSize: 20,\r\n    color: 'black',\r\n    width: 30,\r\n    height: 50,\r\n    marginLeft:25,\r\n    transform: [{ rotate: '90deg' }],\r\n  },\r\n  footerAppBar: {\r\n    top: 'auto',\r\n    bottom: 0,\r\n    width: '100%',\r\n    height: '5%',\r\n    backgroundColor: theme.secondary.darkBlue,\r\n    alignItems: 'center',\r\n  },\r\n  navLogo: {\r\n    marginTop: 5,\r\n  },\r\n  footerLogo: {\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  customTabDiv: {\r\n    width: 200,\r\n    minWidth:140,\r\n    height: 50,\r\n    fontSize: 25,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    verticalAlign: 'center',\r\n    textTransform: 'none'\r\n  },\r\n  text: {\r\n    textAlign: 'center',\r\n    verticalAlign: 'center',\r\n    top: 0,\r\n    position: 'relative',\r\n    fontSize: 20,\r\n    flexDirection: 'row',\r\n    display: 'flex',\r\n    marginBottom: -5,\r\n    color: darkTheme.secondary.lightGrey,\r\n  },\r\n  icon: { marginRight: 10 },\r\n  tabDiv: { fontSize: 16, marginBottom: 2, color: darkTheme.secondary.lightGrey, },\r\n};","import React, { useEffect, useState } from 'react';\r\nimport logo from '../assets/logo-dark-notext.png';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n//redux\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  clearAllAuthAction,\r\n  logoutAction,\r\n  resetPasswordAction,\r\n  setResetErrorAction\r\n} from '../redux/reducers/authReducer';\r\nimport { clearAllChatsAction } from '../redux/reducers/chatsReducer';\r\nimport {\r\n  clearAllEducatorsAction,\r\n  getEducatorsAndPatients,\r\n  setFetchedEducatorIdReducer,\r\n  getAllEducators,\r\n} from '../redux/reducers/educatorsReducer';\r\nimport { clearAllPatientAction } from '../redux/reducers/patientReducer';\r\n\r\nimport PopUpProfile from './PopUpProfile';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport { lightStyles, darkStyles } from '../styles/myNavStyles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport { Typography } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\r\n\r\nimport app from '../App.css';\r\n\r\nconst MyNav = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const [localEducators, setLocalEducators] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const [oldPassword, setOldPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [newPasswordVerify, setNewPasswordVerify] = useState('');\r\n  const [value, setValue] = useState(2);\r\n  const { educators, loading, fetchedEducatorId } = useSelector(\r\n    (state) => state.educators\r\n  );\r\n  const { educatorId, token, darkMode, admin, resetError } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n    \r\n  useEffect(() => {\r\n    if (admin) {\r\n      dispatch(getAllEducators({ adminId: educatorId, token }));\r\n    } else {\r\n      dispatch(getEducatorsAndPatients({ educatorId, token }));\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    //sort educators first casehandlers then the rest\r\n    if (educators) {\r\n      setLocalEducators(\r\n        Object.values(educators).sort((first, second) => {\r\n          if (first?.isCaseHandler === second?.isCaseHandler) return 0;\r\n          else {\r\n            if (first?.isCaseHandler) return -1;\r\n            else return 1;\r\n          }\r\n        })\r\n      );\r\n    }\r\n  }, [educators]);\r\n\r\n  useEffect(() => {\r\n    let placeValue = 0;\r\n    if (localEducators) {\r\n      Object.values(localEducators).forEach((educator, index) => {\r\n        if (educator?.id === fetchedEducatorId) placeValue = index;\r\n      });\r\n      if(admin) \r\n      setValue(placeValue + 3);\r\n      else\r\n      setValue(placeValue + 2);\r\n\r\n    }\r\n  }, [fetchedEducatorId]);\r\n  const logout = () => {\r\n    dispatch(clearAllAuthAction());\r\n    dispatch(clearAllEducatorsAction());\r\n    dispatch(clearAllChatsAction());\r\n    dispatch(clearAllPatientAction());\r\n    if (admin) dispatch(logoutAction({ adminId: educatorId, token }));\r\n    else dispatch(logoutAction({ educatorId, token }));\r\n    history.replace('/');\r\n  };\r\n\r\n  const RenderEducator = (id) => {\r\n    dispatch(setFetchedEducatorIdReducer(id));\r\n  };\r\n  \r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleResetSubmit = () => {\r\n    if (newPassword === newPasswordVerify)\r\n      dispatch(\r\n        resetPasswordAction({\r\n          adminId: educatorId,\r\n          token,\r\n          oldPassword,\r\n          newPassword,\r\n        })\r\n      );\r\n      else \r\n      dispatch(setResetErrorAction('Passwords don\\'t match'))\r\n  };\r\n  return (\r\n    <div style={styles.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}   \r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          style={styles.tabs}\r\n        >\r\n          <img\r\n            alt=\"\"\r\n            src={logo}\r\n            width=\"110\"\r\n            height=\"35\"\r\n            style={styles.navLogo}\r\n          />\r\n          {admin ? \r\n          <>\r\n\r\n            <Button onClick={handleClickOpen}>\r\n              <PermIdentityIcon />\r\n            </Button>\r\n            <PopUpProfile\r\n              open={open}\r\n              setOpen={setOpen}\r\n              setOldPassword={setOldPassword}\r\n              setNewPassword={setNewPassword}\r\n              setNewPasswordVerify={setNewPasswordVerify}\r\n              handleResetSubmit={handleResetSubmit}\r\n              error={resetError}\r\n            /> \r\n          </>\r\n          : null\r\n          }\r\n          <Button style={styles.logout}>\r\n            <ExitToAppIcon className=\"logout\" onClick={() => logout()} />\r\n          </Button>\r\n          {Object.keys(localEducators).length\r\n            ? Object.values(localEducators).map((educator) => {\r\n                return (\r\n                  <Button\r\n                    style={styles.customTabDiv}\r\n                    onClick={() => RenderEducator(educator.id)}\r\n                  >\r\n                    <div style={styles.tabDiv}>\r\n                      <Typography style={styles.text}>\r\n                        <div style={styles.icon}>\r\n                          {educator?.isCaseHandler ? (\r\n                            <AssignmentIndIcon />\r\n                          ) : (\r\n                            <PersonIcon />\r\n                          )}\r\n                        </div>\r\n                        {educator.name}\r\n                      </Typography>\r\n                      <text>{educator?.specialty}</text>\r\n                    </div>\r\n                  </Button>\r\n                );\r\n              })\r\n            : ''}\r\n        </Tabs>\r\n        {loading ? <LinearProgress /> : null}\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\nexport default MyNav;\r\n","import React from \"react\";\r\nimport logo from \"../assets/logo-dark-notext.png\";\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport {darkStyles,lightStyles} from '../styles/myNavStyles'\r\nimport { useSelector } from \"react-redux\";\r\nconst Footer = () => {\r\n  const {darkMode } = useSelector((state) => state.auth)\r\n\r\n  const styles = !darkMode ? lightStyles : darkStyles\r\n\r\n  return (\r\n    <AppBar position=\"fixed\" color=\"black\" style={styles.footerAppBar}>\r\n      <img\r\n        alt=\"\"\r\n        src={logo}\r\n        width=\"100\"\r\n        height=\"40\"\r\n        className=\"d-inline-block align-top\"\r\n        style={styles.footerLogo}\r\n      />\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { darkTheme } from './themes';\r\n\r\nexport const lightStyles = {\r\n  root: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  chatDiv: {\r\n    position: 'relative',\r\n    height: '80%',\r\n    width: '96%',\r\n  },\r\n  messageFooter: {\r\n    ontSize: 10,\r\n  },\r\n  customMessage: {\r\n    fontSize: 17,\r\n  },\r\n  messagelistContent: {\r\n    // backgroundColor: mainTheme.primary.white,\r\n  },\r\n  separatorDiv: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    alignContent: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    marginLeft: 30,\r\n  },\r\n  leftLine: {\r\n    flex: 4,\r\n    height: 1,\r\n    backgroundColor: 'grey',\r\n  },\r\n  rightLine: {\r\n    flex: 4,\r\n    height: 1,\r\n    backgroundColor: 'grey',\r\n    marginRight: 30,\r\n  },\r\n  date: {\r\n    flex: 2,\r\n    textAlign: 'center',\r\n  },\r\n  statsDiv: {\r\n    color: 'black',\r\n  },\r\n  emptyMessages: {\r\n    color: 'black',\r\n  },\r\n  chatScrollDiv: {\r\n    overflow: 'auto',\r\n    height: '65vh',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column-reverse',\r\n    backgroundColor: '#F4FBFF',\r\n  },\r\n};\r\nexport const darkStyles = {\r\n  root: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  chatDiv: {\r\n    position: 'relative',\r\n    height: '80%',\r\n    width: '96%',\r\n  },\r\n  messageFooter: {\r\n    ontSize: 10,\r\n  },\r\n  customMessage: {\r\n    fontSize: 17,\r\n  },\r\n  messagelistContent: {\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  separatorDiv: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    alignContent: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    marginLeft: 30,\r\n  },\r\n  leftLine: {\r\n    flex: 4,\r\n    height: 1,\r\n    backgroundColor: 'grey',\r\n  },\r\n  rightLine: {\r\n    flex: 4,\r\n    height: 1,\r\n    backgroundColor: 'grey',\r\n    marginRight: 30,\r\n  },\r\n  date: {\r\n    flex: 2,\r\n    textAlign: 'center',\r\n  },\r\n  statsDiv: {\r\n    color: darkTheme.secondary.lightGrey,\r\n  },\r\n  emptyMessages: {\r\n    color: darkTheme.secondary.lightGrey,\r\n  },\r\n  chatScrollDiv: {\r\n    overflow: 'auto',\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column-reverse',\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { darkStyles, lightStyles } from '../styles/chatStyles';\r\n\r\nconst CustomSeparator = ({ date, darkMode }) => {\r\n  const Styles = !darkMode ? lightStyles : darkStyles;\r\n  const d = new Date(date);\r\n  const days = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n  ];\r\n  return (\r\n    <div style={Styles.separatorDiv}>\r\n      <div style={Styles.leftLine} />\r\n      <div style={Styles.date}>\r\n        {date}, {days[d.getDay()]}\r\n      </div>\r\n      <div style={Styles.rightLine} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomSeparator;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styles from '@chatscope/chat-ui-kit-styles/dist/default/styles.min.css';\r\nimport { Message } from '@chatscope/chat-ui-kit-react';\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport { darkStyles, lightStyles } from '../../styles/chatStyles';\r\nimport { formatMessages } from './helpers';\r\nimport CustomSeparator from '../../components/CustomSeparator';\r\nimport Linkify from 'react-linkify';\r\n\r\nimport { getChatsAction } from '../../redux/reducers/chatsReducer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst Chat = () => {\r\n  const dispatch = useDispatch();\r\n  const [localMessages, setLocalMessages] = useState([]);\r\n  const [duration, setDuration] = useState(0);\r\n  const [lang, setLang] = useState({\r\n    ar: {\r\n      messageCount: 'عدد الرسائل',\r\n      usageDuration: 'مدة الاستخدام',\r\n      emptyConvo: 'المحادثة فارغة',\r\n    },\r\n  });\r\n\r\n  const { token, educatorId, darkMode, admin } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n  const { messages, loading, currentChat } = useSelector(\r\n    (state) => state.chats\r\n  );\r\n\r\n  const localStyles = !darkMode ? lightStyles : darkStyles;\r\n  const componentDecorator = (href, text, key) => (\r\n    <a href={href} key={key} target=\"_blank\" rel=\"noopener noreferrer\">\r\n      {text}\r\n    </a>\r\n  );\r\n  useEffect(() => {\r\n    let chatId = currentChat;\r\n    if (admin) {\r\n      dispatch(\r\n        getChatsAction({\r\n          chatId,\r\n          token,\r\n          educatorId,\r\n          adminId: educatorId,\r\n        })\r\n      );\r\n    } else {\r\n      dispatch(\r\n        getChatsAction({\r\n          chatId,\r\n          token,\r\n          educatorId,\r\n        })\r\n      );\r\n    }\r\n  }, [currentChat]);\r\n  useEffect(() => {\r\n    const messagesAndDuration = formatMessages(messages);\r\n    setLocalMessages(messagesAndDuration.formatedMessages.reverse());\r\n    setDuration(messagesAndDuration.duration);\r\n  }, [messages]);\r\n  return (\r\n    <div style={localStyles.root}>\r\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n        <div style={localStyles.statsDiv}>\r\n          {localMessages.length} :{lang.ar.messageCount} <br />\r\n          {lang.ar.usageDuration}: {duration} {'يوم'}\r\n        </div>\r\n        {loading ? (\r\n          <CircularProgress animation=\"border\" />\r\n        ) : !localMessages.length ? (\r\n          <div style={localStyles.emptyMessages}>{lang.ar.emptyConvo} </div>\r\n        ) : null}\r\n      </div>\r\n      <div style={localStyles.chatDiv}>\r\n        <div style={localStyles.chatScrollDiv}>\r\n          {localMessages.map((message) => (\r\n            <div key={message.id}>\r\n              {message.message?.date && (\r\n                <CustomSeparator\r\n                  date={message.message.date}\r\n                  darkMode={darkMode}\r\n                />\r\n              )}\r\n              {message.message?.image ? (\r\n                <Message\r\n                  model={{\r\n                    message: message.message.text,\r\n                    direction: message.userId,\r\n                  }}\r\n                >\r\n                <Message.ImageContent\r\n                  src={message.message.image}\r\n                    alt={\r\n                      \"The image isn't working link: \" + message.message.image\r\n                    }\r\n                  width={400}\r\n                />\r\n                </Message>\r\n              ) : message.message?.audio ? (\r\n                <Message\r\n                  model={{\r\n                    message: message.message.text,\r\n                    direction: message.userId,\r\n                    type: 'image',\r\n                  }}\r\n                >\r\n                  <Message.CustomContent>\r\n                <ReactAudioPlayer src={message.message.audio} controls />\r\n                  </Message.CustomContent>\r\n                </Message>\r\n              ) : message.message?.file ? (\r\n                <Message\r\n                  model={{\r\n                    message: message.message.text,\r\n                    direction: message.userId,\r\n                  }}\r\n                >\r\n                  <Message.CustomContent>\r\n                    <a\r\n                      href={message.message.file}\r\n                      target=\"_blank\"\r\n                      download\r\n                      rel=\"noreferrer\"\r\n                    >\r\n                      {message.message.text}\r\n                    </a>\r\n                  </Message.CustomContent>\r\n                  <Message.Footer>\r\n                    <div style={localStyles.messageFooter}>\r\n                      {new Date(\r\n                        Date.parse(message.message.createdOn)\r\n                      ).toLocaleTimeString()}\r\n                    </div>\r\n                  </Message.Footer>\r\n                </Message>\r\n              ) : (\r\n                <Message\r\n                  model={{\r\n                    message: message.message.text,\r\n                    direction: message.userId,\r\n                  }}\r\n                >\r\n                  <Message.CustomContent>\r\n                    <div style={localStyles.customMessage}>\r\n                      <Linkify componentDecorator={componentDecorator}>\r\n                        {message.message.text}\r\n                      </Linkify>\r\n                    </div>\r\n                  </Message.CustomContent>\r\n                  <Message.Footer>\r\n                    <div style={localStyles.messageFooter}>\r\n                      {new Date(\r\n                        Date.parse(message.message.createdOn)\r\n                      ).toLocaleTimeString()}\r\n                    </div>\r\n                  </Message.Footer>\r\n                </Message>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","export const formatMessages = (messages = []) => {\r\n  const imgTypes = ['png', 'jpg', 'jpeg', 'gif'];\r\n  const fileTypes = ['pdf', 'doc', 'docx'];\r\n  const audioTypes = ['mp3', '3gp', 'caf', 'wav', 'wave', 'm4a', 'aac'];\r\n  let duration = 0;\r\n\r\n  let formatedMessages = [];\r\n  let date;\r\n  for (var i in messages) {\r\n    let message = {};\r\n    Object.assign(message, messages[i]);\r\n    let id = parseInt(message.user._id) - 1;\r\n    if (message.media) {\r\n      var fileNameArr = message.media.split('.');\r\n      var fileExtension = fileNameArr[fileNameArr.length - 1];\r\n      var isImg = imgTypes.includes(fileExtension.split('?')[0]);\r\n      var isFile = fileTypes.includes(fileExtension.split('?')[0]);\r\n      var isAudio = audioTypes.includes(fileExtension.split('?')[0]);\r\n      if (isImg) {\r\n        if (date !== message.createdOn.split('T')[0]) {\r\n          duration++;\r\n          message.message = { image: message.media };\r\n          message.message.date = message.createdOn.split('T')[0];\r\n          date = message.createdOn.split('T')[0];\r\n        } else {\r\n          message.message = { image: message.media };\r\n          message.message.text = message.text;\r\n        }\r\n        delete message.media;\r\n      } else if (isFile) {\r\n        message.message = { text: message.text, file: message.media };\r\n        delete message.media;\r\n      } else if (isAudio) {\r\n        message.media = message.media.replace('vnd.wave', 'wav');\r\n        message.message = { audio: message.media };\r\n        message.message.text = message.text;\r\n        delete message.media;\r\n      } else {\r\n        message.message = {\r\n          text: 'this link is corrupted: ' + message.media,\r\n        };\r\n      }\r\n    } else if (message.text) {\r\n      if (date !== message.createdOn.split('T')[0]) {\r\n        duration++;\r\n        message.message = { text: message.text };\r\n        message.message.date = message.createdOn.split('T')[0];\r\n        date = message.createdOn.split('T')[0];\r\n      } else {\r\n        message.message = { text: message.text };\r\n      }\r\n    } else {\r\n      message.message = { text: '' };\r\n    }\r\n    message.message.createdOn = message.createdOn;\r\n    let userId;\r\n    if (id === 0) userId = 'outgoing';\r\n    else userId = 'incoming';\r\n    const createdOn = message.message.createdOn.split('T');\r\n    message.message.createdOn = createdOn;\r\n    let formattedMessage = { userId, message: message.message };\r\n\r\n    formatedMessages.push(formattedMessage);\r\n  }\r\n  const messagesAndDuration = { formatedMessages, duration };\r\n  return messagesAndDuration;\r\n};\r\n","import { mainTheme, darkTheme } from './themes';\r\nconst theme = mainTheme;\r\nexport const lightStyles = {\r\n  root: {\r\n    flex: 1,\r\n    width: '95%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  },\r\n  flex1: {\r\n    flex: 1,\r\n  },\r\n  chartWrapper: {\r\n    width: '100%',\r\n    height: '100%',\r\n    marginTop: 10,\r\n  },\r\n  chartDiv: {\r\n    width: '100%',\r\n    height: '30.4%',\r\n  },\r\n  rightLowerCorner: {\r\n    width: '30vw',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    marginLeft: '1vw',\r\n    marginTop: '1vh',\r\n    height: '39.3vh',\r\n  },\r\n  text: {\r\n    textAlign: 'center',\r\n    verticalAlign: 'center',\r\n    top: 0,\r\n    position: 'relative',\r\n    color: theme.primary.red,\r\n    fontSize: 20,\r\n  },\r\n  leftSideCard: {\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    height: '15vh',\r\n    margin: 10,\r\n    fontSize: 20,\r\n    alignVertical: 'center',\r\n    alignSelf: 'center',\r\n    justifyContent: 'center', //Centered vertically\r\n    alignItems: 'center',\r\n  },\r\n  rightSideCard: {\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    height: '15vh',\r\n    marginTop: 10,\r\n    fontSize: 20,\r\n    alignVertical: 'center',\r\n    alignSelf: 'center',\r\n    justifyContent: 'center', //Centered vertically\r\n    alignItems: 'center',\r\n  },\r\n  rightSideDiv: {\r\n    flex: 1,\r\n    width: '50%',\r\n  },\r\n  paper: {\r\n    textAlign: 'center',\r\n    width: '30vw',\r\n    height: '6vh',\r\n    margin: 10,\r\n    fontSize: 20,\r\n    alignVertical: 'center',\r\n    alignSelf: 'center',\r\n    justifyContent: 'center', //Centered vertically\r\n    alignItems: 'center',\r\n    color: mainTheme.primary.black,\r\n  },\r\n  chartMargin: {\r\n    top: 16,\r\n    right: 16,\r\n    bottom: 0,\r\n    left: 24,\r\n  },\r\n  medicineItems: {\r\n    listStyleType: 'none',\r\n    flex: 1,\r\n  },\r\n  medicinesText: {\r\n    listStyleType: 'none',\r\n    flex: 1,\r\n  },\r\n  patientName: {\r\n    flex: 1,\r\n    margin: 10,\r\n    height: '5vh',\r\n  },\r\n  clickPopever: {\r\n    width: '5vw',\r\n    margin: 10,\r\n    height: '5vh',\r\n  },\r\n  medicineTextPaper: {\r\n    width: '5vw',\r\n    margin: 10,\r\n    height: '5vh',\r\n  },\r\n  textColor: {\r\n    color: 'black',\r\n  },\r\n  educatorsDiv: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n  },\r\n  educatorsButton: {\r\n    width: '40%',\r\n    margin: 5,\r\n    backgroundColor: theme.secondary.lightBlue,\r\n  },\r\n  contentWrapper: {\r\n    flex: 1,\r\n    width: '50%',\r\n  },\r\n  rightBottomRightDiv: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    // flex: 1,\r\n    height: '50.8%',\r\n  },\r\n  rightSideLeftColumn: {\r\n    width: '50%',\r\n    marginRight: 10,\r\n  },\r\n  rightSideRightColumn: {\r\n    width: '50%',\r\n    height: '85%',\r\n  },\r\n};\r\nexport const darkStyles = {\r\n  root: {\r\n    flex: 1,\r\n    width: '95%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  },\r\n  flex1: {\r\n    flex: 1,\r\n  },\r\n  chartWrapper: {\r\n    width: '100%',\r\n    height: '100%',\r\n    marginTop: 10,\r\n    backgroundColor: darkTheme.primary.black,\r\n  },\r\n  chartDiv: {\r\n    width: '100%',\r\n    height: '30.4%',\r\n  },\r\n  rightLowerCorner: {\r\n    width: '30vw',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    marginLeft: '1vw',\r\n    marginTop: '1vh',\r\n    height: '39.3vh',\r\n  },\r\n  text: {\r\n    textAlign: 'center',\r\n    verticalAlign: 'center',\r\n    top: 0,\r\n    position: 'relative',\r\n    color: darkTheme.primary.red,\r\n    fontSize: 20,\r\n  },\r\n  leftSideCard: {\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    height: '15vh',\r\n    margin: 10,\r\n    fontSize: 20,\r\n    alignVertical: 'center',\r\n    alignSelf: 'center',\r\n    justifyContent: 'center', //Centered vertically\r\n    alignItems: 'center',\r\n    backgroundColor: darkTheme.primary.black,\r\n  },\r\n  rightSideCard: {\r\n    textAlign: 'center',\r\n    width: '100%',\r\n    height: '15vh',\r\n    marginTop: 10,\r\n    fontSize: 20,\r\n    alignVertical: 'center',\r\n    alignSelf: 'center',\r\n    justifyContent: 'center', //Centered vertically\r\n    alignItems: 'center',\r\n    backgroundColor: darkTheme.primary.black,\r\n  },\r\n  rightSideDiv: {\r\n    flex: 1,\r\n    width: '50%',\r\n  },\r\n  paper: {\r\n    textAlign: 'center',\r\n    width: '30vw',\r\n    height: '6vh',\r\n    margin: 10,\r\n    fontSize: 20,\r\n    alignVertical: 'center',\r\n    alignSelf: 'center',\r\n    justifyContent: 'center', //Centered vertically\r\n    alignItems: 'center',\r\n    color: mainTheme.primary.black,\r\n  },\r\n  chartMargin: {\r\n    top: 16,\r\n    right: 16,\r\n    bottom: 0,\r\n    left: 24,\r\n  },\r\n  medicineItems: {\r\n    listStyleType: 'none',\r\n    flex: 1,\r\n  },\r\n  medicinesText: {\r\n    listStyleType: 'none',\r\n    flex: 1,\r\n  },\r\n  patientName: {\r\n    flex: 1,\r\n    margin: 10,\r\n    height: '5vh',\r\n    backgroundColor: darkTheme.primary.black,\r\n  },\r\n  clickPopever: {\r\n    width: '5vw',\r\n    margin: 10,\r\n    height: '5vh',\r\n  },\r\n  medicineTextPaper: {\r\n    width: '5vw',\r\n    margin: 10,\r\n    height: '5vh',\r\n  },\r\n  textColor: { color: darkTheme.secondary.lightGrey },\r\n  educatorsDiv: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n  },\r\n  educatorsButton: {\r\n    width: '40%',\r\n    margin: 5,\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  contentWrapper: {\r\n    flex: 1,\r\n    width: '50%',\r\n  },\r\n  rightBottomRightDiv: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    // flex: 1,\r\n    height: '50%',\r\n  },\r\n  rightSideLeftColumn: {\r\n    width: '50%',\r\n    marginRight: 10,\r\n  },\r\n  rightSideRightColumn: {\r\n    width: '50%',\r\n    height: '85%',\r\n  },\r\n};\r\n","import React from 'react'\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport {lightStyles, darkStyles} from '../styles/patientProfileStyles'\r\nimport { useSelector } from 'react-redux';\r\nconst ProfileCard = ({text, description, style}) => {\r\n    const {darkMode} = useSelector((state) => state.auth)\r\n    const styles = !darkMode? lightStyles : darkStyles\r\n    return (\r\n      <Card color style={style}>\r\n        <CardContent>\r\n          <Typography style={styles.text} variant=\"h5\" component=\"h2\">\r\n            {description}\r\n          </Typography>\r\n          <Typography style={styles.textColor}>{text}</Typography>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\nexport default ProfileCard","import {darkTheme, mainTheme} from './themes'\r\nconst theme = mainTheme\r\nexport const lightStyles = {\r\n    root: {height:'80%',minHeight:'100%',maxHeight:310, },\r\n    card:{ width: '100%', height: '100%', marginTop: 10 },\r\n    text: {\r\n        textAlign: 'center',\r\n        verticalAlign: 'center',\r\n        top: 0,\r\n        position: 'relative',\r\n        color: theme.primary.red,\r\n        fontSize: 20,\r\n      },\r\n      listDiv:{ height: '90%', overflow: 'auto'},\r\n      button:{\r\n        width: '90%',\r\n        height: 40,\r\n        marginTop:10,\r\n        marginLeft: 15,\r\n        marginRight:15,\r\n        backgroundColor: theme.secondary.lightBlue,\r\n      }\r\n}\r\nexport const darkStyles = {\r\n    root: {height:'80%',minHeight:'100%',maxHeight:310, },\r\n    card:{ width: '100%', height: '100%', marginTop: 10 , backgroundColor:darkTheme.primary.black},\r\n    text: {\r\n        textAlign: 'center',\r\n        verticalAlign: 'center',\r\n        top: 0,\r\n        position: 'relative',\r\n        color: theme.primary.red,\r\n        fontSize: 20,\r\n      },\r\n      listDiv:{ height: '90%', overflow: 'auto'},\r\n      button:{\r\n        \r\n        width: '90%',\r\n        height: 40,\r\n        marginTop:10,\r\n        marginLeft: 15,\r\n        marginRight:15,\r\n        backgroundColor: darkTheme.secondary.mainBlue,\r\n      }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { darkStyles, lightStyles } from '../styles/patientAppointmentsStyles';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { setFetchedEducatorIdReducer } from '../redux/reducers/educatorsReducer';\r\nimport { getAppointmentsAction } from '../redux/reducers/patientReducer';\r\nimport { getAppointmentsEducators } from '../helpers';\r\nconst RenderAppointments = ({ patientId, educators, darkMode }) => {\r\n  const dispatch = useDispatch();\r\n  const [localAppointments, setLocalAppointments] = useState([]);\r\n  const { token, educatorId } = useSelector((state) => state.auth);\r\n  const { appointments } = useSelector((state) => state.patient);\r\n  useEffect(() => {\r\n    dispatch(getAppointmentsAction({ educatorId, token, patientId }));\r\n  }, [patientId]);\r\n  useEffect(() => {\r\n    if (appointments)\r\n      setLocalAppointments(getAppointmentsEducators(educators, appointments));\r\n  }, [appointments]);\r\n  const goToEducator = (educatorId) => {\r\n    dispatch(setFetchedEducatorIdReducer(educatorId));\r\n  };\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n  return (\r\n    <div style={styles.root}>\r\n      <Card style={styles.card}>\r\n        <Typography style={styles.text} variant=\"h5\" component=\"h2\">\r\n          Appointments\r\n        </Typography>\r\n        <div style={styles.listDiv}>\r\n          {localAppointments?.map((appointment) => {\r\n            return (\r\n              <Button\r\n              key={appointment.id}\r\n                variant=\"contained\"\r\n                onClick={() => goToEducator(appointment.educatorId)}\r\n                style={styles.button}\r\n              >\r\n                <div key={appointment.id}>\r\n                  {appointment.date.split('T')[0]} {appointment.name}\r\n                </div>\r\n              </Button>\r\n            );\r\n          })}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RenderAppointments;\r\n","export const concatProfile = (patientProfile, profileValue) => {\r\n  //getting prfileValue without the last character\r\n  const valueInside = profileValue.substring(0, profileValue.length - 1);\r\n  let result = '';\r\n  if (patientProfile?.[profileValue])\r\n    //concating each value srting to the result\r\n    patientProfile[profileValue].forEach((item) => {\r\n      result = result.concat(item?.[valueInside] + '\\n');\r\n    });\r\n  return result;\r\n};\r\nexport const getAppointmentsEducators = (educators, appointments) => {\r\n  const tempAppointments = [];\r\n  if (educators) {\r\n    educators.forEach((educator) => {\r\n      tempAppointments.push(\r\n        appointments\r\n          .filter((appointment) => {\r\n            return educator.id === appointment.educatorId;\r\n          })\r\n          .map((appointment) => {\r\n            return {\r\n              date: appointment.date,\r\n              educatorId: appointment.educatorId,\r\n              name: educator.name,\r\n            };\r\n          })\r\n      );\r\n    });\r\n  }\r\n\r\n  return tempAppointments.flat();\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  ResponsiveContainer,\r\n  Label,\r\n  Tooltip,\r\n  Legend,\r\n} from 'recharts';\r\nimport { lightStyles as styles } from '../styles/patientProfileStyles';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nconst ProfileChart = ({ text, hba1cs, weights, height }) => {\r\n  const theme = useTheme();\r\n  function createData(date, hba1c, weight, height) {\r\n    return { date, hba1c, weight, height };\r\n  }\r\n  const [data, setData] = useState([])\r\n  useEffect(() => {\r\n    let tempData = []\r\n    hba1cs?.forEach((hba1c) => {\r\n\r\n      tempData.push(\r\n        createData(\r\n          hba1c?.createdOn?.split('T')[0],\r\n          weights?.[0]?.weight,\r\n          hba1c?.hba1c,\r\n          height\r\n        )\r\n      );\r\n    });\r\n    setData(tempData)\r\n  }, [hba1cs]);\r\n  \r\n  return (\r\n    <React.Fragment>\r\n      <ResponsiveContainer>\r\n        <LineChart data={data} margin={styles.chartMargin}>\r\n          <XAxis dataKey=\"date\" stroke={theme.palette.text.secondary} />\r\n          <YAxis stroke={theme.palette.text.secondary}>\r\n            <Label\r\n              angle={270}\r\n              position=\"left\"\r\n              style={{\r\n                textAnchor: 'middle',\r\n                fill: theme.palette.text.primary,\r\n              }}\r\n            >\r\n              {text}\r\n            </Label>\r\n          </YAxis>\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line\r\n            type=\"monotone\"\r\n            dataKey=\"hba1c\"\r\n            stroke=\"#8884d8\"\r\n            activeDot={{ r: 8 }}\r\n          />\r\n          <Line\r\n            type=\"monotone\"\r\n            dataKey=\"weight\"\r\n            stroke=\"#8884d8\"\r\n            activeDot={{ r: 8 }}\r\n          />\r\n          <Line type=\"monotone\" dataKey=\"height\" stroke=\"#82ca9d\" />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default ProfileChart;\r\n","import React from 'react'\r\nimport {lightStyles, darkStyles} from '../styles/patientProfileStyles'\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useDispatch } from 'react-redux';\r\nimport {setFetchedEducatorIdReducer} from '../redux/reducers/educatorsReducer'\r\nconst PatientEducators = ({localEducators, darkMode}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const styles = !darkMode ? lightStyles : darkStyles\r\n\r\n    const goToEducator = (educatorId) => {\r\n        dispatch(setFetchedEducatorIdReducer(educatorId));\r\n      };\r\n    return (\r\n      <Card color style={styles.rightSideCard}>\r\n        <CardContent>\r\n          <Typography style={styles.text} variant=\"h5\" component=\"h2\">\r\n            Educators\r\n          </Typography>\r\n          <div style={styles.educatorsDiv}>\r\n            {localEducators?.map((educator) => (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={() => {\r\n                  goToEducator(educator.id);\r\n                }}\r\n                style={styles.educatorsButton}\r\n              >\r\n                <text>{educator.name}</text>\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\nexport default PatientEducators","import React, { useEffect, useState } from 'react';\r\n\r\nimport { concatProfile } from '../helpers';\r\n// redux\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getPatientAction } from '../redux/reducers/patientReducer';\r\n// ui\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport '../App.css';\r\nimport { lightStyles, darkStyles } from '../styles/patientProfileStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport RenderCard from '../components/ProfileCard';\r\nimport PatientAppointments from '../components/PatientAppointments';\r\nimport ProfileChart from '../components/ProfileChart';\r\nimport PatientEducators from '../components/PatientEducators';\r\n\r\nconst lang = {\r\n  ar: {\r\n    name: 'الاسم',\r\n    dateAffectedText: 'مصاب منذ',\r\n    dateBirthText: 'سنة الميلاد',\r\n    dietText: 'النظام الغذائي المتبع',\r\n    diseaseText: 'المرض',\r\n    weightText: 'الوزن',\r\n    heightText: 'الطول',\r\n    Hba1CText: 'Hba1C',\r\n    medicinesText: 'الأدوية',\r\n    sexText: 'الجنس',\r\n    surgeryText: 'العمليات الجراحية',\r\n    otherDiseaseText: 'الأمراض الأخرى',\r\n    whoIsPatientText: 'من المتلقي',\r\n    outSideLinkText: 'رابط ملف خارجي',\r\n    topicsText: 'المواضيع',\r\n    saveText: 'حفظ',\r\n    needPayment: 'بحاجه للدفع',\r\n  },\r\n};\r\n\r\nconst PatientProfile = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [dateAffected, setDateAffected] = useState('');\r\n  const [dateBirth, setDateBirth] = useState('');\r\n  const [weights, setWeights] = useState([]);\r\n  const [heights, setHeights] = useState([]);\r\n  const [hba1cs, setHba1cs] = useState([]);\r\n  const [medicines, setMedicines] = useState([]);\r\n  const [patientName, setPatientName] = useState('');\r\n  const [notes, setNotes] = useState([]);\r\n  const [diseaseType, setDiseaseType] = useState('');\r\n  const [sex, setSex] = useState('');\r\n  const [whoIsPatient, setWhoIsPatient] = useState('');\r\n  const [surgery, setSurgery] = useState('');\r\n  const [otherDisease, setOtherDisease] = useState('');\r\n  const [outSideLink, setOutSideLink] = useState('');\r\n  const [topics, setTopics] = useState([]);\r\n  const [diet, setDiet] = useState('');\r\n  const [localEducators, setLocalEducators] = useState([]);\r\n  const [filteredEducators, setFilteredEducators] = useState([]);\r\n  const { darkMode, educatorId, token, admin } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n  const { patients, educators } = useSelector((state) => state.educators);\r\n  const { patientProfile, loading, patientId } = useSelector(\r\n    (state) => state.patient\r\n  );\r\n\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (patientProfile) {\r\n        setDateAffected(patientProfile?.dateAffected);\r\n        setDateBirth(patientProfile?.dateBirth);\r\n        setWeights(patientProfile?.weights);\r\n        setHeights(patientProfile?.height);\r\n        setHba1cs(patientProfile?.hba1cs);\r\n        setMedicines(concatProfile(patientProfile, 'medicines'));\r\n        setNotes(patientProfile?.notes);\r\n        setDiseaseType(patientProfile?.diseaseType);\r\n        setWhoIsPatient(patientProfile?.whoIsPatient);\r\n        setSurgery(patientProfile?.surgery);\r\n        setOtherDisease(patientProfile?.otherDisease);\r\n        setOutSideLink(patientProfile?.outSideLink);\r\n        setTopics(patientProfile?.topics);\r\n        setDiet(patientProfile?.diet);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }, [patientProfile]);\r\n  useEffect(() => {\r\n    const patient = Object.values(patients).filter((patient) => {\r\n      return patient?.patientId === patientProfile?.patientId;\r\n    })[0];\r\n\r\n    setPatientName(patient?.patientName);\r\n    setLocalEducators(\r\n      patient?.educators.map((educator) => ({\r\n        id: educator.id,\r\n        name: educator.name,\r\n      }))\r\n    );\r\n  }, [patients, patientProfile]);\r\n  useEffect(() => {\r\n    const educatorsIds = [];\r\n    if (localEducators) {\r\n      localEducators.forEach((educator) => {\r\n        educatorsIds.push(educator.id);\r\n      });\r\n      const filteredEducators = Object.values(educators).filter((educator) => {\r\n        return educatorsIds.includes(educator.id);\r\n      });\r\n      setFilteredEducators(filteredEducators);\r\n    }\r\n  }, [localEducators]);\r\n  useEffect(() => {\r\n    if (admin) dispatch(getPatientAction({ adminId:educatorId, token, patientId }));\r\n    else dispatch(getPatientAction({ educatorId, token, patientId }));\r\n  }, [patientId]);\r\n  const {\r\n    dateAffectedText,\r\n    name,\r\n    dateBirthText,\r\n    dietText,\r\n    diseaseText,\r\n    medicinesText,\r\n    otherDiseaseText,\r\n    outSideLinkText,\r\n    sexText,\r\n    surgeryText,\r\n    whoIsPatientText,\r\n    Hba1CText,\r\n    needPayment,\r\n  } = lang.ar;\r\n  const renderContent = () => {\r\n    return (\r\n      <div style={{ flex: 1 }}>\r\n        <Card style={styles.patientName}>\r\n          <div style={styles.text}>\r\n            {patientName} :{name}\r\n          </div>\r\n        </Card>\r\n\r\n        <div style={{ display: 'flex', flexDirection: 'row', flex: 1 }}>\r\n          <div style={{ width: '50%', marginRight: 15 }}>\r\n            <RenderCard\r\n              text={\r\n                dateAffected ? new Date(dateAffected).toLocaleDateString() : ''\r\n              }\r\n              description={dateAffectedText}\r\n              style={styles.leftSideCard}\r\n            />\r\n            <RenderCard\r\n              text={dateBirth ? new Date(dateBirth).toLocaleDateString() : ''}\r\n              description={dateBirthText}\r\n              style={styles.leftSideCard}\r\n            />\r\n            <RenderCard\r\n              text={diseaseType}\r\n              description={diseaseText}\r\n              style={styles.leftSideCard}\r\n            />\r\n            <RenderCard\r\n              text={sex}\r\n              description={sexText}\r\n              style={styles.leftSideCard}\r\n            />\r\n          </div>\r\n          <div style={{ width: '50%', marginRight: 20 }}>\r\n            <RenderCard\r\n              text={whoIsPatient}\r\n              description={whoIsPatientText}\r\n              style={styles.leftSideCard}\r\n            />\r\n\r\n            <RenderCard\r\n              text={surgery}\r\n              description={surgeryText}\r\n              style={styles.leftSideCard}\r\n            />\r\n            <RenderCard\r\n              text={otherDisease}\r\n              description={otherDiseaseText}\r\n              style={styles.leftSideCard}\r\n            />\r\n            <Card color style={styles.leftSideCard}>\r\n              <CardContent>\r\n                <Typography style={styles.text} variant=\"h5\" component=\"h2\">\r\n                  {outSideLinkText}\r\n                </Typography>\r\n                <a\r\n                  href={outSideLink}\r\n                  target=\"_blank\"\r\n                  style={styles.textColor}\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  {outSideLink}\r\n                </a>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div style={styles.flex1}>\r\n      {loading ? <CircularProgress animation=\"border\" /> : ''}\r\n      <div style={styles.root}>\r\n        <div style={styles.contentWrapper}>{renderContent()}</div>\r\n\r\n        <div style={styles.rightSideDiv}>\r\n          <div style={styles.chartDiv}>\r\n            <Card style={styles.chartWrapper}>\r\n              <ProfileChart\r\n                text={'unit'}\r\n                hba1cs={hba1cs}\r\n                weights={weights}\r\n                height={heights}\r\n              />\r\n            </Card>\r\n          </div>\r\n\r\n          <div style={styles.rightBottomRightDiv}>\r\n            <div style={styles.rightSideLeftColumn}>\r\n              <RenderCard\r\n                text={medicines}\r\n                description={medicinesText}\r\n                style={styles.rightSideCard}\r\n              />\r\n              <RenderCard\r\n                text={diet}\r\n                description={dietText}\r\n                style={styles.rightSideCard}\r\n              />\r\n              <RenderCard\r\n                text={patientProfile?.needPayment ? 'نعم' : 'لا'}\r\n                description={needPayment}\r\n                style={styles.rightSideCard}\r\n              />\r\n            </div>\r\n            <div style={styles.rightSideRightColumn}>\r\n              <PatientEducators\r\n                localEducators={localEducators}\r\n                darkMode={darkMode}\r\n              />\r\n              <PatientAppointments\r\n                patientId={patientId}\r\n                educators={filteredEducators}\r\n                darkMode={darkMode}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientProfile;\r\n","import { darkTheme} from '../styles/themes'\r\n\r\nexport const lightStyles = {\r\n  mainDev: {\r\n    height: '90%',\r\n    width: '100%',\r\n    marginTop: '2vh',\r\n    marginRight: '4vw',\r\n    marginBottom: '4vh',\r\n    overflow: 'auto',\r\n  },\r\n  root: {\r\n    minWidth: 275,\r\n    height: '30vh',\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  date: {\r\n    fontSize: 14,\r\n    marginRight: 20,\r\n    position: 'absolute',\r\n    right: 5,\r\n    bottom:5\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  learnMore: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    bottom: 0,\r\n  },\r\n  learnMoreButton: {\r\n    backgroundColor: '#6AC6F7',\r\n  },\r\n  cardDev: {\r\n    width: '20vw',\r\n    marginRight: '2vh',\r\n    marginTop: '2vh',\r\n  },\r\n  cardContent: {\r\n    position: 'relative',\r\n    height: '100%',\r\n  },\r\n  color: 'initial'\r\n};\r\nexport const darkStyles = {\r\n  mainDev: {\r\n    height: '90%',\r\n    width: '100%',\r\n    marginTop: '2vh',\r\n    marginRight: '4vw',\r\n    marginBottom: '4vh',\r\n    overflow: 'auto',\r\n  },\r\n  root: {\r\n    minWidth: 275,\r\n    height: '30vh',\r\n    backgroundColor:darkTheme.primary.black\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  date: {\r\n    fontSize: 14,\r\n    marginRight: 20,\r\n    position: 'absolute',\r\n    right: 5,\r\n    bottom:5,\r\n    color:darkTheme.secondary.lightGrey\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  learnMore: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    bottom: 0,\r\n  },\r\n  learnMoreButton: {\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  cardDev: {\r\n    width: '20vw',\r\n    marginRight: '2vh',\r\n    marginTop: '2vh',\r\n  },\r\n  cardContent: {\r\n    position: 'relative',\r\n    height: '100%',\r\n  },\r\n  color: 'secondary',\r\n  text:{\r\n    color:darkTheme.secondary.lightGrey\r\n  }\r\n};\r\n","import {  darkTheme } from './themes';\r\n\r\nexport const lightStyles = {\r\n  titleText: {fontSize:30},\r\n  text: { overflow: 'auto' },\r\n};\r\nexport const darkStyles = {\r\n  titleText: {fontSize:30,color: darkTheme.secondary.lightGrey},\r\n  text: { overflow: 'auto', color: darkTheme.secondary.lightGrey },\r\n};\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { useSelector } from 'react-redux';\r\nimport { lightStyles, darkStyles } from '../styles/readMoreStyles';\r\nconst ReadMore = ({ currentNote, setNotes }) => {\r\n  const { darkMode } = useSelector((state) => state.auth);\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          setNotes();\r\n        }}\r\n      >\r\n        <ArrowBackIcon />\r\n      </Button>\r\n      <div style={styles.titleText}>{currentNote.title}</div>\r\n      <div style={styles.text}>{currentNote.text}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReadMore;\r\n","import React, { useState,useEffect } from 'react';\r\nimport { useSelector,useDispatch } from 'react-redux';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { lightStyles, darkStyles } from '../styles/patientNotesStyles';\r\n\r\nimport '../App.css';\r\nimport ReadMore from '../components/ReadMore';\r\n\r\nimport {getPatientAction} from '../redux/reducers/patientReducer'\r\n\r\nconst PatientNotes = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { patientProfile, patientId } = useSelector((state) => state.patient);\r\n  const { darkMode, educatorId, token, admin } = useSelector((state) => state.auth);\r\n\r\n  const [currentPage, setCurrentPage] = useState('notes');\r\n  const [currentNote, setCurrentNote] = useState(null);\r\n  const lang = {\r\n    ar: {\r\n      title: 'العنوان',\r\n      text: 'المحتوى',\r\n      date: 'التاريخ',\r\n      summary: 'الملخص',\r\n      goToPatient: 'اذهب للمريض',\r\n      patientName: 'اسم المريض',\r\n      learnMore: 'اقرا المزيد',\r\n      notes:'الملاحظات'\r\n    },\r\n  };\r\n  \r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n  useEffect(() => {\r\n    if (admin) dispatch(getPatientAction({ adminId:educatorId, token, patientId }));\r\n    else dispatch(getPatientAction({ educatorId, token, patientId }));\r\n  },[patientId])\r\n  const setReadMore = (note) => {\r\n    setCurrentNote(note);\r\n    setCurrentPage('readmore');\r\n  };\r\n  const setNotes = () => {\r\n    setCurrentPage('notes');\r\n  };\r\n  const renderCard = () => {\r\n    return patientProfile?.notes?.map((note) => (\r\n      <div style={styles.cardDev}>\r\n        <Card style={styles.root} variant=\"outlined\">\r\n          <CardContent style={styles.cardContent}>\r\n            <Typography color={styles.color} variant=\"h5\" component=\"h2\">\r\n              {note.title}\r\n            </Typography>\r\n            <Typography\r\n              color={styles.color}\r\n              style={styles.text}\r\n              variant=\"body2\"\r\n              component=\"p\"\r\n            >\r\n              {note.text}\r\n            </Typography>\r\n            <Typography color={styles.color} style={styles.date} gutterBottom>\r\n              {note.createdOn.split('T')[0]}\r\n            </Typography>\r\n            <Typography\r\n              style={styles.learnMore}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n            >\r\n              <Button\r\n                size=\"small\"\r\n                style={styles.learnMoreButton}\r\n                onClick={() => setReadMore(note)}\r\n              >\r\n                {lang.ar.learnMore}\r\n              </Button>\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    ));\r\n  };\r\n  return (\r\n    <div style={styles.mainDev}>\r\n      <div style={{ width: '100%',}}>\r\n        <div style={{textAlign:'center',marginRight:50, fontSize:25}}>{lang.ar.notes}</div>\r\n      </div>\r\n      <div className=\"grid-container\">\r\n        {currentPage === 'notes' ? (\r\n          renderCard()\r\n        ) : (\r\n          <ReadMore currentNote={currentNote} setNotes={setNotes} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientNotes;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { lightStyles, darkStyles } from '../styles/patientNotesStyles';\r\n\r\nimport '../App.css';\r\nimport ReadMore from '../components/ReadMore';\r\n\r\nimport { getPatientAction } from '../redux/reducers/patientReducer';\r\n\r\nconst PatientSummaries = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { patientProfile, patientId } = useSelector((state) => state.patient);\r\n  const { darkMode, educatorId, token, admin } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  const [currentPage, setCurrentPage] = useState('notes');\r\n  const [currentNote, setCurrentNote] = useState(null);\r\n  const lang = {\r\n    ar: {\r\n      title: 'العنوان',\r\n      text: 'المحتوى',\r\n      date: 'التاريخ',\r\n      summary: 'الملخص',\r\n      goToPatient: 'اذهب للمريض',\r\n      patientName: 'اسم المريض',\r\n      learnMore: 'اقرا المزيد',\r\n      summaries: 'الملخصات',\r\n    },\r\n  };\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n  useEffect(() => {\r\n    if (admin)\r\n      dispatch(getPatientAction({ adminId: educatorId, token, patientId }));\r\n    else dispatch(getPatientAction({ educatorId, token, patientId }));\r\n  }, [patientId]);\r\n  const renderReadMore = (note) => {\r\n    setCurrentNote(note);\r\n    setCurrentPage('readmore');\r\n  };\r\n  const renderNotes = () => {\r\n    setCurrentPage('notes');\r\n  };\r\n  const renderCard = () => {\r\n    return patientProfile?.summaries?.map((note) => (\r\n      <div style={styles.cardDev}>\r\n        <Card style={styles.root} variant=\"outlined\">\r\n          <CardContent style={styles.cardContent}>\r\n            <Typography color={styles.color} variant=\"h5\" component=\"h2\">\r\n              {note.title}\r\n            </Typography>\r\n            <Typography\r\n              color={styles.color}\r\n              style={styles.text}\r\n              variant=\"body2\"\r\n              component=\"p\"\r\n            >\r\n              {note.text}\r\n            </Typography>\r\n            <Typography color={styles.color} style={styles.date} gutterBottom>\r\n              {note.createdOn.split('T')[0]}\r\n            </Typography>\r\n            <Typography\r\n              style={styles.learnMore}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n            >\r\n              <Button\r\n                size=\"small\"\r\n                style={styles.learnMoreButton}\r\n                onClick={() => renderReadMore(note)}\r\n              >\r\n                {lang.ar.learnMore}\r\n              </Button>\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    ));\r\n  };\r\n  return (\r\n    <div style={styles.mainDev}>\r\n      <div style={{ width: '100%' }}>\r\n        <div style={{ textAlign: 'center', marginRight: 50, fontSize: 25 }}>\r\n          {lang.ar.summaries}\r\n        </div>\r\n      </div>\r\n      <div className=\"grid-container\">\r\n        {currentPage === 'notes' ? (\r\n          renderCard()\r\n        ) : (\r\n          <ReadMore currentNote={currentNote} setNotes={renderNotes} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientSummaries;\r\n","import { mainTheme, darkTheme } from './themes';\r\n\r\nconst theme = mainTheme;\r\n\r\nexport const lightStyles = {\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    height: '90%',\r\n    width: '100%',\r\n    backgroundColor: theme.primary.black,\r\n  },\r\n  card: {\r\n    width: '95%',\r\n    display: 'flex',\r\n    direction: 'row',\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.primary.white,\r\n    borderRadius:10\r\n  },\r\n\r\n  buttonsText: {\r\n    marginTop: 5,\r\n    marginRight: 5,\r\n    backgroundColor: theme.primary.black,\r\n    color: theme.primary.white,\r\n  },\r\n  icons: {\r\n    color: theme.primary.black,\r\n  },\r\n  goToPatientButton: {\r\n    width: '6vw',\r\n    marginLeft: '2vw',\r\n    backgroundColor: '#6D9DC5',\r\n  },\r\n  mianDev: {\r\n    marginLeft: 20,\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  iconsDev: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  listDev: {\r\n    width: '20%',\r\n    backgroundColor: theme.primary.bluishWhite,\r\n  },\r\n  rightColumn: {\r\n    width: '80%',\r\n    height: '100%',\r\n  },\r\n  cardContainer: theme.primary.white,\r\n  listHeaderDiv: {\r\n    display: 'block',\r\n    backgroundColor: theme.primary.white,\r\n    textAlign: 'center',\r\n    padding: 10,\r\n  },\r\n  patientListName: {\r\n    color: 'black',\r\n  },\r\n  listAppointemntsButton: {\r\n    width: '100%',\r\n    backgroundColor: theme.primary.bluishWhite,\r\n  },\r\n  popUpDiv: { height: '10vh', width: '10vw', backgroundColor: 'white' },\r\n  calendarMainDiv: { flex: 1 },\r\n  headerListDiv: { width: '20%', height: '10%' },\r\n  calendarContentDiv: { width: '100%', height: '90%' },\r\n  calendarCardDiv: { flex: 1, display: 'flex', justifyContent: 'center' },\r\n  calendarCard: {\r\n    display: 'flex',\r\n    height: '60%',\r\n    width: '100%',\r\n    marginLeft: '15%',\r\n    marginRight: '15%',\r\n    alignContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: theme.secondary.lightBlue,\r\n  },\r\n  calendarDiv: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  calendar: { height: 500, width: '90%', marginTop: '5%', marginBottom: '5%' },\r\n};\r\nexport const darkStyles = {\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    height: '90.5vh',\r\n    width: '100%',\r\n    backgroundColor: darkTheme.primary.black,\r\n  },\r\n  buttonsText: {\r\n    marginTop: 5,\r\n    marginRight: 5,\r\n    backgroundColor: darkTheme.primary.black,\r\n    color: darkTheme.primary.white,\r\n  },\r\n  icons: {\r\n    color: darkTheme.secondary.lightGrey,\r\n  },\r\n  goToPatientButton: {\r\n    width: '6vw',\r\n    marginLeft: '2vw',\r\n    backgroundColor: darkTheme.secondary.lightBlue,\r\n  },\r\n  mianDev: {\r\n    marginLeft: 20,\r\n    width: '100%',\r\n    height: '100%',\r\n    overflow: 'hidden',\r\n  },\r\n  iconsDev: {\r\n    width: '100%',\r\n    height: '100%',\r\n    overflow: 'hidden',\r\n  },\r\n  listDev: {\r\n    width: '20%',\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  rightColumn: {\r\n    width: '80%',\r\n    height: '100%',\r\n  },\r\n  cardContainer: darkTheme.secondary.darkBlue,\r\n  listHeaderDiv: {\r\n    display: 'block',\r\n    backgroundColor: darkTheme.secondary.darkBlue,\r\n    textAlign: 'center',\r\n    padding: 10,\r\n  },\r\n  card: {\r\n    width: '95%',\r\n    display: 'flex',\r\n    direction: 'row',\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.primary.white,\r\n    borderRadius:10,\r\n  },\r\n  patientListName: {\r\n    color: darkTheme.secondary.lightGrey,\r\n  },\r\n  listAppointemntsButton: {\r\n    width: '100%',\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  popUpDiv: {\r\n    height: '10vh',\r\n    width: '10vw',\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  calendarMainDiv: { flex: 1 },\r\n  headerListDiv: { width: '20%', height: '10%' },\r\n  calendarContentDiv: { width: '100%', height: '90%' },\r\n  calendarCardDiv: { flex: 1, display: 'flex', justifyContent: 'center' },\r\n  calendarCard: {\r\n    display: 'flex',\r\n    height: '100%',\r\n    width: '100%',\r\n    marginLeft: '15%',\r\n    marginRight: '15%',\r\n    alignContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: theme.primary.black,\r\n  },\r\n  calendarDiv: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  calendar: { height: 600, width: '90%', marginTop: '5%', marginBottom: '5%' },\r\n};\r\n","import React from 'react'\r\nimport { momentLocalizer, Calendar } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport {darkStyles, lightStyles} from '../styles/showPatientsViewStyles'\r\nimport Card from '@material-ui/core/Card';\r\nimport convoStyles from 'react-big-calendar/lib/css/react-big-calendar.css';\r\n\r\nconst localizer = momentLocalizer(moment);\r\nconst CalendarView = ({currentEducator, darkMode, goToPatient}) => {\r\n\r\n    const styles = !darkMode ? lightStyles : darkStyles\r\n    let appointments = [];\r\n    if (currentEducator) {\r\n      const educatorAppointments = currentEducator.appointments;\r\n      educatorAppointments.forEach((appointment) => {\r\n        appointments.push({\r\n          appointmentId: appointment.appointmentId,\r\n          date: new Date(appointment.date.split('T')[0]),\r\n          name: appointment.name,\r\n          time: appointment.time,\r\n          patientId: appointment.patientId,\r\n        });\r\n      });\r\n    }\r\n\r\n    if (!appointments || (appointments && !Object.keys(appointments).length)) {\r\n      return null;\r\n    }\r\n    let upComing = 0;\r\n    const calendarAppointments = appointments.map((appointment) => {\r\n      let date = new Date(appointment.date);\r\n      if (date > Date.now()) upComing++;\r\n      date.setHours(appointment.time.split(':')[0]);\r\n\r\n      return {\r\n        id: appointment.appointmentId,\r\n        title: appointment.name,\r\n        allDay: false,\r\n        start: date,\r\n        end: date,\r\n        patinetId: appointment.patientId,\r\n      };\r\n    });\r\n\r\n    return (\r\n      <div style={styles.calendarCardDiv}>\r\n        <Card elevation={5} style={styles.calendarCard}>\r\n          <div style={styles.calendarDiv}>\r\n            <div\r\n              style={{\r\n                alignSelf: 'start',\r\n                marginLeft: 10,\r\n                marginTop: 5,\r\n                fontSize: 20,\r\n              }}\r\n            >\r\n              Upcoming Appointments: {upComing}\r\n            </div>\r\n            <Calendar\r\n              localizer={localizer}\r\n              events={calendarAppointments}\r\n              startAccessor=\"start\"\r\n              endAccessor=\"end\"\r\n              style={styles.calendar}\r\n              onSelectEvent={(e) => {\r\n                goToPatient(e?.patinetId);\r\n              }}\r\n            />\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default CalendarView","import {darkTheme, mainTheme} from './themes'\r\n\r\nconst theme = mainTheme;\r\n\r\nexport const lightStyles = {\r\n  mainDiv: { height: '76vh', overflow: 'auto' },\r\n  uperDiv: { display: 'flex', flexDirection: 'row', height: 50 },\r\n  input: {\r\n    height: '100%',\r\n    width: '100%',\r\n    alignSelf: 'end',\r\n    justifyContent: 'end',\r\n    borderColor: 'white',\r\n    textAlign: 'end',\r\n    backgroundColor: theme.primary.bluishWhite,\r\n  },\r\n  convo: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  accountIcon: { marginRight: 5 },\r\n  inputDiv:{\r\n    width:'70%'\r\n  },\r\n  switchDiv: {\r\n    width: '30%',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom:10\r\n  },\r\n  allChatsSwitch: {\r\n  },\r\n  allChatsText: {\r\n    marginBottom: -5,\r\n    fontSize: 14,\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    height:20\r\n  },\r\n  patientListName: {\r\n    color: 'black',\r\n  },\r\n};\r\nexport const darkStyles = {\r\n  mainDiv: { height: '76vh', overflow: 'auto' },\r\n  uperDiv: { display: 'flex', flexDirection: 'row', height: 50 },\r\n  input: {\r\n    height: '100%',\r\n    width: 300,\r\n    alignSelf: 'end',\r\n    justifyContent: 'end',\r\n    borderColor: darkTheme.secondary.darkBlue,\r\n    textAlign: 'end',\r\n    backgroundColor: darkTheme.secondary.mainBlue,\r\n  },\r\n  convo: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  inputDiv:{\r\n    width:'70%'\r\n  },\r\n  switchDiv: {\r\n    width: '30%',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom:10\r\n  },\r\n  allChatsSwitch: {\r\n    backgroundColor: theme.secondary.lightBlue,\r\n    // margin: 2,\r\n  },\r\n  allChatsText: {\r\n    marginBottom: -5,\r\n    fontSize: 16,\r\n    width: '100%',\r\n    textAlign: 'center',\r\n  },\r\n  accountIcon: { marginRight: 5 },\r\n  patientListName: {\r\n    color: 'black',\r\n  },\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport Input from '@material-ui/core/Input';\r\nimport { Conversation } from '@chatscope/chat-ui-kit-react';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport { darkStyles, lightStyles } from '../styles/patientListStyles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst PatientList = ({\r\n  localPatients,\r\n  allPateints,\r\n  activateChat,\r\n  patientId,\r\n  darkMode,\r\n  setSearchTerm,\r\n  searchTerm,\r\n  allChatsLoading,\r\n  checkedAllChats,\r\n  setCheckedAllChats,\r\n}) => {\r\n  const [filteredPatients, setFilteredPatients] = useState([]);\r\n  const lang = {\r\n    ar: {\r\n      allChats: 'جميع المحادثات',\r\n      searchHolder: 'ابحث',\r\n    },\r\n  };\r\n\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n  useEffect(() => {\r\n    if (checkedAllChats) allPateints();\r\n  },[checkedAllChats])\r\n  useEffect(() => {\r\n    \r\n    if (!localPatients.length) {\r\n      setFilteredPatients([]);\r\n      return null;\r\n    }\r\n    let patients;\r\n    searchTerm === ''\r\n      ? (patients = localPatients)\r\n      : (patients = localPatients?.filter((patient) => {\r\n          return (\r\n            patient?.patientName?.toLowerCase().includes(searchTerm) ||\r\n            patient?.id?.includes(searchTerm)\r\n          );\r\n        }));\r\n    setFilteredPatients(patients);\r\n  }, [localPatients, searchTerm,]);\r\n\r\n  return (\r\n    <div>\r\n      <div style={styles.mainDiv}>\r\n        <div style={styles.uperDiv}>\r\n          <div style={styles.inputDiv} dir=\"rtl\">\r\n            <Input\r\n              style={styles.input}\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value.toLowerCase())}\r\n              placeholder={lang.ar.searchHolder}\r\n            />\r\n          </div>\r\n          <div style={styles.switchDiv}>\r\n            <Typography style={styles.allChatsText}>\r\n              {lang.ar.allChats}\r\n            </Typography>\r\n            <Switch\r\n              style={styles.allChatsSwitch}\r\n              checked={checkedAllChats}\r\n              onChange={() => {\r\n                setCheckedAllChats(!checkedAllChats);\r\n              }}\r\n              name=\"checkedB\"\r\n              color=\"primary\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {allChatsLoading ? <LinearProgress /> : null}\r\n        {filteredPatients?.map((patient) => (\r\n          <Conversation\r\n            key={patient.id}\r\n            active={patientId === patient.patientId}\r\n            onClick={() => activateChat(patient.id, patient.patientId)}\r\n          >\r\n            <Conversation.Content>\r\n              <div style={styles.convo}>\r\n                <AccountCircleIcon\r\n                  fontSize=\"large\"\r\n                  style={styles.accountIcon}\r\n                ></AccountCircleIcon>\r\n                <div style={styles.patientListName}>{patient.patientName}</div>\r\n              </div>\r\n            </Conversation.Content>\r\n          </Conversation>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PatientList;\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { commonState } from '../../../helpers/commonReducerState';\r\nimport axios from 'axios';\r\nimport url from '../../../config/apiConfig';\r\n\r\nexport const addRefrralsAction = createAsyncThunk(\r\n  'refrrals/addRefrralsAction',\r\n  async (\r\n    { name, phone, specialty, referCode, medium, token, adminId },\r\n    { rejectWithValue }\r\n  ) => {\r\n    const data = { name, phone, specialty, referCode, medium };\r\n\r\n    return axios\r\n      .post(`${url}/referrer?adminId=${adminId}`, data, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          return res.data;\r\n        } else return rejectWithValue('credintials');\r\n      })\r\n      .catch((e) => {\r\n        console.log('error ', e);\r\n        return rejectWithValue('credintials');\r\n      });\r\n  }\r\n);\r\nexport const getRefrralsAction = createAsyncThunk(\r\n  'refrrals/getRefrralsAction',\r\n  async ({ token, adminId }, { rejectWithValue }) => {\r\n    return axios\r\n      .get(`${url}/referrers?adminId=${adminId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          return res.data;\r\n        } else return rejectWithValue('credintials');\r\n      })\r\n      .catch((e) => {\r\n        console.log('error ', e);\r\n      });\r\n  }\r\n);\r\nconst initialState = {\r\n  referral: null,\r\n  referrers: [],\r\n  added: false,\r\n  ...commonState,\r\n};\r\nconst refrralsReducer = createSlice({\r\n  name: 'refrrals',\r\n  initialState,\r\n  reducers: {\r\n    clearAll: () => initialState,\r\n    clearErrors: (state, action) => {\r\n      state.added = false;\r\n      state.error = false;\r\n      state.loading = false;\r\n    },\r\n  },\r\n\r\n  extraReducers: {\r\n    [getRefrralsAction.fulfilled]: (state, action) => {\r\n      state.referrers = action.payload;\r\n    },\r\n    [getRefrralsAction.rejected]: (state, action) => {\r\n      state.error = action.payload;\r\n    },\r\n    [addRefrralsAction.fulfilled]: (state, action) => {\r\n      state.referrers.push(action.payload);\r\n      state.loading = false;\r\n      state.error = false;\r\n      state.added = true;\r\n    },\r\n    [addRefrralsAction.pending]: (state, action) => {\r\n      state.loading = true;\r\n    },\r\n    [addRefrralsAction.rejected]: (state, action) => {\r\n      state.error = true;\r\n      state.loading = false;\r\n      state.added = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  clearAll: clearAllRefrralsAction,\r\n  clearErrors: clearErrorsAction,\r\n} = refrralsReducer.actions;\r\n\r\nexport default refrralsReducer.reducer;\r\n","const styles = {\r\n  iconsButton: { height: 50, width: 50, marginLeft: 20, marginTop: 10 },\r\n  closeIcon: { height: 50, width: 50 },\r\n  mainContainer: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    paddingBottom: 50,\r\n    height: '100%',\r\n  },\r\n  leftHalf: {\r\n    height: '100%',\r\n    width: '30%',\r\n    alignContent: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  addLinkText: { textAlign: 'center', fontSize: 20 },\r\n  formDiv: { height: '100%', width: '70%', alignSelf: 'center' },\r\n  formText: { justifyContent: 'center', width: '100%', marginTop: '10%' },\r\n  formButton: {\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    height: 50,\r\n  },\r\n  divider: { height: '90%', width: 2, backgroundColor: 'grey' },\r\n  rightHalf: {\r\n    height: '100%',\r\n    width: '70%',\r\n  },\r\n  rightMainContainer: {\r\n    padding: 15,\r\n    height: '95%',\r\n    overflow: 'auto',\r\n  },\r\n  numberOfLinks: { marginLeft: 30, fontSize: 20 },\r\n  linksWrapper: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  linkCardDiv: {\r\n    width:'48%',\r\n    marginLeft: 10,\r\n    right: 0,\r\n  },\r\n  linkCard: {\r\n    marginTop: 10,\r\n    paddingRight: 20,\r\n    paddingLeft: 20,\r\n  },\r\n  linkText: { textAlign: 'end', fontSize: 18 },\r\n  error: {\r\n    width: '100%',\r\n    marginTop: '10%',\r\n    textAlign: 'center',\r\n  },\r\n  fullUrlText:{\r\n    overflowWrap: 'break-word',\r\n    textAlign: 'end',\r\n    fontSize: 18,\r\n    maxWidth: '90%',\r\n  },\r\n  fullUrlDiv:{\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n  }\r\n};\r\nexport default styles;\r\n","import React, { useEffect, useState } from 'react';\r\n//redux\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  addRefrralsAction,\r\n  getRefrralsAction,\r\n  clearErrorsAction,\r\n} from '../redux/reducers/refrralsReducer';\r\n//UI\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Card } from '@material-ui/core';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport styles from '../styles/refrralsStyles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst Refrrals = ({ setActiveList }) => {\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState(null);\r\n  const [phone, setPhone] = useState(null);\r\n  const [specialty, setSpecialty] = useState(null);\r\n  const [referCode, setReferCode] = useState(null);\r\n  const [medium, setMedium] = useState(null);\r\n  const [langText, setLangText] = useState({\r\n    ar: {\r\n      addLink: 'اضافة رابط',\r\n      numberOfLinks: 'عدد الروابط',\r\n      name: 'الاسم',\r\n      code: 'كود',\r\n      link: 'رابط',\r\n      date: 'تاريخ',\r\n      added: 'تمت الاضافه بنجاح',\r\n      error: 'حدث خطا',\r\n    },\r\n  });\r\n  const [lang, setLang] = useState('ar');\r\n  const { token, educatorId } = useSelector((state) => state.auth);\r\n  const { referrers, loading, error, added } = useSelector(\r\n    (state) => state.refrrals\r\n  );\r\n  useEffect(() => {\r\n    dispatch(getRefrralsAction({ token, adminId: educatorId }));\r\n  }, []);\r\n\r\n  const submit = () => {\r\n    if (name && phone && specialty && referCode && medium) {\r\n      dispatch(\r\n        addRefrralsAction({\r\n          name,\r\n          phone,\r\n          specialty,\r\n          referCode,\r\n          medium,\r\n          token,\r\n          adminId: educatorId,\r\n        })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        style={styles.iconsButton}\r\n        aria-label=\"notes\"\r\n        onClick={() => {\r\n          setActiveList('');\r\n          dispatch(clearErrorsAction());\r\n        }}\r\n      >\r\n        <CloseIcon style={styles.closeIcon} fontSize=\"large\" />\r\n      </IconButton>\r\n      <div style={styles.mainContainer}>\r\n        <div style={styles.leftHalf}>\r\n          <div style={styles.addLinkText}>{langText[lang].addLink}</div>\r\n          <div style={styles.formDiv}>\r\n            <TextField\r\n              style={styles.formText}\r\n              onChange={(e) => setName(e.target.value)}\r\n              label=\"name\"\r\n              variant=\"outlined\"\r\n            />\r\n            <TextField\r\n              style={styles.formText}\r\n              onChange={(e) => setPhone(e.target.value)}\r\n              label=\"phone\"\r\n              variant=\"outlined\"\r\n            />\r\n            <TextField\r\n              style={styles.formText}\r\n              onChange={(e) => setSpecialty(e.target.value)}\r\n              label=\"specialty\"\r\n              variant=\"outlined\"\r\n            />\r\n            <TextField\r\n              style={styles.formText}\r\n              onChange={(e) => setReferCode(e.target.value)}\r\n              label=\"referCode\"\r\n              variant=\"outlined\"\r\n            />\r\n            <TextField\r\n              style={styles.formText}\r\n              onChange={(e) => setMedium(e.target.value)}\r\n              label=\"medium\"\r\n              variant=\"outlined\"\r\n            />\r\n            <div style={styles.formText}>{loading && <LinearProgress />}</div>\r\n            <Button\r\n              style={styles.formButton}\r\n              onClick={() => submit()}\r\n              label=\"medium\"\r\n              variant=\"outlined\"\r\n            >\r\n              ارسال{' '}\r\n            </Button>\r\n            {error ? (\r\n              <div style={styles.error}>{langText[lang].error}</div>\r\n            ) : (\r\n              added && <div style={styles.error}>{langText[lang].added}</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div style={styles.divider} />\r\n        <div style={styles.rightHalf}>\r\n          <div style={styles.numberOfLinks}>\r\n            {' '}\r\n            {langText[lang].numberOfLinks}: {referrers?.length}\r\n          </div>\r\n          <div style={styles.rightMainContainer}>\r\n            <div style={styles.linksWrapper}>\r\n              {referrers &&\r\n                Object.values(referrers)\r\n                  .sort((a, b) => {\r\n                    return new Date(b?.createdOn) - new Date(a?.createdOn);\r\n                  })\r\n                  .map((ref) => {\r\n                    return (\r\n                      <div style={styles.linkCardDiv}>\r\n                        <Card style={styles.linkCard}>\r\n                          <div style={styles.linkText}>\r\n                            {ref?.name} :{langText[lang].name}\r\n                          </div>\r\n                          <div style={styles.linkText}>\r\n                            {ref?.referCode} :{langText[lang].code}\r\n                          </div>\r\n                          <div\r\n                            style={styles.fullUrlDiv}\r\n                          >\r\n                            <div\r\n                              style={styles.fullUrlText}\r\n                            >\r\n                              {ref?.fullUrl}\r\n                            </div>\r\n                            <div style={styles.linkText}>\r\n                              :{langText[lang].link}\r\n                            </div>\r\n                          </div>\r\n                          <div style={styles.linkText}>\r\n                            {new Date(ref?.createdOn).toLocaleDateString()} :\r\n                            {langText[lang].date}\r\n                          </div>\r\n                        </Card>\r\n                      </div>\r\n                    );\r\n                  })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Refrrals;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { parseArray } from '../helpers/Converters';\r\n\r\n// Components\r\nimport MyNav from '../components/MyNav';\r\nimport Footer from '../components/Footer';\r\nimport Chat from './Chat';\r\nimport PatientProfile from './PatientProfile';\r\nimport PatientNotes from './PatientNotes';\r\nimport PatientSummaries from './patientSummaries';\r\nimport CalendarView from './CalendarView';\r\nimport PatientList from '../components/PatientList';\r\nimport Refrrals from '../components/Refrrals'\r\n\r\n// Redux\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setChatsAction } from '../redux/reducers/authReducer';\r\nimport {\r\n  setCurrentChatAction,\r\n  clearAllChatsAction,\r\n  getAllChatsAction,\r\n} from '../redux/reducers/chatsReducer';\r\nimport { setPatientIdAction } from '../redux/reducers/patientReducer';\r\nimport { setCurrentEducatorAction } from '../redux//reducers/educatorsReducer';\r\nimport { setDarkModeAction } from '../redux//reducers/authReducer';\r\n\r\n// ui libraries\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\r\nimport NoteIcon from '@material-ui/icons/Note';\r\nimport Button from '@material-ui/core/Button';\r\nimport ShortTextIcon from '@material-ui/icons/ShortText';\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport '../App.css';\r\nimport { lightStyles, darkStyles } from '../styles/showPatientsViewStyles';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ShowPatientsView = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const [activeList, setActiveList] = useState('');\r\n  const [localPatients, setLocalPatients] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState('');\r\n  const [disableIcons, setDisableIcons] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [checkedAllChats, setCheckedAllChats] = useState('');\r\n  const [lang, setLang] = useState({\r\n    ar: {\r\n      chat: 'المحادثة',\r\n      profile: 'البروفايل',\r\n      educators: 'المتابعين',\r\n      patientName: 'اسم المريض',\r\n      goToPatient: 'اذهب للمريض',\r\n      time: 'الوقت',\r\n    },\r\n  });\r\n\r\n  const { chats, token, educatorId, darkMode, admin } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n  const {\r\n    fetchedEducatorId,\r\n    patients,\r\n    educators,\r\n    currentEducator,\r\n  } = useSelector((state) => state.educators);\r\n  const { patientId } = useSelector((state) => state.patient);\r\n  const { allChats, allChatsLoading } = useSelector((state) => state.chats);\r\n\r\n  const styles = !darkMode ? lightStyles : darkStyles;\r\n  useEffect(() => {\r\n    if (!token) history.replace('/');\r\n  }, [token]);\r\n  useEffect(() => {\r\n    try {\r\n      if (chats?.length && !chats[0].id) {\r\n        let tempChats = parseArray(chats);\r\n        dispatch(setChatsAction(tempChats));\r\n      } \r\n    } catch (err) {\r\n      console.log('error setting chats:', err);\r\n    }\r\n  }, [chats, dispatch]);\r\n  useEffect(() => {\r\n    let tempEducator;\r\n    if (educators) {\r\n      tempEducator = Object.values(educators).filter((educator) => {\r\n        return fetchedEducatorId === educator.id;\r\n      });\r\n      if (tempEducator.length !== 0) {\r\n        setLocalPatients(tempEducator[0].chats);\r\n      }\r\n      setCheckedAllChats(false)\r\n      setSearchTerm('');\r\n      dispatch(setCurrentEducatorAction(tempEducator[0]));\r\n      dispatch(clearAllChatsAction());\r\n    }\r\n  }, [dispatch, educatorId, educators, fetchedEducatorId, patients]);\r\n  useEffect(() => {\r\n    if (patientId) {\r\n      setDisableIcons(false);\r\n    }\r\n  }, [patientId]);\r\n  useEffect(() => {\r\n    if (allChats?.length) {\r\n      setLocalPatients(allChats);\r\n    }\r\n  }, [allChats]);\r\n  useEffect(() => {\r\n    let tempEducator\r\n    if(!checkedAllChats){\r\n      tempEducator = Object.values(educators).filter((educator) => {\r\n        return fetchedEducatorId === educator.id;\r\n      });\r\n      if (tempEducator.length !== 0) {\r\n        setLocalPatients(tempEducator[0].chats);\r\n      }\r\n    }\r\n  },[checkedAllChats])\r\n  const renderChat = () => {\r\n    if (!localPatients.length) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Chat/>\r\n    );\r\n  };\r\n\r\n  const activateChat = (chatId, patientId) => {\r\n    dispatch(setPatientIdAction(patientId));\r\n    dispatch(setCurrentChatAction(chatId));\r\n  };\r\n  const allPateints = () => {\r\n    if(fetchedEducatorId){\r\n      if(admin)\r\n      dispatch(getAllChatsAction({ educatorId: fetchedEducatorId, token, adminId: educatorId }));\r\n      else\r\n      dispatch(getAllChatsAction({ educatorId: fetchedEducatorId, token }));\r\n\r\n    }\r\n  };\r\n  const renderListHeader = () => {\r\n    return (\r\n      <div style={styles.listHeaderDiv}>\r\n        {\r\n          admin &&\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => setActiveList('links')}\r\n          style={styles.buttonsText}\r\n        >\r\n          روابط\r\n        </Button>\r\n        }\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => setActiveList('patients')}\r\n          style={styles.buttonsText}\r\n        >\r\n          المحادثات\r\n        </Button>\r\n        <Button\r\n          style={styles.buttonsText}\r\n          variant=\"contained\"\r\n          onClick={() => setActiveList('appointments')}\r\n        >\r\n          المواعيد\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n  const goToPatient = (patientId) => {\r\n    setCurrentPage('profile');\r\n    setActiveList('');\r\n    if (patientId) dispatch(setPatientIdAction(patientId));\r\n    const currentChat = currentEducator?.chats?.find((chat) => {\r\n      return chat?.patientId === patientId;\r\n    });\r\n    if (currentChat) dispatch(setCurrentChatAction(currentChat?.id));\r\n  };\r\n  const renderIcons = () => {\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          aria-label=\"chat\"\r\n          onClick={() => setValueCurrentPage('chat')}\r\n        >\r\n          <ChatBubbleIcon style={styles.icons} fontSize=\"large\" />\r\n        </IconButton>\r\n        <IconButton\r\n          aria-label=\"chat\"\r\n          onClick={() => {\r\n            setValueCurrentPage('profile');\r\n          }}\r\n        >\r\n          <PersonIcon style={styles.icons} fontSize=\"large\" />\r\n        </IconButton>\r\n        <IconButton\r\n          aria-label=\"notes\"\r\n          onClick={() => {\r\n            setValueCurrentPage('notes');\r\n          }}\r\n        >\r\n          <NoteIcon style={styles.icons} fontSize=\"large\"></NoteIcon>\r\n        </IconButton>\r\n        <IconButton\r\n          aria-label=\"summary\"\r\n          onClick={() => {\r\n            setValueCurrentPage('summaries');\r\n          }}\r\n        >\r\n          <ShortTextIcon style={styles.icons} fontSize=\"large\" />\r\n        </IconButton>\r\n        {/* <IconButton\r\n          aria-label=\"darkmode\"\r\n          style={{ right: 85, position: 'absolute' }}\r\n          onClick={() => {\r\n            dispatch(setDarkModeAction(!darkMode));\r\n          }}\r\n        >\r\n          <Brightness4Icon\r\n            style={styles.icons}\r\n            fontSize=\"large\"\r\n          ></Brightness4Icon>\r\n        </IconButton> */}\r\n      </div>\r\n    );\r\n  };\r\n  // \"name\": \"pamphlet\", \"phone\":\"+966500000000\", \"specialty\":\"none\", \"referCode\":\"pamphlet1\", \"medium\":\"pamphlet\"\r\n  const setValueCurrentPage = (page) => {\r\n    if (!disableIcons) setCurrentPage(page);\r\n  };\r\n  return (\r\n    <div style={{height:'100vh'}}>\r\n      <MyNav />\r\n      <Container maxWidth={false} style={styles.container}>\r\n        <Card style={styles.card}\r\n        >\r\n          {activeList === 'appointments' ? (\r\n            <div style={styles.calendarMainDiv}>\r\n              <div style={styles.headerListDiv}>{renderListHeader()}</div>\r\n              <div style={styles.calendarContentDiv}>\r\n                <CalendarView\r\n                  currentEducator={currentEducator}\r\n                  darkMode={darkMode}\r\n                  goToPatient={goToPatient}\r\n                />\r\n              </div>\r\n            </div>\r\n          ) :\r\n          activeList === 'links'? (\r\n            <Refrrals setActiveList={setActiveList}/>\r\n          ) : (\r\n            <div style={{ display: 'flex', flexDirection: 'row', flex: 1 }}>\r\n              <div style={styles.listDev}>\r\n                {renderListHeader()}\r\n                <div>\r\n                  <PatientList\r\n                    localPatients={localPatients}\r\n                    allPateints={allPateints}\r\n                    activateChat={activateChat}\r\n                    patientId={patientId}\r\n                    darkMode={darkMode}\r\n                    searchTerm={searchTerm}\r\n                    setSearchTerm={setSearchTerm}\r\n                    allChatsLoading={allChatsLoading}\r\n                    checkedAllChats={checkedAllChats}\r\n                    setCheckedAllChats={setCheckedAllChats}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div style={styles.rightColumn}>\r\n                <div style={styles.mianDev}>\r\n                  <div style={styles.iconsDev}>\r\n                    {renderIcons()}\r\n                    {currentPage === 'profile' ? (\r\n                      <PatientProfile />\r\n                    ) : currentPage === 'notes' ? (\r\n                      <PatientNotes />\r\n                    ) : currentPage === 'summaries' ? (\r\n                      <PatientSummaries />\r\n                    ) : (\r\n                      renderChat()\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      </Container>\r\n      <Footer />\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default ShowPatientsView;\r\n","import chatsReducer from './chatsReducer'\r\nimport authReducer from './authReducer'\r\nimport educatorsReducer from './educatorsReducer'\r\nimport patientReducer from './patientReducer'\r\nimport refrralsReducer from './refrralsReducer'\r\nimport {persistCombineReducers} from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: ['auth'],\r\n}\r\nconst reducers = persistCombineReducers(persistConfig,{\r\n    chats:chatsReducer,\r\n    auth:authReducer,\r\n    educators:educatorsReducer,\r\n    patient:patientReducer,\r\n    refrrals:refrralsReducer\r\n})\r\n\r\nexport default reducers","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport reducer from './reducers';\r\nimport { persistStore } from 'redux-persist';\r\n\r\nlet middleware = getDefaultMiddleware();\r\n//DEV\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  ...middleware,\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport LoginView from './views/LoginView'\r\nimport ShowPatientsView from './views/ShowPatientsView'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport {persistor} from './redux/index'\r\n\r\nconst App = () => {\r\n  return (\r\n\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <Router \r\n      >\r\n       \r\n\r\n        <Switch>\r\n        <Route exact  path=\"/\" component={LoginView} />\r\n        <Route exact path=\"/showpatients\" component={ShowPatientsView} />\r\n        <Route path=\"*\" component={ShowPatientsView} /> \r\n\r\n        </Switch>\r\n\r\n\r\n      </Router>\r\n       </PersistGate>\r\n  );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux'\r\n\r\nimport store from './redux'\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n\r\n<App />\r\n    </Provider>,\r\n\r\n document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}