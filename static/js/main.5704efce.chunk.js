(this["webpackJsonpeducator-webapp"]=this["webpackJsonpeducator-webapp"]||[]).push([[0],{119:function(e,t,n){},316:function(e,t){},453:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(25),o=n.n(i),c=n(105),s=n(31),l=n(14),d=n.n(l),u=n(30),h=n(10),j=n(32),g=n(224),b=n(225),p=n(226),f=n(272),m=n(488),x=n(2),v=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(x.jsx)(m.a,{style:Object(j.a)({width:this.props.width,display:this.props.display,flexDirection:this.props.direction,backgroundColor:"rgba(247,247,247,1)",padding:this.props.padding,marginBottom:this.props.marginB,marginTop:this.props.marginT,borderRadius:25},"backgroundColor",this.props.backgroundColor),children:this.props.children})}}]),n}(r.Component),O=n.p+"static/media/bright-no-bg.d6200e7f.png",y=n(17),w=n(55),k=n(36),C=n(41),S=n.n(C),I="http://157.175.113.31:3000",D=n(229),T={loading:!1,error:null};function B(e){return e.map((function(e){return JSON.parse(e)}))}function A(e){var t=[],n={};for(var r in e){var a=e[r];Array.isArray(a)&&(n[r]=B(a),t.push(B(a)))}return n}var E,M,L,z,P=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(I,"/educator?get=all&id=").concat(t,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(r=e.sent).data){e.next=8;break}return a={},r.data.forEach((function(e){var t=JSON.parse(e),n=t.name,r=t.id;a[r]={name:n,id:r}})),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error getEducatorIds",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"chats,appointments,educator,all",e.next=4,S.a.get("".concat(I,"/educator?id=").concat(t,"&get=").concat("chats,appointments,educator,all","&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:if(!(r=e.sent).data){e.next=12;break}return a=r.data,i=JSON.parse(a.educator),delete a.educator,o=A(a),c=o.appointments,s=o.chats,e.abrupt("return",{chats:s,appointments:c,educator:i});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("getEducatorData Error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get("".concat(I,"/educator?id=").concat(t,"&get=educator&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.isCaseHandler})).catch((function(e){console.log("isCaseHandler error ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={educatorId:t,notificationToken:" "},e.next=3,S.a.patch("".concat(I,"/logout"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){})).catch((function(e){console.log("error ",e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=Object(k.b)("auth/loginAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.password,i=n.rejectWithValue,e.next=4,l=a,Object(D.sha256)(l);case 4:return o=e.sent,c={},s={id:r,password:o},e.abrupt("return",S.a.post("".concat(I,"/login"),s).then((function(e){if(e.data.educator){var t=e.data,n=t.educatorId,r=t.appointments,a=t.chats;i();var o=JSON.parse(e.data.educator).token;return c.token=o[o.length-1],c.educatorId=n,c.appointments=r,c.chats=a,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}var l}),e)})));return function(t,n){return e.apply(this,arguments)}}()),G=Object(k.b)("auth/logout",function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,r=t.token,e.next=3,F(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(w.a)({token:null,educatorId:null,appointments:null,chats:null,response:null,darkMode:!1},T),V=Object(k.c)({name:"auth",initialState:H,reducers:{clearAll:function(){return H},setLoading:function(e,t){e.loading=t.payload},setChats:function(e,t){e.chats=t.payload},setDarkMode:function(e,t){e.darkMode=t.payload}},extraReducers:(E={},Object(j.a)(E,W.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.appointments=t.payload.appointments,e.chats=t.payload.chats,e.loading=!1})),Object(j.a)(E,W.pending,(function(e,t){e.loading=!0})),Object(j.a)(E,W.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),E)}),J=V.actions,q=J.setLoading,K=J.setChats,_=J.clearAll,Y=J.setDarkMode,U=V.reducer,$=n(506),Q=n(494),X=n(493),Z=n(492),ee={container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#0a122a",width:"100%"},root:{display:"flex",flexDirection:"row"},logo:{width:"30%",marginBottom:"15%"},formDiv:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column"},username:{marginTop:10,marginBottom:10},password:{marginTop:10,marginBottom:10},button:{backgroundColor:"lightblue",marginTop:10,marginBottom:10},error:{color:"red"}},te=function(){var e=Object(y.b)(),t=Object(s.f)(),n=Object(r.useState)(""),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(""),l=Object(h.a)(c,2),j=l[0],g=l[1],b=Object(r.useState)({ar:{username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a",submit:"\u062f\u062e\u0648\u0644"}}),p=Object(h.a)(b,2),f=p[0],m=(p[1],Object(y.c)((function(e){return e.auth}))),w=m.educatorId,k=m.token,C=m.loading,S=m.error;Object(r.useEffect)((function(){k&&w&&t.push("showpatients")}),[w,t,k]);var I=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(q(!0)),e(W({username:i,password:j}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)(Z.a,{maxWidth:!1,style:ee.container,children:Object(x.jsxs)("div",{style:ee.root,children:[Object(x.jsx)("img",{src:O,style:ee.logo}),Object(x.jsx)("div",{style:ee.formDiv,children:Object(x.jsx)(v,{width:"80%",padding:30,children:Object(x.jsxs)("form",{style:ee.form,children:[Object(x.jsx)($.a,{type:"username",required:!0,id:"outlined-required",label:f.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:ee.username}),Object(x.jsx)($.a,{type:"password",required:!0,id:"outlined-required",label:f.ar.password,variant:"outlined",value:j,onChange:function(e){e.persist(),g(e.target.value)},style:ee.password}),Object(x.jsx)(X.a,{variant:"primary",style:ee.button,onClick:I,children:f.ar.submit}),C?Object(x.jsx)(Q.a,{}):null,S?Object(x.jsx)("text",{style:ee.error,children:S}):""]})})})]})})},ne=n.p+"static/media/logo-dark-notext.58fe3789.png",re=(n(316),Object(k.b)("chats/getChatsAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.chatId,a=t.educatorId,i=t.token,o=n.rejectWithValue,e.prev=2,e.next=5,S.a.get("".concat(I,"/message?chatId=").concat(r,"&educatorId=").concat(a),{headers:{Authorization:"Bearer ".concat(i)},timeout:1e4});case 5:if(!(null===(c=e.sent)||void 0===c?void 0:c.data)){e.next=8;break}return e.abrupt("return",c.data);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("error",e.t0),e.abrupt("return",o(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}())),ae=Object(w.a)({messages:null,currentChat:null},T),ie=Object(k.c)({name:"chats",initialState:ae,reducers:{clearAll:function(){return ae},setChats:function(e,t){e.chats=t.payload},setCurrentChat:function(e,t){e.currentChat=t.payload}},extraReducers:(M={},Object(j.a)(M,re.fulfilled,(function(e,t){e.messages=t.payload,e.loading=!1})),Object(j.a)(M,re.pending,(function(e,t){e.loading=!0})),Object(j.a)(M,re.rejected,(function(e,t){e.error=t.payload})),M)}),oe=ie.actions,ce=(oe.setChats,oe.setCurrentChat),se=oe.clearAll,le=ie.reducer,de=Object(k.b)("educators/getEducatorsAndPatients",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s,l,u,h,j,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.educatorId,a=t.token,i=n.rejectWithValue,e.prev=2,e.next=5,N(r,a);case 5:if(!e.sent){e.next=13;break}return e.delegateYield(d.a.mark((function e(){var t,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r,a);case 2:t=e.sent,n={},i=d.a.mark((function e(){var r,i,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[o],e.next=3,R(r.id,a);case 3:i=e.sent,c=i.chats,s=i.appointments,c&&(r.chats=c,r.count=c.length,c.forEach((function(e){var t=n[e.patientId];t||(n[e.patientId]=e,t=n[e.patientId]),t&&t.educators?t.educators.push({id:r.id,name:r.name}):t.educators=[{id:r.id,name:r.name}]}))),s&&(t[o].appointments=s);case 8:case"end":return e.stop()}}),e)})),e.t0=d.a.keys(t);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(i(),"t2",9);case 9:e.next=6;break;case 11:return e.abrupt("return",{v:{educators:t,patients:n}});case 12:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:if("object"!==typeof(c=e.t0)){e.next=11;break}return e.abrupt("return",c.v);case 11:e.next=24;break;case 13:return s={},e.next=16,R(r,a);case 16:return l=e.sent,u=l.chats,h=l.appointments,j=l.educator,u&&(j.chats=u,j.count=u.length,u.forEach((function(e){var t=s[e.patientId];t||(s[e.patientId]=e,t=s[e.patientId]),t&&t.educators?t.educators.push({id:j.id,name:j.name}):t.educators=[{id:j.id,name:j.name}]}))),h&&(j.appointments=h),g=[j],e.abrupt("return",{educators:g,patients:s});case 24:e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(2),console.log(" Error getEducatorsAndPatients",e.t1),e.abrupt("return",i(e.t1));case 30:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(w.a)({educators:[],patients:[],fetchedEducatorId:"",currentEducator:""},T),he=Object(k.c)({name:"educators",initialState:ue,reducers:{clearAll:function(){return ue},setFetchedEducatiorId:function(e,t){e.fetchedEducatorId=t.payload},setCurrentEducator:function(e,t){e.currentEducator=t.payload}},extraReducers:(L={},Object(j.a)(L,de.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(j.a)(L,de.pending,(function(e,t){e.loading=!0})),Object(j.a)(L,de.rejected,(function(e,t){e.loading=!1})),L)}),je=he.actions,ge=je.clearAll,be=je.setFetchedEducatiorId,pe=je.setCurrentEducator,fe=he.reducer,me=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,i,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(I,"/patient?patientId=").concat(r,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(a=e.sent).data){e.next=8;break}return i=a.data,o=i.patient,c=i.patientProfile,s=JSON.parse(o),e.abrupt("return",{patient:s,patientProfile:c});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("getPatient Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(I,"/appointment?patientId=").concat(t,"&educatorId=").concat(r,"&get=one"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(a=e.sent).data){e.next=7;break}return i=B(a.data),e.abrupt("return",i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ve=Object(k.b)("patient/getPatientAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.educatorId,a=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,me(r,a,i).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Oe=Object(k.b)("patinet/getAppointmentsAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.educatorId,a=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,xe(i,a,r).then((function(e){if(e)return e})).catch((function(e){console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ye=Object(w.a)({patientProfile:null,patientId:null,appointments:null},T),we=Object(k.c)({name:"patient",initialState:ye,reducers:{clearAll:function(){return ye},setPatientId:function(e,t){e.patientId=t.payload}},extraReducers:(z={},Object(j.a)(z,ve.fulfilled,(function(e,t){e.patientProfile=t.payload,e.loading=!1})),Object(j.a)(z,ve.rejeceted,(function(e,t){e.error=t.payload,e.loading=!1})),Object(j.a)(z,ve.pending,(function(e,t){e.loading=!0})),Object(j.a)(z,Oe.fulfilled,(function(e,t){e.appointments=t.payload})),z)}),ke=we.actions,Ce=ke.setPatientId,Se=ke.clearAll,Ie=we.reducer,De=n(509),Te=n(496),Be=n(495),Ae={primary:{black:"#042c42",red:"#ee3d60",white:"#ffffff",bluishWhite:"#EDF8FF"},secondary:{lightBlue:"#d2edf4 ",mainBlue:"#51c7ea",darkBlue:"#005792",orange:"#fbbd33"}},Ee={black:"#042639",red:"#D03554",white:"#ffffff",bluishWhite:"#CFD9DF"},Me={lightBlue:"#B8CFD6",mainBlue:"#337C92",darkBlue:"#003B52",orange:"#BC8E26",lightGrey:"#CBCBCB"},Le=Ae,ze={root:{flexGrow:1,width:"100%",height:"10%"},tabs:{backgroundColor:Me.lightBlue,height:"100%"},tab:{fontSize:20,color:"black",width:30},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Me.lightBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10}},Pe={root:{flexGrow:1,width:"100%",backgroundColor:Le.secondary.darkBlue},tabs:{backgroundColor:Le.secondary.darkBlue,height:"100%"},tab:{fontSize:20,color:"black",width:30},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Le.secondary.darkBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10}},Re=function(){var e=Object(y.b)(),t=Object(s.f)(),n=Object(y.c)((function(e){return e.educators})),a=n.educators,i=n.loading,o=(n.fetchedEducatorId,Object(y.c)((function(e){return e.auth}))),c=o.educatorId,l=o.token,d=o.darkMode?Pe:ze;Object(r.useEffect)((function(){e(de({educatorId:c,token:l}))}),[]);var u=Object(r.useState)(2),j=Object(h.a)(u,2),g=j[0],b=j[1];return Object(x.jsx)("div",{style:d.root,children:Object(x.jsxs)(Be.a,{position:"static",color:"default",children:[Object(x.jsxs)(De.a,{value:g,onChange:function(e,t){t>1&&b(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",style:d.tabs,children:[Object(x.jsx)("img",{alt:"",src:ne,width:"80",height:"35",style:d.navLogo}),Object(x.jsx)(Te.a,{label:"Logout",style:d.tab,onClick:function(){return e(_()),e(ge()),e(se()),e(Se()),e(G({educatorId:c,token:l})),void t.replace("/")}}),Object.keys(a).length?Object.values(a).map((function(t){return Object(x.jsx)(Te.a,{label:t.name,style:d.tab,onClick:function(){return n=t.id,void e(be(n));var n}})})):""]}),i?Object(x.jsx)(Q.a,{}):null]})})},Ne=function(){var e=Object(y.c)((function(e){return e.auth})).darkMode?Pe:ze;return Object(x.jsx)(Be.a,{position:"fixed",color:"black",style:e.footerAppBar,children:Object(x.jsx)("img",{alt:"",src:ne,width:"100",height:"40",className:"d-inline-block align-top",style:e.footerLogo})})},Fe=n(497),We=(n(193),n(52)),Ge=n(244),He=n.n(Ge),Ve={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:"black"},emptyMessages:{color:"black"},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:"#F4FBFF"}},Je={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{backgroundColor:Me.mainBlue},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:Me.lightGrey},emptyMessages:{color:Me.lightGrey},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:Me.mainBlue}},qe=function(e){var t=e.date,n=e.darkMode?Je:Ve,r=new Date(t);return Object(x.jsxs)("div",{style:n.separatorDiv,children:[Object(x.jsx)("div",{style:n.leftLine}),Object(x.jsxs)("div",{style:n.date,children:[t,", ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.getDay()]]}),Object(x.jsx)("div",{style:n.rightLine})]})},Ke=function(e){var t=Object(y.b)(),n=Object(r.useState)([]),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(0),s=Object(h.a)(c,2),l=s[0],d=s[1],u=Object(r.useState)({ar:{messageCount:"\u0639\u062f\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",usageDuration:"\u0645\u062f\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645",emptyConvo:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0641\u0627\u0631\u063a\u0629"}}),j=Object(h.a)(u,2),g=j[0],b=(j[1],Object(y.c)((function(e){return e.auth}))),p=b.token,f=b.educatorId,m=b.darkMode,v=Object(y.c)((function(e){return e.chats})),O=v.messages,w=v.loading,k=v.currentChat,C=m?Je:Ve;Object(r.useEffect)((function(){t(re({chatId:k,token:p,educatorId:f}))}),[k]),Object(r.useEffect)((function(){o(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=["png","jpg","jpeg","gif"],r=["pdf","doc","docx"],a=["mp3","3gp","caf","wav","wave","m4a","aac"],i=[];for(var o in t){var c={};Object.assign(c,t[o]);var s=parseInt(c.user._id)-1;if(c.media){var l=c.media.split("."),d=l[l.length-1],u=n.includes(d.split("?")[0]),h=r.includes(d.split("?")[0]),j=a.includes(d.split("?")[0]);u?(e!==c.createdOn.split("T")[0]?(c.message={image:c.media},c.message.date=c.createdOn.split("T")[0],e=c.createdOn.split("T")[0]):(c.message={image:c.media},c.message.text=c.text),delete c.media):h?(c.message={text:c.text,file:c.media},delete c.media):j?(c.media=c.media.replace("vnd.wave","wav"),c.message={audio:c.media},c.message.text=c.text,delete c.media):c.message={text:"this link is corrupted: "+c.media}}else c.text?e!==c.createdOn.split("T")[0]?(c.message={text:c.text},c.message.date=c.createdOn.split("T")[0],e=c.createdOn.split("T")[0]):c.message={text:c.text}:c.message={text:""};c.message.createdOn=c.createdOn;var g=void 0;g=0===s?"outgoing":"incoming";var b=c.message.createdOn.split("T");c.message.createdOn=b;var p={userId:g,message:c.message};i.push(p)}return i}(O))}),[O]),Object(r.useEffect)((function(){S(i)}),[i]);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&e.length>0){var t=new Date(e[0].message.createdOn),n=new Date(e[e.length-1].message.createdOn),r=Math.abs(n-t),a=Math.ceil(r/864e5);d(a)}};return Object(x.jsxs)("div",{style:C.root,children:[w?Object(x.jsx)(Fe.a,{animation:"border"}):i.length?null:Object(x.jsxs)("div",{style:C.emptyMessages,children:[g.ar.emptyConvo," "]}),Object(x.jsxs)("div",{style:C.statsDiv,children:[i.length," :",g.ar.messageCount," ",Object(x.jsx)("br",{}),g.ar.usageDuration,": ",l," ","\u064a\u0648\u0645"]}),Object(x.jsx)("div",{style:C.chatDiv,children:Object(x.jsx)("div",{style:C.chatScrollDiv,children:i.map((function(e){var t,n,r,a;return Object(x.jsxs)("div",{children:[(null===(t=e.message)||void 0===t?void 0:t.date)&&Object(x.jsx)(qe,{date:e.message.date,darkMode:m}),(null===(n=e.message)||void 0===n?void 0:n.image)?Object(x.jsx)(We.b.ImageContent,{src:e.message.image,alt:"The image isn't working link: "+e.message.image,width:400}):(null===(r=e.message)||void 0===r?void 0:r.audio)?Object(x.jsx)(He.a,{src:e.message.audio,controls:!0}):(null===(a=e.message)||void 0===a?void 0:a.file)?Object(x.jsxs)(We.b,{model:{message:e.message.text,direction:e.userId},children:[Object(x.jsx)(We.b.CustomContent,{children:Object(x.jsx)("a",{href:e.message.file,target:"_blank",download:!0,rel:"noreferrer",children:e.message.text})}),Object(x.jsx)(We.b.Footer,{children:Object(x.jsx)("div",{style:C.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]}):Object(x.jsxs)(We.b,{model:{message:e.message.text,direction:e.userId},children:[Object(x.jsx)(We.b.CustomContent,{children:Object(x.jsx)("div",{style:C.customMessage,children:e.message.text})}),Object(x.jsx)(We.b.Footer,{children:Object(x.jsx)("div",{style:C.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]})]},e.id)}))})})]})},_e=function(e,t){var n=t.substring(0,t.length-1),r="";return(null===e||void 0===e?void 0:e[t])&&e[t].forEach((function(e){r=r.concat((null===e||void 0===e?void 0:e[n])+"\n")})),r},Ye=(n(119),n(57)),Ue=Ae,$e={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ue.primary.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ae.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh"},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:"black"},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:Ue.secondary.lightBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50.8%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},Qe={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10,backgroundColor:Ee.black},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ee.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Ee.black},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Ee.black},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ae.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh",backgroundColor:Ee.black},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:Me.lightGrey},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:Me.mainBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},Xe=n(498),Ze=n(499),et=function(e){var t=e.text,n=e.description,r=e.style,a=Object(y.c)((function(e){return e.auth})).darkMode?Qe:$e;return Object(x.jsx)(m.a,{color:!0,style:r,children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Ze.a,{style:a.text,variant:"h5",component:"h2",children:n}),Object(x.jsx)(Ze.a,{style:a.textColor,children:t})]})})},tt=Ae,nt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:tt.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:tt.secondary.lightBlue}},rt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10,backgroundColor:Ee.black},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:tt.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:Me.mainBlue}},at=function(e){var t=e.patientId,n=e.educators,a=e.darkMode,i=Object(y.b)(),o=Object(r.useState)([]),c=Object(h.a)(o,2),s=c[0],l=c[1],d=Object(y.c)((function(e){return e.auth})),u=d.token,j=d.educatorId,g=Object(y.c)((function(e){return e.patient})).appointments;Object(r.useEffect)((function(){i(Oe({educatorId:j,token:u,patientId:t}))}),[n,t]),Object(r.useEffect)((function(){g&&l(function(e,t){var n=[];return e&&e.forEach((function(e){n.push(t.filter((function(t){return e.id===t.educatorId})).map((function(t){return{date:t.date,educatorId:t.educatorId,name:e.name}})))})),n.flat()}(n,g))}),[g]);var b=a?rt:nt;return Object(x.jsx)("div",{style:b.root,children:Object(x.jsxs)(m.a,{style:b.card,children:[Object(x.jsx)(Ze.a,{style:b.text,variant:"h5",component:"h2",children:"Appointments"}),Object(x.jsx)("div",{style:b.listDiv,children:null===s||void 0===s?void 0:s.map((function(e){return Object(x.jsx)(X.a,{variant:"contained",onClick:function(){return function(e){i(be(e))}(e.educatorId)},style:b.button,children:Object(x.jsxs)("div",{children:[e.date.split("T")[0]," ",e.name]},e.id)},e.id)}))})]})})},it=n(500),ot=n(501),ct=n(260),st=n(261),lt=n(50),dt=n(116),ut=n(112),ht=n(273),jt={name:"\u0627\u0644\u0627\u0633\u0645",dateAffectedText:"\u0645\u0635\u0627\u0628 \u0645\u0646\u0630",dateBirthText:"\u0633\u0646\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062f",dietText:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u063a\u0630\u0627\u0626\u064a \u0627\u0644\u0645\u062a\u0628\u0639",diseaseText:"\u0627\u0644\u0645\u0631\u0636",weightText:"\u0627\u0644\u0648\u0632\u0646",heightText:"\u0627\u0644\u0637\u0648\u0644",Hba1CText:"Hba1C",medicinesText:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",sexText:"\u0627\u0644\u062c\u0646\u0633",surgeryText:"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u062c\u0631\u0627\u062d\u064a\u0629",otherDiseaseText:"\u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0623\u062e\u0631\u0649",whoIsPatientText:"\u0645\u0646 \u0627\u0644\u0645\u062a\u0644\u0642\u064a",outSideLinkText:"\u0631\u0627\u0628\u0637 \u0645\u0644\u0641 \u062e\u0627\u0631\u062c\u064a",topicsText:"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639",saveText:"\u062d\u0641\u0638"},gt=function(){var e=Object(Ye.a)(),t=Object(y.b)(),n=Object(r.useState)(""),i=Object(h.a)(n,2),o=i[0],c=i[1],s=Object(r.useState)(""),l=Object(h.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)([]),g=Object(h.a)(j,2),b=g[0],p=g[1],f=Object(r.useState)([]),v=Object(h.a)(f,2),O=v[0],w=v[1],k=Object(r.useState)([]),C=Object(h.a)(k,2),S=C[0],I=C[1],D=Object(r.useState)([]),T=Object(h.a)(D,2),B=T[0],A=T[1],E=Object(r.useState)(""),M=Object(h.a)(E,2),L=M[0],z=M[1],P=Object(r.useState)([]),R=Object(h.a)(P,2),N=(R[0],R[1]),F=Object(r.useState)(""),W=Object(h.a)(F,2),G=W[0],H=W[1],V=Object(r.useState)(""),J=Object(h.a)(V,2),q=J[0],K=(J[1],Object(r.useState)("")),_=Object(h.a)(K,2),Y=_[0],U=_[1],$=Object(r.useState)(""),Q=Object(h.a)($,2),Z=Q[0],ee=Q[1],te=Object(r.useState)(""),ne=Object(h.a)(te,2),re=ne[0],ae=ne[1],ie=Object(r.useState)(""),oe=Object(h.a)(ie,2),ce=oe[0],se=oe[1],le=Object(r.useState)([]),de=Object(h.a)(le,2),ue=(de[0],de[1]),he=Object(r.useState)(""),je=Object(h.a)(he,2),ge=je[0],pe=je[1],fe=Object(r.useState)([]),me=Object(h.a)(fe,2),xe=me[0],ve=me[1],Oe=Object(r.useState)([]),ye=Object(h.a)(Oe,2),we=ye[0],ke=ye[1],Ce=Object(y.c)((function(e){return e.auth})).darkMode,Se=Object(y.c)((function(e){return e.educators})),Ie=Se.patients,De=Se.educators,Te=Object(y.c)((function(e){return e.patient})),Be=Te.patientProfile,Ae=Te.loading,Ee=Ce?Qe:$e;Object(r.useEffect)((function(){try{Be&&(c(null===Be||void 0===Be?void 0:Be.dateAffected),u(null===Be||void 0===Be?void 0:Be.dateBirth),p(null===Be||void 0===Be?void 0:Be.weights),w(null===Be||void 0===Be?void 0:Be.height),I(_e(Be,"hba1cs")),A(_e(Be,"medicines")),N(null===Be||void 0===Be?void 0:Be.notes),H(null===Be||void 0===Be?void 0:Be.diseaseType),U(null===Be||void 0===Be?void 0:Be.whoIsPatient),ee(null===Be||void 0===Be?void 0:Be.surgery),ae(null===Be||void 0===Be?void 0:Be.otherDisease),se(null===Be||void 0===Be?void 0:Be.outSideLink),ue(null===Be||void 0===Be?void 0:Be.topics),pe(null===Be||void 0===Be?void 0:Be.diet))}catch(e){console.log(e)}}),[Be]),Object(r.useEffect)((function(){var e=Object.values(Ie).filter((function(e){return(null===e||void 0===e?void 0:e.patientId)===(null===Be||void 0===Be?void 0:Be.patientId)}))[0];z(null===e||void 0===e?void 0:e.patientName),ve(null===e||void 0===e?void 0:e.educators.map((function(e){return{id:e.id,name:e.name}})))}),[Ie,Be]),Object(r.useEffect)((function(){var e=[];if(xe){xe.forEach((function(t){e.push(t.id)}));var t=Object.values(De).filter((function(t){return e.includes(t.id)}));ke(t)}}),[xe]);var Me,Le=[],ze=jt,Pe=ze.dateAffectedText,Re=ze.name,Ne=ze.dateBirthText,We=ze.dietText,Ge=ze.diseaseText,He=ze.medicinesText,Ve=ze.otherDiseaseText,Je=ze.outSideLinkText,qe=ze.sexText,Ke=ze.surgeryText,Ue=ze.whoIsPatientText,tt=ze.Hba1CText;return Object(x.jsxs)("div",{style:Ee.flex1,children:[Ae?Object(x.jsx)(Fe.a,{animation:"border"}):"",Object(x.jsxs)("div",{style:Ee.root,children:[Object(x.jsx)("div",{style:Ee.contentWrapper,children:Object(x.jsxs)("div",{style:{flex:1},children:[Object(x.jsx)(m.a,{style:Ee.patientName,children:Object(x.jsxs)("div",{style:Ee.text,children:[L," :",Re]})}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(x.jsxs)("div",{style:{width:"50%",marginRight:15},children:[Object(x.jsx)(et,{text:new Date(o).toLocaleDateString(),description:Pe,style:Ee.leftSideCard}),Object(x.jsx)(et,{text:new Date(d).toLocaleDateString(),description:Ne,style:Ee.leftSideCard}),Object(x.jsx)(et,{text:G,description:Ge,style:Ee.leftSideCard}),Object(x.jsx)(et,{text:q,description:qe,style:Ee.leftSideCard})]}),Object(x.jsxs)("div",{style:{width:"50%",marginRight:20},children:[Object(x.jsx)(et,{text:Y,description:Ue,style:Ee.leftSideCard}),Object(x.jsx)(et,{text:Z,description:Ke,style:Ee.leftSideCard}),Object(x.jsx)(et,{text:re,description:Ve,style:Ee.leftSideCard}),Object(x.jsx)(m.a,{color:!0,style:Ee.leftSideCard,children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Ze.a,{style:Ee.text,variant:"h5",component:"h2",children:Je}),Object(x.jsx)("a",{href:ce,target:"_blank",style:Ee.textColor,rel:"noreferrer",children:ce})]})})]})]})]})}),Object(x.jsxs)("div",{style:Ee.rightSideDiv,children:[Object(x.jsx)("div",{style:Ee.chartDiv,children:Object(x.jsx)(m.a,{style:Ee.chartWrapper,children:(b.forEach((function(e){Le.push(function(e,t,n){return{date:e,weight:t,height:n}}(e.createdOn.split("T")[0],e.weight,O))})),Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(it.a,{children:Object(x.jsxs)(ot.a,{data:Le,margin:Ee.chartMargin,children:[Object(x.jsx)(ct.a,{dataKey:"date",stroke:e.palette.text.secondary}),Object(x.jsx)(st.a,{stroke:e.palette.text.secondary,children:Object(x.jsx)(lt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:Me})}),Object(x.jsx)(dt.a,{}),Object(x.jsx)(ut.a,{}),Object(x.jsx)(ht.a,{type:"monotone",dataKey:"weight",stroke:"#8884d8",activeDot:{r:8}}),Object(x.jsx)(ht.a,{type:"monotone",dataKey:"height",stroke:"#82ca9d"})]})})}))})}),Object(x.jsxs)("div",{style:Ee.rightBottomRightDiv,children:[Object(x.jsxs)("div",{style:Ee.rightSideLeftColumn,children:[Object(x.jsx)(et,{text:B,description:He,style:Ee.rightSideCard}),Object(x.jsx)(et,{text:ge,description:We,style:Ee.rightSideCard}),Object(x.jsx)(et,{text:S,description:tt,style:Ee.rightSideCard})]}),Object(x.jsxs)("div",{style:Ee.rightSideRightColumn,children:[Object(x.jsx)(m.a,{color:!0,style:Ee.rightSideCard,children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Ze.a,{style:Ee.text,variant:"h5",component:"h2",children:"Educators"}),Object(x.jsx)("div",{style:Ee.educatorsDiv,children:null===xe||void 0===xe?void 0:xe.map((function(e){return Object(x.jsx)(X.a,{variant:"contained",onClick:function(){var n;n=e.id,t(be(n))},style:Ee.educatorsButton,children:Object(x.jsx)("text",{children:e.name})})}))})]})}),Object(x.jsx)(at,{patientId:null===Be||void 0===Be?void 0:Be.patientId,educators:we,darkMode:Ce})]})]})]})]})]})},bt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:"#6AC6F7"},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"initial"},pt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh",backgroundColor:Ee.black},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5,color:Me.lightGrey},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:Me.mainBlue},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"secondary",text:{color:Me.lightGrey}},ft=n(262),mt=n.n(ft),xt={titleText:{fontSize:30},text:{overflow:"auto"}},vt={titleText:{fontSize:30,color:Me.lightGrey},text:{overflow:"auto",color:Me.lightGrey}},Ot=function(e){var t=e.currentNote,n=e.setNotes,r=Object(y.c)((function(e){return e.auth})).darkMode?vt:xt;return Object(x.jsxs)("div",{children:[Object(x.jsx)(X.a,{onClick:function(){n()},children:Object(x.jsx)(mt.a,{})}),Object(x.jsx)("div",{style:r.titleText,children:t.title}),Object(x.jsx)("div",{style:r.text,children:t.text})]})},yt=function(){var e=Object(y.c)((function(e){return e.patient})).patientProfile,t=Object(y.c)((function(e){return e.auth})).darkMode,n=Object(r.useState)("notes"),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(null),s=Object(h.a)(c,2),l=s[0],d=s[1],u={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f"},j=t?pt:bt;return Object(x.jsx)("div",{style:j.mainDev,children:Object(x.jsx)("div",{className:"grid-container",children:"notes"===i?function(){var t;return null===e||void 0===e||null===(t=e.notes)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("div",{style:j.cardDev,children:Object(x.jsx)(m.a,{style:j.root,variant:"outlined",children:Object(x.jsxs)(Xe.a,{style:j.cardContent,children:[Object(x.jsx)(Ze.a,{color:j.color,variant:"h5",component:"h2",children:e.title}),Object(x.jsx)(Ze.a,{color:j.color,style:j.text,variant:"body2",component:"p",children:e.text}),Object(x.jsx)(Ze.a,{color:j.color,style:j.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(x.jsx)(Ze.a,{style:j.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(x.jsx)(X.a,{size:"small",style:j.learnMoreButton,onClick:function(){return function(e){d(e),o("readmore")}(e)},children:u.learnMore})})]})})})}))}():Object(x.jsx)(Ot,{currentNote:l,setNotes:function(){o("notes")}})})})},wt=function(){var e=Object(y.c)((function(e){return e.patient})).patientProfile,t=Object(y.c)((function(e){return e.auth})).darkMode,n=Object(r.useState)("notes"),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(null),s=Object(h.a)(c,2),l=s[0],d=s[1],u={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f"},j=t?pt:bt;return Object(x.jsx)("div",{style:j.mainDev,children:Object(x.jsx)("div",{className:"grid-container",children:"notes"===i?function(){var t;return null===e||void 0===e||null===(t=e.summaries)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("div",{style:j.cardDev,children:Object(x.jsx)(m.a,{style:j.root,variant:"outlined",children:Object(x.jsxs)(Xe.a,{style:j.cardContent,children:[Object(x.jsx)(Ze.a,{color:j.color,variant:"h5",component:"h2",children:e.title}),Object(x.jsx)(Ze.a,{color:j.color,style:j.text,variant:"body2",component:"p",children:e.text}),Object(x.jsx)(Ze.a,{color:j.color,style:j.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(x.jsx)(Ze.a,{style:j.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(x.jsx)(X.a,{size:"small",style:j.learnMoreButton,onClick:function(){return function(e){d(e),o("readmore")}(e)},children:u.learnMore})})]})})})}))}():Object(x.jsx)(Ot,{currentNote:l,setNotes:function(){o("notes")}})})})},kt=n(505),Ct=n(265),St=n.n(Ct),It=n(264),Dt=n.n(It),Tt=n(266),Bt=n.n(Tt),At=n(507),Et=n(263),Mt=n.n(Et),Lt=n(267),zt=n.n(Lt),Pt=n(268),Rt=n.n(Pt),Nt=Ae,Ft={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.8vh",width:"100%",backgroundColor:Nt.primary.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Nt.primary.black,color:Nt.primary.white},icons:{color:Nt.primary.black},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:"#6D9DC5"},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%"},listDev:{width:"20%",backgroundColor:Nt.primary.bluishWhite},rightColumn:{width:"80%",height:"100%"},cardContainer:Nt.primary.white,listHeaderDiv:{display:"block",backgroundColor:Nt.primary.white,textAlign:"center",padding:10},patientListName:{color:"black"}},Wt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.8vh",width:"100%",backgroundColor:Ee.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Ee.black,color:Ee.white},icons:{color:Me.lightGrey},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:"#6D9DC5"},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%",overflow:"hidden"},listDev:{width:"20%",backgroundColor:Me.mainBlue},rightColumn:{width:"80%",height:"100%"},cardContainer:Me.darkBlue,listHeaderDiv:{display:"block",backgroundColor:Me.darkBlue,textAlign:"center",padding:10},patientListName:{color:Me.lightGrey}},Gt=function(){var e=Object(s.f)(),t=Object(y.b)(),n=Object(r.useState)(""),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)([]),l=Object(h.a)(c,2),d=l[0],u=l[1],j=Object(r.useState)(""),g=Object(h.a)(j,2),b=g[0],p=g[1],f=Object(r.useState)(""),m=Object(h.a)(f,2),O=m[0],w=m[1],k=Object(r.useState)(""),C=Object(h.a)(k,2),S=C[0],I=C[1],D=Object(r.useState)(!0),T=Object(h.a)(D,2),A=T[0],E=T[1],M=Object(r.useState)({ar:{chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",profile:"\u0627\u0644\u0628\u0631\u0648\u0641\u0627\u064a\u0644",educators:"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",time:"\u0627\u0644\u0648\u0642\u062a"}}),L=Object(h.a)(M,2),z=L[0],P=(L[1],Object(y.c)((function(e){return e.auth}))),R=P.chats,N=P.token,F=P.educatorId,W=P.darkMode,G=Object(y.c)((function(e){return e.educators})),H=G.fetchedEducatorId,V=G.patients,J=G.educators,q=G.currentEducator,_=Object(y.c)((function(e){return e.patient})).patientId,U=Boolean(O),$=W?Wt:Ft;Object(r.useEffect)((function(){N||e.replace("/")}),[N]),Object(r.useEffect)((function(){try{if((null===R||void 0===R?void 0:R.length)&&!R[0].id){var e=B(R);t(K(e))}}catch(n){console.log("error setting chats:",n)}}),[R,t]),Object(r.useEffect)((function(){var e;0!==(e=Object.values(J).filter((function(e){return H===e.id}))).length&&u(e[0].chats),t(pe(e[0])),t(se())}),[t,F,J,H,d,V]),Object(r.useEffect)((function(){_&&E(!1)}),[_]),Object(r.useEffect)((function(){t(ve({educatorId:F,token:N,patientId:_}))}),[t,F,_,N]);var Q=function(e){p("profile"),t(ve({fetchedEducatorId:H,token:N,patientId:e}))},ee=function(){w(null)},te=function(e,t){I(t),function(e){w(e.currentTarget)}(e),p("appointment")},ne=function(e){A||p(e)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Re,{}),Object(x.jsx)(Z.a,{maxWidth:!1,style:$.container,children:Object(x.jsxs)(v,{width:"95%",display:"flex",direction:"row",padding:10,marginT:10,marginB:10,backgroundColor:$.cardContainer,children:[Object(x.jsxs)("div",{style:$.listDev,children:[Object(x.jsxs)("div",{style:$.listHeaderDiv,children:[Object(x.jsx)(X.a,{variant:"contained",onClick:function(){return o("patients")},style:$.buttonsText,children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),Object(x.jsx)(X.a,{style:$.buttonsText,variant:"contained",onClick:function(){return o("appointments")},children:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"})]}),"appointments"===i?Object(x.jsx)("div",{children:function(){var e=[];q&&q.appointments.forEach((function(t){e.push({appointmentId:t.appointmentId,date:new Date(t.date.split("T")[0]),name:t.name,time:t.time,patientId:t.patientId})}));return!e||e&&!Object.keys(e).length?null:Object(x.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object.values(e).sort((function(e,t){return t.date-e.date})).map((function(e){return Object(x.jsx)(X.a,{variant:"contained",style:{width:"100%"},onClick:function(t){return te(t,e)},children:new Date(e.date).toDateString()},e.appointmentId)}))})}()}):Object(x.jsx)("div",{children:d.length?Object(x.jsx)("div",{children:Object(x.jsx)("div",{style:{height:"76vh",overflow:"auto"},children:d.map((function(e){return Object(x.jsx)(We.a,{active:_===e.patientId,onClick:function(){return function(e,n){t(Ce(n)),t(ce(e))}(e.id,e.patientId)},children:Object(x.jsx)(We.a.Content,{children:Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(x.jsx)(Mt.a,{fontSize:"large",style:{marginRight:5}}),Object(x.jsx)("div",{style:$.patientListName,children:e.patientName})]})})},e.id)}))})}):null})]}),Object(x.jsx)("div",{style:$.rightColumn,children:Object(x.jsx)("div",{style:$.mianDev,children:Object(x.jsxs)("div",{style:$.iconsDev,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(kt.a,{"aria-label":"chat",onClick:function(){return ne("chat")},children:Object(x.jsx)(Dt.a,{style:$.icons,fontSize:"large"})}),Object(x.jsx)(kt.a,{"aria-label":"chat",onClick:function(){ne("profile")},children:Object(x.jsx)(St.a,{style:$.icons,fontSize:"large"})}),Object(x.jsx)(kt.a,{"aria-label":"notes",onClick:function(){ne("notes")},children:Object(x.jsx)(Bt.a,{style:$.icons,fontSize:"large"})}),Object(x.jsx)(kt.a,{"aria-label":"summary",onClick:function(){ne("summaries")},children:Object(x.jsx)(zt.a,{style:$.icons,fontSize:"large"})}),Object(x.jsx)(kt.a,{"aria-label":"darkmode",style:{left:"56vw"},onClick:function(){t(Y(!W))},children:Object(x.jsx)(Rt.a,{style:$.icons,fontSize:"large"})})]}),"profile"===b?Object(x.jsx)(gt,{}):"notes"===b?Object(x.jsx)(yt,{}):"appointment"===b?Object(x.jsx)(At.a,{open:U,anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:ee,disableRestoreFocus:!0,children:Object(x.jsxs)("div",{style:{height:"10vh",width:"10vw"},children:[Object(x.jsxs)("h6",{style:{textAlign:"center"},children:[S.name," :",z.ar.patientName]}),Object(x.jsxs)("h6",{style:{textAlign:"center"},children:[S.time," :",z.ar.time]}),Object(x.jsx)(X.a,{variant:"contained",style:$.goToPatientButton,onClick:function(){return Q(S.patientId)},children:z.ar.goToPatient})]})}):"summaries"===b?Object(x.jsx)(wt,{}):d.length?Object(x.jsx)(Ke,{style:{width:1e3,backgroundColor:"green"},chatId:5634,tokxen:N,educatorId:F}):null]})})})]})}),Object(x.jsx)(Ne,{})]})},Ht=n(269),Vt=n(143),Jt=n(270),qt={key:"root",storage:n.n(Jt).a,whitelist:["auth"]},Kt=Object(Vt.a)(qt,{chats:le,auth:U,educators:fe,patient:Ie}),_t=Object(k.d)(),Yt=Object(k.a)(Object(w.a)({reducer:Kt},_t)),Ut=Object(Vt.b)(Yt),$t=Yt,Qt=function(){return Object(x.jsx)(Ht.a,{loading:null,persistor:Ut,children:Object(x.jsx)(c.a,{children:Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.a,{exact:!0,path:"/",component:te}),Object(x.jsx)(s.a,{exact:!0,path:"/showpatients",component:Gt}),Object(x.jsx)(s.a,{path:"*",component:Gt})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(x.jsx)(y.a,{store:$t,children:Object(x.jsx)(Qt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[453,1,2]]]);
//# sourceMappingURL=main.5704efce.chunk.js.map