(this["webpackJsonpeducator-webapp"]=this["webpackJsonpeducator-webapp"]||[]).push([[0],{116:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(16),c=n.n(o),l=n(120),s=n(37),d=n(10),u=n.n(d),h=n(23),j=n(8),f=n.p+"static/media/bright-no-bg.d6200e7f.png",b=n(17),g=n(22),p=n(52),m=n(32),v=n(31),x=n.n(v),O="https://api.ithnain.com",y=n(241),w={loading:!1,error:null},k=function(e){return Object(y.sha256)(e)},C=Object(m.b)("auth/loginEducatorAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,i=n.rejectWithValue,e.next=4,k(r);case 4:return o=e.sent,c={},l={id:a,password:o},e.abrupt("return",x.a.post("".concat(O,"/login"),l).then((function(e){if(e.data.educator){var t=e.data,n=t.educatorId,a=t.appointments,r=t.chats;i();var o=JSON.parse(e.data.educator).token;return c.token=o[o.length-1],c.educatorId=n,c.appointments=a,c.chats=r,c.admin=!1,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(m.b)("auth/loginAdminAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,i=n.rejectWithValue,e.next=4,k(r);case 4:return o=e.sent,c={},l={adminUsername:a,password:o},e.abrupt("return",x.a.post("".concat(O,"/login"),l).then((function(e){if(e.data.admin){var t=JSON.parse(e.data.admin),n=t.id,a=t.token;return c.token=a[a.length-1],c.educatorId=n,c.admin=!0,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(m.b)("auth/logout",function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,r=t.adminId,i=r?{adminId:r}:{educatorId:n,notificationToken:" "},e.next=4,x.a.patch("".concat(O,"/logout"),i,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){})).catch((function(e){console.log("error ",e)}));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(m.b)("auth/resetPasswordAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,s,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.adminId,r=t.token,i=t.oldPassword,o=t.newPassword,c=n.rejectWithValue,e.prev=2,e.next=5,k(o);case 5:return l=e.sent,e.next=8,k(i);case 8:return s=e.sent,d={adminId:a,oldPassword:s,password:l},e.next=12,x.a.patch("".concat(O,"/admin?adminId=").concat(a),d,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.data.id?e.data:c("wrong password")})).catch((function(e){return console.log("error reseting ",e),c(e)}));case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",c(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(p.a)({token:null,educatorId:null,appointments:null,chats:null,response:null,darkMode:!1,admin:!1,resetError:""},w),A=Object(m.c)({name:"auth",initialState:T,reducers:{clearAll:function(){return T},setLoading:function(e,t){e.loading=t.payload},setChats:function(e,t){e.chats=t.payload},setDarkMode:function(e,t){e.darkMode=t.payload},setResetError:function(e,t){e.resetError=t.payload}},extraReducers:(a={},Object(g.a)(a,C.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.appointments=t.payload.appointments,e.chats=t.payload.chats,e.admin=t.payload.admin,e.loading=!1})),Object(g.a)(a,C.pending,(function(e,t){e.loading=!0})),Object(g.a)(a,C.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),Object(g.a)(a,I.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.admin=t.payload.admin,e.loading=!1})),Object(g.a)(a,I.pending,(function(e,t){e.loading=!0})),Object(g.a)(a,I.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),Object(g.a)(a,D.fulfilled,(function(e,t){e.token=t.payload.token[0]})),Object(g.a)(a,D.rejected,(function(e,t){e.resetError="somthing went wrong"})),a)}),B=A.actions,L=B.setLoading,E=B.setChats,P=B.clearAll,z=(B.setDarkMode,B.setResetError),M=A.reducer,R=n(557),N=n(542),W=n(541),F=n(543),H={container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#0a122a",width:"100%"},card:{width:"80%",padding:30,borderRadius:8},root:{display:"flex",flexDirection:"row"},logo:{width:"30%",marginBottom:"15%"},formDiv:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column"},username:{marginTop:10,marginBottom:10},password:{marginTop:10,marginBottom:10},button:{backgroundColor:"lightblue",marginTop:10,marginBottom:10},error:{color:"red"}},V=n(544),U=n(1),G=function(){var e=Object(b.b)(),t=Object(s.f)(),n=Object(r.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(""),l=Object(j.a)(c,2),d=l[0],g=l[1],p=Object(r.useState)("educator"),m=Object(j.a)(p,2),v=m[0],x=m[1],O=Object(r.useState)("lightgrey"),y=Object(j.a)(O,2),w=y[0],k=y[1],S=Object(r.useState)("white"),D=Object(j.a)(S,2),T=D[0],A=D[1],B=Object(r.useState)({ar:{username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a",submit:"\u062f\u062e\u0648\u0644"}}),E=Object(j.a)(B,2),P=E[0],z=(E[1],Object(b.c)((function(e){return e.auth}))),M=z.educatorId,G=z.token,J=z.loading,_=z.error;Object(r.useEffect)((function(){G&&M&&t.push("showpatients")}),[M,t,G]);var q=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(L(!0)),e(C({username:i,password:d}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(L(!0)),e(I({username:i,password:d}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(U.jsx)(F.a,{maxWidth:!1,style:H.container,children:Object(U.jsxs)("div",{style:H.root,children:[Object(U.jsx)("img",{src:f,style:H.logo}),Object(U.jsx)("div",{style:H.formDiv,children:Object(U.jsxs)(V.a,{style:H.card,children:[Object(U.jsxs)("div",{style:{borderRadius:5,borderWidth:1,borderColor:"grey",borderStyle:"solid"},children:[Object(U.jsx)(W.a,{style:{width:"50%",height:50,backgroundColor:w},value:"educator",onClick:function(){x("educator"),k("lightgrey"),A("white")},children:"Educator"}),Object(U.jsxs)(W.a,{style:{width:"50%",height:50,backgroundColor:T},value:"admin",onClick:function(){x("admin"),A("lightgrey"),k("white")},children:[" ","Admin"]})]}),"admin"===v?Object(U.jsxs)("form",{style:H.form,children:[Object(U.jsx)(R.a,{type:"username",required:!0,id:"outlined-required",label:P.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:H.username}),Object(U.jsx)(R.a,{type:"password",required:!0,id:"outlined-required",label:P.ar.password,variant:"outlined",value:d,onChange:function(e){e.persist(),g(e.target.value)},style:H.password}),Object(U.jsx)(W.a,{variant:"primary",style:H.button,onClick:function(){K()},children:P.ar.submit}),J?Object(U.jsx)(N.a,{}):null,_?Object(U.jsx)("text",{style:H.error,children:_}):""]}):Object(U.jsxs)("form",{style:H.form,children:[Object(U.jsx)(R.a,{type:"username",required:!0,id:"outlined-required",label:P.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:H.username}),Object(U.jsx)(R.a,{type:"password",required:!0,id:"outlined-required",label:P.ar.password,variant:"outlined",value:d,onChange:function(e){e.persist(),g(e.target.value)},style:H.password}),Object(U.jsx)(W.a,{variant:"primary",style:H.button,onClick:q,children:P.ar.submit}),J?Object(U.jsx)(N.a,{}):null,_?Object(U.jsx)("text",{style:H.error,children:_}):""]})]})})]})})};function J(e){return e.map((function(e){return JSON.parse(e)}))}function _(e){var t=[],n={};for(var a in e){var r=e[a];Array.isArray(r)&&(n[a]=J(r),t.push(J(r)))}return n}var q,K,Y,$,Q=n.p+"static/media/logo-dark-notext.58fe3789.png",X=Object(m.b)("chats/getChatsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.chatId,r=t.educatorId,i=t.token,o=t.adminId,c=n.rejectWithValue,e.prev=2,l=o?"adminId=".concat(o,"&"):"",e.next=6,x.a.get("".concat(O,"/message?chatId=").concat(a,"&").concat(l,"educatorId=").concat(r),{headers:{Authorization:"Bearer ".concat(i)},timeout:1e4});case 6:if(!(null===(s=e.sent)||void 0===s?void 0:s.data)){e.next=9;break}return e.abrupt("return",s.data.reverse());case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),console.log("error",e.t0),e.abrupt("return",c(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(m.b)("chats/getAllChats",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,s,d,h,j,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=t.adminId,o=n.rejectWithValue,e.prev=2,c=i?"adminId=".concat(i,"&"):"",e.next=6,x.a.get("".concat(O,"/chats?educatorId=").concat(a,"&").concat(c,"filterDate=all"),{headers:{Authorization:"Bearer ".concat(r)},timeout:1e4});case 6:if(!(null===(l=e.sent)||void 0===l?void 0:l.data)){e.next=12;break}return h=J(null===(s=l.data)||void 0===s?void 0:s.chats),j=J(null===(d=l.data)||void 0===d?void 0:d.archivedChats),f={chats:h,archivedChats:j},e.abrupt("return",f);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),o(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(p.a)({messages:null,currentChat:null,allChats:[],archivedChats:[],allChatsLoading:!1},w),te=Object(m.c)({name:"chats",initialState:ee,reducers:{clearAll:function(){return ee},setChats:function(e,t){e.chats=t.payload},setCurrentChat:function(e,t){e.currentChat=t.payload}},extraReducers:(q={},Object(g.a)(q,X.fulfilled,(function(e,t){e.messages=t.payload,e.loading=!1})),Object(g.a)(q,X.pending,(function(e,t){e.loading=!0})),Object(g.a)(q,X.rejected,(function(e,t){e.error=t.payload})),Object(g.a)(q,Z.pending,(function(e,t){e.allChatsLoading=!0})),Object(g.a)(q,Z.fulfilled,(function(e,t){e.allChats=t.payload.chats,e.archivedChats=t.payload.archivedChats,e.allChatsLoading=!1})),Object(g.a)(q,Z.rejected,(function(e,t){e.allChatsLoading=!1,e.error=t.payload})),q)}),ne=te.actions,ae=(ne.setChats,ne.setCurrentChat),re=ne.clearAll,ie=te.reducer,oe=function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"adminId"!==Object.keys(t)[0]){e.next=7;break}return e.next=4,x.a.get("".concat(O,"/educator?get=all&adminId=").concat(t.adminId,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,x.a.get("".concat(O,"/educator?get=all&").concat(t,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 9:a=e.sent;case 10:if(!a.data){e.next=14;break}return r={},a.data.forEach((function(e){var t=JSON.parse(e),n=t.name,a=t.id;r[a]={name:n,id:a}})),e.abrupt("return",r);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Error getEducatorIds",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,s,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,e.prev=1,"chats,appointments,educator,all",e.next=5,x.a.get("".concat(O,"/educator?id=").concat(n,"&get=").concat("chats,appointments,educator,all","&educatorId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 5:if(!(r=e.sent).data){e.next=13;break}return i=r.data,o=JSON.parse(i.educator),delete i.educator,c=_(i),l=c.appointments,s=c.chats,d=c.educators,e.abrupt("return",{chats:s,appointments:l,educator:o,educators:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getEducatorData Error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,s,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.adminId,r=t.token,e.prev=1,"chats,appointments,educator,all",e.next=5,x.a.get("".concat(O,"/educator?id=").concat(n,"&get=").concat("chats,appointments,educator,all","&adminId=").concat(a),{headers:{Authorization:"Bearer ".concat(r)}});case 5:if(!(i=e.sent).data){e.next=13;break}return o=i.data,c=JSON.parse(o.educator),delete o.educator,l=_(o),s=l.appointments,d=l.chats,h=l.educators,e.abrupt("return",{chats:d,appointments:s,educator:c,educators:h});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getAdminData Error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),se=Object(m.b)("educators/getEducatorsAndPatients",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,s,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=n.rejectWithValue,e.prev=2,o={},e.next=6,ce({educatorId:a,token:r});case 6:return c=e.sent,l=c.chats,s=c.appointments,d=c.educator,l&&(d.chats=l,d.count=l.length,l.forEach((function(e){var t=o[e.patientId];t||(o[e.patientId]=e,t=o[e.patientId]),t&&t.educators?t.educators.push({id:d.id,name:d.name}):t.educators=[{id:d.id,name:d.name}]}))),s&&(d.appointments=s),h=[d],e.abrupt("return",{educators:h,patients:o});case 16:return e.prev=16,e.t0=e.catch(2),console.log(" Error getEducatorsAndPatients",e.t0),e.abrupt("return",i(e.t0));case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,n){return e.apply(this,arguments)}}()),de=Object(m.b)("educators/getAllEducators",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.adminId,r=t.token,n.rejectWithValue,e.next=4,oe({adminId:a},r);case 4:i=e.sent,o={},c=u.a.mark((function e(){var t,n,c,s,d,h,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i[l],e.next=3,le({educatorId:t.id,adminId:a,token:r});case 3:n=e.sent,c=n.chats,s=n.appointments,d=n.educators,h=null===d||void 0===d?void 0:d.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})),i[l].specialty=null===h||void 0===h?void 0:h.specialty,j=null===h||void 0===h?void 0:h.isCaseHandler,t.isCaseHandler=j,c&&(t.chats=c,t.count=c.length,c.forEach((function(e){var n=o[e.patientId];n||(o[e.patientId]=e,n=o[e.patientId]),n&&n.educators?n.educators.push({id:t.id,name:t.name}):n.educators=[{id:t.id,name:t.name}]}))),s&&(i[l].appointments=s);case 13:case"end":return e.stop()}}),e)})),e.t0=u.a.keys(i);case 8:if((e.t1=e.t0()).done){e.next=13;break}return l=e.t1.value,e.delegateYield(c(),"t2",11);case 11:e.next=8;break;case 13:return e.abrupt("return",{educators:i,patients:o});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(p.a)({educators:[],patients:[],fetchedEducatorId:"",currentEducator:""},w),he=Object(m.c)({name:"educators",initialState:ue,reducers:{clearAll:function(){return ue},setFetchedEducatiorId:function(e,t){e.fetchedEducatorId=t.payload},setCurrentEducator:function(e,t){e.currentEducator=t.payload}},extraReducers:(K={},Object(g.a)(K,se.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(g.a)(K,se.pending,(function(e,t){e.loading=!0})),Object(g.a)(K,se.rejected,(function(e,t){e.loading=!1})),Object(g.a)(K,de.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(g.a)(K,de.pending,(function(e,t){e.loading=!0})),Object(g.a)(K,de.rejected,(function(e,t){e.loading=!1})),K)}),je=he.actions,fe=je.clearAll,be=je.setFetchedEducatiorId,ge=je.setCurrentEducator,pe=he.reducer,me=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,r=t.patientId,e.prev=1,e.next=4,x.a.get("".concat(O,"/patient?patientId=").concat(r,"&educatorId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(!(i=e.sent).data){e.next=9;break}return o=i.data,c=o.patient,l=o.patientProfile,s=JSON.parse(c),e.abrupt("return",{patient:s,patientProfile:l});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("getPatient Error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.adminId,a=t.token,r=t.patientId,e.prev=1,e.next=4,x.a.get("".concat(O,"/patient?patientId=").concat(r,"&adminId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(!(i=e.sent).data){e.next=9;break}return o=i.data,c=o.patient,l=o.patientProfile,s=JSON.parse(c),e.abrupt("return",{patient:s,patientProfile:l});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("getPatient Error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(h.a)(u.a.mark((function e(t,n,a){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/appointment?patientId=").concat(t,"&educatorId=").concat(a,"&get=one"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(r=e.sent).data){e.next=7;break}return i=J(r.data),e.abrupt("return",i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Oe=Object(m.b)("patient/getPatientAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.educatorId,r=t.token,i=t.patientId,o=t.adminId,c=n.rejectWithValue,!o){e.next=8;break}return e.next=5,ve({adminId:o,token:r,patientId:i}).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),c(e)}));case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,me({educatorId:a,token:r,patientId:i}).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),c(e)}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ye=Object(m.b)("patinet/getAppointmentsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,xe(i,r,a).then((function(e){if(e)return e})).catch((function(e){console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),we=Object(p.a)({patientProfile:null,patientId:null,appointments:null},w),ke=Object(m.c)({name:"patient",initialState:we,reducers:{clearAll:function(){return we},setPatientId:function(e,t){e.patientId=t.payload}},extraReducers:(Y={},Object(g.a)(Y,Oe.fulfilled,(function(e,t){e.patientProfile=t.payload,e.loading=!1})),Object(g.a)(Y,Oe.rejeceted,(function(e,t){e.error=t.payload,e.loading=!1})),Object(g.a)(Y,Oe.pending,(function(e,t){e.loading=!0})),Object(g.a)(Y,ye.fulfilled,(function(e,t){e.appointments=t.payload})),Y)}),Ce=ke.actions,Ie=Ce.setPatientId,Se=Ce.clearAll,De=ke.reducer,Te=n(545),Ae=n(546),Be=n(560),Le=n(496),Ee=n(161),Pe=n(540),ze=n(564),Me=n(563),Re=n(246),Ne=n.n(Re),We=Object(Te.a)({avatar:{backgroundColor:Ee.a[100],color:Ee.a[600]}}),Fe=function(e){var t=e.setOpen,n=e.open,a=e.setOldPassword,i=e.setNewPassword,o=e.setNewPasswordVerify,c=e.handleResetSubmit,l=e.error,s=Object(r.useState)("profile"),d=Object(j.a)(s,2),u=d[0],h=d[1],f=We();return Object(U.jsx)(Be.a,{onClose:function(){t(!1)},open:n,children:Object(U.jsx)("div",{style:{height:400,width:600},children:"profile"===u?Object(U.jsxs)("div",{children:[Object(U.jsx)(Ae.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"Profile"}),Object(U.jsx)(Le.a,{style:{backgroundColor:"lightblue",marginLeft:10,textAlign:"center",width:580,height:40},children:"Name: "}),Object(U.jsx)(W.a,{style:{width:580,height:40,backgroundColor:"lightblue",marginLeft:10,marginTop:10},onClick:function(){h("reset")},children:"Reset Password"})]}):Object(U.jsxs)("div",{children:[Object(U.jsx)(Ae.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"Reset Password"}),Object(U.jsx)(W.a,{style:{backgroundColor:"lightblue",marginLeft:10},onClick:function(){h("profile")},children:Object(U.jsx)(Ne.a,{})}),Object(U.jsxs)(Pe.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:f.margin,variant:"outlined",children:[Object(U.jsx)(ze.a,{htmlFor:"outlined-adornment-amount",children:"Old Password"}),Object(U.jsx)(Me.a,{type:"password",onChange:function(e){a(e.target.value)},labelWidth:50})]}),Object(U.jsxs)(Pe.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:f.margin,variant:"outlined",children:[Object(U.jsx)(ze.a,{htmlFor:"outlined-adornment-amount",children:"New Password"}),Object(U.jsx)(Me.a,{type:"password",onChange:function(e){i(e.target.value)},labelWidth:50})]}),Object(U.jsxs)(Pe.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:f.margin,variant:"outlined",children:[Object(U.jsx)(ze.a,{htmlFor:"outlined-adornment-amount",children:"New Password"}),Object(U.jsx)(Me.a,{type:"password",onChange:function(e){o(e.target.value)},labelWidth:50})]}),Object(U.jsx)(W.a,{style:{backgroundColor:"lightblue",width:580,marginTop:10,marginLeft:10},onClick:function(){c()},variant:"primary",children:"Submit"}),Object(U.jsx)(ze.a,{style:{textAlign:"center",marginTop:10,color:"red"},children:l})]})})})},He=n(558),Ve=n(547),Ue={primary:{black:"#042c42",red:"#ee3d60",white:"#ffffff",bluishWhite:"#EDF8FF"},secondary:{lightBlue:"#d2edf4 ",mainBlue:"#51c7ea",darkBlue:"#005792",orange:"#fbbd33"}},Ge={black:"#042639",red:"#D03554",white:"#ffffff",bluishWhite:"#CFD9DF"},Je={lightBlue:"#B8CFD6",mainBlue:"#337C92",darkBlue:"#003B52",orange:"#BC8E26",lightGrey:"#CBCBCB"},_e=Ue,qe={root:{width:"100%",height:"5%"},tabs:{backgroundColor:Je.lightBlue,height:"100%"},logout:{fontSize:20,color:"black",width:30,height:50,marginLeft:25,transform:[{rotate:"90deg"}]},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Je.lightBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10},customTabDiv:{width:200,minWidth:140,height:50,fontSize:25,display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"center",textTransform:"none"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",fontSize:20,flexDirection:"row",display:"flex",marginBottom:-5},icon:{marginRight:10},tabDiv:{fontSize:16,marginBottom:2}},Ke={root:{flexGrow:1,width:"100%",height:50,backgroundColor:_e.secondary.darkBlue},tabs:{backgroundColor:_e.secondary.darkBlue,height:50},logout:{fontSize:20,color:"black",width:30,height:50,marginLeft:25,transform:[{rotate:"90deg"}]},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:_e.secondary.darkBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10},customTabDiv:{width:200,minWidth:140,height:50,fontSize:25,display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"center",textTransform:"none"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",fontSize:20,flexDirection:"row",display:"flex",marginBottom:-5,color:Je.lightGrey},icon:{marginRight:10},tabDiv:{fontSize:16,marginBottom:2,color:Je.lightGrey}},Ye=n(249),$e=n.n(Ye),Qe=n(153),Xe=n.n(Qe),Ze=n(248),et=n.n(Ze),tt=n(247),nt=n.n(tt),at=(n(116),function(){var e=Object(b.b)(),t=Object(s.f)(),n=Object(r.useState)([]),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(!1),l=Object(j.a)(c,2),d=l[0],u=l[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),g=f[0],p=f[1],m=Object(r.useState)(""),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)(2),T=Object(j.a)(I,2),A=T[0],B=T[1],L=Object(b.c)((function(e){return e.educators})),E=L.educators,M=L.loading,R=L.fetchedEducatorId,F=Object(b.c)((function(e){return e.auth})),H=F.educatorId,V=F.token,G=F.darkMode,J=F.admin,_=F.resetError,q=G?Ke:qe;Object(r.useEffect)((function(){e(J?de({adminId:H,token:V}):se({educatorId:H,token:V}))}),[]),Object(r.useEffect)((function(){E&&o(Object.values(E).sort((function(e,t){return(null===e||void 0===e?void 0:e.isCaseHandler)===(null===t||void 0===t?void 0:t.isCaseHandler)?0:(null===e||void 0===e?void 0:e.isCaseHandler)?-1:1})))}),[E]),Object(r.useEffect)((function(){var e=0;i&&(Object.values(i).forEach((function(t,n){(null===t||void 0===t?void 0:t.id)===R&&(e=n)})),B(J?e+3:e+2))}),[R]);return Object(U.jsx)("div",{style:q.root,children:Object(U.jsxs)(Ve.a,{position:"static",color:"default",children:[Object(U.jsxs)(He.a,{value:A,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",style:q.tabs,children:[Object(U.jsx)("img",{alt:"",src:Q,width:"110",height:"35",style:q.navLogo}),J?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(W.a,{onClick:function(){u(!0)},children:Object(U.jsx)(nt.a,{})}),Object(U.jsx)(Fe,{open:d,setOpen:u,setOldPassword:p,setNewPassword:O,setNewPasswordVerify:C,handleResetSubmit:function(){e(x===k?D({adminId:H,token:V,oldPassword:g,newPassword:x}):z("Passwords don't match"))},error:_})]}):null,Object(U.jsx)(W.a,{style:q.logout,children:Object(U.jsx)(et.a,{className:"logout",onClick:function(){return e(P()),e(fe()),e(re()),e(Se()),e(S(J?{adminId:H,token:V}:{educatorId:H,token:V})),void t.replace("/")}})}),Object.keys(i).length?Object.values(i).map((function(t){return Object(U.jsx)(W.a,{style:q.customTabDiv,onClick:function(){return n=t.id,void e(be(n));var n},children:Object(U.jsxs)("div",{style:q.tabDiv,children:[Object(U.jsxs)(Le.a,{style:q.text,children:[Object(U.jsx)("div",{style:q.icon,children:(null===t||void 0===t?void 0:t.isCaseHandler)?Object(U.jsx)($e.a,{}):Object(U.jsx)(Xe.a,{})}),t.name]}),Object(U.jsx)("text",{children:null===t||void 0===t?void 0:t.specialty})]})})})):""]}),M?Object(U.jsx)(N.a,{}):null]})})}),rt=function(){var e=Object(b.c)((function(e){return e.auth})).darkMode?Ke:qe;return Object(U.jsx)(Ve.a,{position:"fixed",color:"black",style:e.footerAppBar,children:Object(U.jsx)("img",{alt:"",src:Q,width:"100",height:"40",className:"d-inline-block align-top",style:e.footerLogo})})},it=n(548),ot=(n(345),n(47)),ct=n(264),lt=n.n(ct),st={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:"black"},emptyMessages:{color:"black"},chatScrollDiv:{overflow:"auto",height:"65vh",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:"#F4FBFF"}},dt={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{backgroundColor:Je.mainBlue},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:Je.lightGrey},emptyMessages:{color:Je.lightGrey},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:Je.mainBlue}},ut=function(e){var t=e.date,n=e.darkMode?dt:st,a=new Date(t);return Object(U.jsxs)("div",{style:n.separatorDiv,children:[Object(U.jsx)("div",{style:n.leftLine}),Object(U.jsxs)("div",{style:n.date,children:[t,", ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()]]}),Object(U.jsx)("div",{style:n.rightLine})]})},ht=n(265),jt=n.n(ht),ft=function(){var e=Object(b.b)(),t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),c=Object(j.a)(o,2),l=c[0],s=c[1],d=Object(r.useState)({ar:{messageCount:"\u0639\u062f\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",usageDuration:"\u0645\u062f\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645",emptyConvo:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0641\u0627\u0631\u063a\u0629"}}),u=Object(j.a)(d,2),h=u[0],f=(u[1],Object(b.c)((function(e){return e.auth}))),g=f.token,p=f.educatorId,m=f.darkMode,v=f.admin,x=Object(b.c)((function(e){return e.chats})),O=x.messages,y=x.loading,w=x.currentChat,k=m?dt:st,C=function(e,t,n){return Object(U.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t},n)};return Object(r.useEffect)((function(){e(X(v?{chatId:w,token:g,educatorId:p,adminId:p}:{chatId:w,token:g,educatorId:p}))}),[w]),Object(r.useEffect)((function(){var e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=["png","jpg","jpeg","gif"],a=["pdf","doc","docx"],r=["mp3","3gp","caf","wav","wave","m4a","aac"],i=0,o=[];for(var c in t){var l={};Object.assign(l,t[c]);var s=parseInt(l.user._id)-1;if(l.media){var d=l.media.split("."),u=d[d.length-1],h=n.includes(u.split("?")[0]),j=a.includes(u.split("?")[0]),f=r.includes(u.split("?")[0]);h?(e!==l.createdOn.split("T")[0]?(i++,l.message={image:l.media},l.message.date=l.createdOn.split("T")[0],e=l.createdOn.split("T")[0]):(l.message={image:l.media},l.message.text=l.text),delete l.media):j?(l.message={text:l.text,file:l.media},delete l.media):f?(l.media=l.media.replace("vnd.wave","wav"),l.message={audio:l.media},l.message.text=l.text,delete l.media):l.message={text:"this link is corrupted: "+l.media}}else l.text?e!==l.createdOn.split("T")[0]?(i++,l.message={text:l.text},l.message.date=l.createdOn.split("T")[0],e=l.createdOn.split("T")[0]):l.message={text:l.text}:l.message={text:""};l.message.createdOn=l.createdOn;var b=void 0;b=0===s?"outgoing":"incoming";var g=l.message.createdOn.split("T");l.message.createdOn=g;var p={userId:b,message:l.message};o.push(p)}return{formatedMessages:o,duration:i}}(O);i(e.formatedMessages.reverse()),s(e.duration)}),[O]),Object(U.jsxs)("div",{style:k.root,children:[Object(U.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(U.jsxs)("div",{style:k.statsDiv,children:[a.length," :",h.ar.messageCount," ",Object(U.jsx)("br",{}),h.ar.usageDuration,": ",l," ","\u064a\u0648\u0645"]}),y?Object(U.jsx)(it.a,{animation:"border"}):a.length?null:Object(U.jsxs)("div",{style:k.emptyMessages,children:[h.ar.emptyConvo," "]})]}),Object(U.jsx)("div",{style:k.chatDiv,children:Object(U.jsx)("div",{style:k.chatScrollDiv,children:a.map((function(e){var t,n,a,r;return Object(U.jsxs)("div",{children:[(null===(t=e.message)||void 0===t?void 0:t.date)&&Object(U.jsx)(ut,{date:e.message.date,darkMode:m}),(null===(n=e.message)||void 0===n?void 0:n.image)?Object(U.jsx)(ot.b,{model:{message:e.message.text,direction:e.userId},children:Object(U.jsx)(ot.b.ImageContent,{src:e.message.image,alt:"The image isn't working link: "+e.message.image,width:400})}):(null===(a=e.message)||void 0===a?void 0:a.audio)?Object(U.jsx)(ot.b,{model:{message:e.message.text,direction:e.userId,type:"image"},children:Object(U.jsx)(ot.b.CustomContent,{children:Object(U.jsx)(lt.a,{src:e.message.audio,controls:!0})})}):(null===(r=e.message)||void 0===r?void 0:r.file)?Object(U.jsxs)(ot.b,{model:{message:e.message.text,direction:e.userId},children:[Object(U.jsx)(ot.b.CustomContent,{children:Object(U.jsx)("a",{href:e.message.file,target:"_blank",download:!0,rel:"noreferrer",children:e.message.text})}),Object(U.jsx)(ot.b.Footer,{children:Object(U.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]}):Object(U.jsxs)(ot.b,{model:{message:e.message.text,direction:e.userId},children:[Object(U.jsx)(ot.b.CustomContent,{children:Object(U.jsx)("div",{style:k.customMessage,children:Object(U.jsx)(jt.a,{componentDecorator:C,children:e.message.text})})}),Object(U.jsx)(ot.b.Footer,{children:Object(U.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]})]},e.id)}))})})]})},bt=Ue,gt={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:bt.primary.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ue.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh"},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:"black"},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:bt.secondary.lightBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50.8%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},pt={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10,backgroundColor:Ge.black},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ge.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Ge.black},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Ge.black},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ue.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh",backgroundColor:Ge.black},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:Je.lightGrey},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:Je.mainBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},mt=n(549),vt=function(e){var t=e.text,n=e.description,a=e.style,r=Object(b.c)((function(e){return e.auth})).darkMode?pt:gt;return Object(U.jsx)(V.a,{color:!0,style:a,children:Object(U.jsxs)(mt.a,{children:[Object(U.jsx)(Le.a,{style:r.text,variant:"h5",component:"h2",children:n}),Object(U.jsx)(Le.a,{style:r.textColor,children:t})]})})},xt=Ue,Ot={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:xt.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:xt.secondary.lightBlue}},yt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10,backgroundColor:Ge.black},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:xt.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:Je.mainBlue}},wt=function(e){var t=e.patientId,n=e.educators,a=e.darkMode,i=Object(b.b)(),o=Object(r.useState)([]),c=Object(j.a)(o,2),l=c[0],s=c[1],d=Object(b.c)((function(e){return e.auth})),u=d.token,h=d.educatorId,f=Object(b.c)((function(e){return e.patient})).appointments;Object(r.useEffect)((function(){i(ye({educatorId:h,token:u,patientId:t}))}),[t]),Object(r.useEffect)((function(){f&&s(function(e,t){var n=[];return e&&e.forEach((function(e){n.push(t.filter((function(t){return e.id===t.educatorId})).map((function(t){return{date:t.date,educatorId:t.educatorId,name:e.name}})))})),n.flat()}(n,f))}),[f]);var g=a?yt:Ot;return Object(U.jsx)("div",{style:g.root,children:Object(U.jsxs)(V.a,{style:g.card,children:[Object(U.jsx)(Le.a,{style:g.text,variant:"h5",component:"h2",children:"Appointments"}),Object(U.jsx)("div",{style:g.listDiv,children:null===l||void 0===l?void 0:l.map((function(e){return Object(U.jsx)(W.a,{variant:"contained",onClick:function(){return function(e){i(be(e))}(e.educatorId)},style:g.button,children:Object(U.jsxs)("div",{children:[e.date.split("T")[0]," ",e.name]},e.id)},e.id)}))})]})})},kt=n(550),Ct=n(551),It=n(281),St=n(282),Dt=n(62),Tt=n(131),At=n(127),Bt=n(297),Lt=n(54),Et=function(e){var t=e.text,n=e.hba1cs,a=e.weights,o=e.height,c=Object(Lt.a)();var l=Object(r.useState)([]),s=Object(j.a)(l,2),d=s[0],u=s[1];return Object(r.useEffect)((function(){var e=[];null===n||void 0===n||n.forEach((function(t){var n,r;e.push(function(e,t,n,a){return{date:e,hba1c:t,weight:n,height:a}}(null===t||void 0===t||null===(n=t.createdOn)||void 0===n?void 0:n.split("T")[0],null===a||void 0===a||null===(r=a[0])||void 0===r?void 0:r.weight,null===t||void 0===t?void 0:t.hba1c,o))})),u(e)}),[n]),Object(U.jsx)(i.a.Fragment,{children:Object(U.jsx)(kt.a,{children:Object(U.jsxs)(Ct.a,{data:d,margin:gt.chartMargin,children:[Object(U.jsx)(It.a,{dataKey:"date",stroke:c.palette.text.secondary}),Object(U.jsx)(St.a,{stroke:c.palette.text.secondary,children:Object(U.jsx)(Dt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:c.palette.text.primary},children:t})}),Object(U.jsx)(Tt.a,{}),Object(U.jsx)(At.a,{}),Object(U.jsx)(Bt.a,{type:"monotone",dataKey:"hba1c",stroke:"#8884d8",activeDot:{r:8}}),Object(U.jsx)(Bt.a,{type:"monotone",dataKey:"weight",stroke:"#8884d8",activeDot:{r:8}}),Object(U.jsx)(Bt.a,{type:"monotone",dataKey:"height",stroke:"#82ca9d"})]})})})},Pt=function(e){var t=e.localEducators,n=e.darkMode,a=Object(b.b)(),r=n?pt:gt;return Object(U.jsx)(V.a,{color:!0,style:r.rightSideCard,children:Object(U.jsxs)(mt.a,{children:[Object(U.jsx)(Le.a,{style:r.text,variant:"h5",component:"h2",children:"Educators"}),Object(U.jsx)("div",{style:r.educatorsDiv,children:null===t||void 0===t?void 0:t.map((function(e){return Object(U.jsx)(W.a,{variant:"contained",onClick:function(){var t;t=e.id,a(be(t))},style:r.educatorsButton,children:Object(U.jsx)("text",{children:e.name})})}))})]})})},zt={name:"\u0627\u0644\u0627\u0633\u0645",dateAffectedText:"\u0645\u0635\u0627\u0628 \u0645\u0646\u0630",dateBirthText:"\u0633\u0646\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062f",dietText:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u063a\u0630\u0627\u0626\u064a \u0627\u0644\u0645\u062a\u0628\u0639",diseaseText:"\u0627\u0644\u0645\u0631\u0636",weightText:"\u0627\u0644\u0648\u0632\u0646",heightText:"\u0627\u0644\u0637\u0648\u0644",Hba1CText:"Hba1C",medicinesText:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",sexText:"\u0627\u0644\u062c\u0646\u0633",surgeryText:"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u062c\u0631\u0627\u062d\u064a\u0629",otherDiseaseText:"\u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0623\u062e\u0631\u0649",whoIsPatientText:"\u0645\u0646 \u0627\u0644\u0645\u062a\u0644\u0642\u064a",outSideLinkText:"\u0631\u0627\u0628\u0637 \u0645\u0644\u0641 \u062e\u0627\u0631\u062c\u064a",topicsText:"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639",saveText:"\u062d\u0641\u0638",needPayment:"\u0628\u062d\u0627\u062c\u0647 \u0644\u0644\u062f\u0641\u0639"},Mt=function(){var e=Object(b.b)(),t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),c=Object(j.a)(o,2),l=c[0],s=c[1],d=Object(r.useState)([]),u=Object(j.a)(d,2),h=u[0],f=u[1],g=Object(r.useState)([]),p=Object(j.a)(g,2),m=p[0],v=p[1],x=Object(r.useState)([]),O=Object(j.a)(x,2),y=O[0],w=O[1],k=Object(r.useState)([]),C=Object(j.a)(k,2),I=C[0],S=C[1],D=Object(r.useState)(""),T=Object(j.a)(D,2),A=T[0],B=T[1],L=Object(r.useState)([]),E=Object(j.a)(L,2),P=(E[0],E[1]),z=Object(r.useState)(""),M=Object(j.a)(z,2),R=M[0],N=M[1],W=Object(r.useState)(""),F=Object(j.a)(W,2),H=F[0],G=(F[1],Object(r.useState)("")),J=Object(j.a)(G,2),_=J[0],q=J[1],K=Object(r.useState)(""),Y=Object(j.a)(K,2),$=Y[0],Q=Y[1],X=Object(r.useState)(""),Z=Object(j.a)(X,2),ee=Z[0],te=Z[1],ne=Object(r.useState)(""),ae=Object(j.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(r.useState)([]),ce=Object(j.a)(oe,2),le=(ce[0],ce[1]),se=Object(r.useState)(""),de=Object(j.a)(se,2),ue=de[0],he=de[1],je=Object(r.useState)([]),fe=Object(j.a)(je,2),be=fe[0],ge=fe[1],pe=Object(r.useState)([]),me=Object(j.a)(pe,2),ve=me[0],xe=me[1],ye=Object(b.c)((function(e){return e.auth})),we=ye.darkMode,ke=ye.educatorId,Ce=ye.token,Ie=ye.admin,Se=Object(b.c)((function(e){return e.educators})),De=Se.patients,Te=Se.educators,Ae=Object(b.c)((function(e){return e.patient})),Be=Ae.patientProfile,Ee=Ae.loading,Pe=Ae.patientId,ze=we?pt:gt;Object(r.useEffect)((function(){try{Be&&(i(null===Be||void 0===Be?void 0:Be.dateAffected),s(null===Be||void 0===Be?void 0:Be.dateBirth),f(null===Be||void 0===Be?void 0:Be.weights),v(null===Be||void 0===Be?void 0:Be.height),w(null===Be||void 0===Be?void 0:Be.hba1cs),S(function(e,t){var n=t.substring(0,t.length-1),a="";return(null===e||void 0===e?void 0:e[t])&&e[t].forEach((function(e){a=a.concat((null===e||void 0===e?void 0:e[n])+"\n")})),a}(Be,"medicines")),P(null===Be||void 0===Be?void 0:Be.notes),N(null===Be||void 0===Be?void 0:Be.diseaseType),q(null===Be||void 0===Be?void 0:Be.whoIsPatient),Q(null===Be||void 0===Be?void 0:Be.surgery),te(null===Be||void 0===Be?void 0:Be.otherDisease),ie(null===Be||void 0===Be?void 0:Be.outSideLink),le(null===Be||void 0===Be?void 0:Be.topics),he(null===Be||void 0===Be?void 0:Be.diet))}catch(e){console.log(e)}}),[Be]),Object(r.useEffect)((function(){var e=Object.values(De).filter((function(e){return(null===e||void 0===e?void 0:e.patientId)===(null===Be||void 0===Be?void 0:Be.patientId)}))[0];B(null===e||void 0===e?void 0:e.patientName),ge(null===e||void 0===e?void 0:e.educators.map((function(e){return{id:e.id,name:e.name}})))}),[De,Be]),Object(r.useEffect)((function(){var e=[];if(be){be.forEach((function(t){e.push(t.id)}));var t=Object.values(Te).filter((function(t){return e.includes(t.id)}));xe(t)}}),[be]),Object(r.useEffect)((function(){e(Oe(Ie?{adminId:ke,token:Ce,patientId:Pe}:{educatorId:ke,token:Ce,patientId:Pe}))}),[Pe]);var Me=zt,Re=Me.dateAffectedText,Ne=Me.name,We=Me.dateBirthText,Fe=Me.dietText,He=Me.diseaseText,Ve=Me.medicinesText,Ue=Me.otherDiseaseText,Ge=Me.outSideLinkText,Je=Me.sexText,_e=Me.surgeryText,qe=Me.whoIsPatientText,Ke=(Me.Hba1CText,Me.needPayment);return Object(U.jsxs)("div",{style:ze.flex1,children:[Ee?Object(U.jsx)(it.a,{animation:"border"}):"",Object(U.jsxs)("div",{style:ze.root,children:[Object(U.jsx)("div",{style:ze.contentWrapper,children:Object(U.jsxs)("div",{style:{flex:1},children:[Object(U.jsx)(V.a,{style:ze.patientName,children:Object(U.jsxs)("div",{style:ze.text,children:[A," :",Ne]})}),Object(U.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(U.jsxs)("div",{style:{width:"50%",marginRight:15},children:[Object(U.jsx)(vt,{text:a?new Date(a).toLocaleDateString():"",description:Re,style:ze.leftSideCard}),Object(U.jsx)(vt,{text:l?new Date(l).toLocaleDateString():"",description:We,style:ze.leftSideCard}),Object(U.jsx)(vt,{text:R,description:He,style:ze.leftSideCard}),Object(U.jsx)(vt,{text:H,description:Je,style:ze.leftSideCard})]}),Object(U.jsxs)("div",{style:{width:"50%",marginRight:20},children:[Object(U.jsx)(vt,{text:_,description:qe,style:ze.leftSideCard}),Object(U.jsx)(vt,{text:$,description:_e,style:ze.leftSideCard}),Object(U.jsx)(vt,{text:ee,description:Ue,style:ze.leftSideCard}),Object(U.jsx)(V.a,{color:!0,style:ze.leftSideCard,children:Object(U.jsxs)(mt.a,{children:[Object(U.jsx)(Le.a,{style:ze.text,variant:"h5",component:"h2",children:Ge}),Object(U.jsx)("a",{href:re,target:"_blank",style:ze.textColor,rel:"noreferrer",children:re})]})})]})]})]})}),Object(U.jsxs)("div",{style:ze.rightSideDiv,children:[Object(U.jsx)("div",{style:ze.chartDiv,children:Object(U.jsx)(V.a,{style:ze.chartWrapper,children:Object(U.jsx)(Et,{text:"unit",hba1cs:y,weights:h,height:m})})}),Object(U.jsxs)("div",{style:ze.rightBottomRightDiv,children:[Object(U.jsxs)("div",{style:ze.rightSideLeftColumn,children:[Object(U.jsx)(vt,{text:I,description:Ve,style:ze.rightSideCard}),Object(U.jsx)(vt,{text:ue,description:Fe,style:ze.rightSideCard}),Object(U.jsx)(vt,{text:(null===Be||void 0===Be?void 0:Be.needPayment)?"\u0646\u0639\u0645":"\u0644\u0627",description:Ke,style:ze.rightSideCard})]}),Object(U.jsxs)("div",{style:ze.rightSideRightColumn,children:[Object(U.jsx)(Pt,{localEducators:be,darkMode:we}),Object(U.jsx)(wt,{patientId:Pe,educators:ve,darkMode:we})]})]})]})]})]})},Rt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:"#6AC6F7"},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"initial"},Nt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh",backgroundColor:Ge.black},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5,color:Je.lightGrey},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:Je.mainBlue},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"secondary",text:{color:Je.lightGrey}},Wt=n(283),Ft=n.n(Wt),Ht={titleText:{fontSize:30},text:{overflow:"auto"}},Vt={titleText:{fontSize:30,color:Je.lightGrey},text:{overflow:"auto",color:Je.lightGrey}},Ut=function(e){var t=e.currentNote,n=e.setNotes,a=Object(b.c)((function(e){return e.auth})).darkMode?Vt:Ht;return Object(U.jsxs)("div",{children:[Object(U.jsx)(W.a,{onClick:function(){n()},children:Object(U.jsx)(Ft.a,{})}),Object(U.jsx)("div",{style:a.titleText,children:t.title}),Object(U.jsx)("div",{style:a.text,children:t.text})]})},Gt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.patient})),n=t.patientProfile,a=t.patientId,i=Object(b.c)((function(e){return e.auth})),o=i.darkMode,c=i.educatorId,l=i.token,s=i.admin,d=Object(r.useState)("notes"),u=Object(j.a)(d,2),h=u[0],f=u[1],g=Object(r.useState)(null),p=Object(j.a)(g,2),m=p[0],v=p[1],x={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f",notes:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a"},O=o?Nt:Rt;Object(r.useEffect)((function(){e(Oe(s?{adminId:c,token:l,patientId:a}:{educatorId:c,token:l,patientId:a}))}),[a]);return Object(U.jsxs)("div",{style:O.mainDev,children:[Object(U.jsx)("div",{style:{width:"100%"},children:Object(U.jsx)("div",{style:{textAlign:"center",marginRight:50,fontSize:25},children:x.notes})}),Object(U.jsx)("div",{className:"grid-container",children:"notes"===h?function(){var e;return null===n||void 0===n||null===(e=n.notes)||void 0===e?void 0:e.map((function(e){return Object(U.jsx)("div",{style:O.cardDev,children:Object(U.jsx)(V.a,{style:O.root,variant:"outlined",children:Object(U.jsxs)(mt.a,{style:O.cardContent,children:[Object(U.jsx)(Le.a,{color:O.color,variant:"h5",component:"h2",children:e.title}),Object(U.jsx)(Le.a,{color:O.color,style:O.text,variant:"body2",component:"p",children:e.text}),Object(U.jsx)(Le.a,{color:O.color,style:O.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(U.jsx)(Le.a,{style:O.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(U.jsx)(W.a,{size:"small",style:O.learnMoreButton,onClick:function(){return function(e){v(e),f("readmore")}(e)},children:x.learnMore})})]})})})}))}():Object(U.jsx)(Ut,{currentNote:m,setNotes:function(){f("notes")}})})]})},Jt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.patient})),n=t.patientProfile,a=t.patientId,i=Object(b.c)((function(e){return e.auth})),o=i.darkMode,c=i.educatorId,l=i.token,s=i.admin,d=Object(r.useState)("notes"),u=Object(j.a)(d,2),h=u[0],f=u[1],g=Object(r.useState)(null),p=Object(j.a)(g,2),m=p[0],v=p[1],x={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f",summaries:"\u0627\u0644\u0645\u0644\u062e\u0635\u0627\u062a"},O=o?Nt:Rt;Object(r.useEffect)((function(){e(Oe(s?{adminId:c,token:l,patientId:a}:{educatorId:c,token:l,patientId:a}))}),[a]);return Object(U.jsxs)("div",{style:O.mainDev,children:[Object(U.jsx)("div",{style:{width:"100%"},children:Object(U.jsx)("div",{style:{textAlign:"center",marginRight:50,fontSize:25},children:x.summaries})}),Object(U.jsx)("div",{className:"grid-container",children:"notes"===h?function(){var e;return null===n||void 0===n||null===(e=n.summaries)||void 0===e?void 0:e.map((function(e){return Object(U.jsx)("div",{style:O.cardDev,children:Object(U.jsx)(V.a,{style:O.root,variant:"outlined",children:Object(U.jsxs)(mt.a,{style:O.cardContent,children:[Object(U.jsx)(Le.a,{color:O.color,variant:"h5",component:"h2",children:e.title}),Object(U.jsx)(Le.a,{color:O.color,style:O.text,variant:"body2",component:"p",children:e.text}),Object(U.jsx)(Le.a,{color:O.color,style:O.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(U.jsx)(Le.a,{style:O.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(U.jsx)(W.a,{size:"small",style:O.learnMoreButton,onClick:function(){return function(e){v(e),f("readmore")}(e)},children:x.learnMore})})]})})})}))}():Object(U.jsx)(Ut,{currentNote:m,setNotes:function(){f("notes")}})})]})},_t=n(194),qt=n(287),Kt=n.n(qt),Yt=Ue,$t={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90%",width:"100%",backgroundColor:Yt.primary.black},card:{width:"95%",display:"flex",direction:"row",padding:10,marginTop:10,marginBottom:10,backgroundColor:Yt.primary.white,borderRadius:10},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Yt.primary.black,color:Yt.primary.white},icons:{color:Yt.primary.black},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:"#6D9DC5"},mianDev:{marginLeft:20,width:"100%",height:"100%"},iconsDev:{width:"100%",height:"100%"},listDev:{width:"20%",backgroundColor:Yt.primary.bluishWhite},rightColumn:{width:"80%",height:"100%"},cardContainer:Yt.primary.white,listHeaderDiv:{display:"block",backgroundColor:Yt.primary.white,textAlign:"center",padding:10},patientListName:{color:"black"},listAppointemntsButton:{width:"100%",backgroundColor:Yt.primary.bluishWhite},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:"white"},calendarMainDiv:{flex:1},headerListDiv:{width:"20%",height:"10%"},calendarContentDiv:{width:"100%",height:"90%"},calendarCardDiv:{flex:1,display:"flex",justifyContent:"center"},calendarCard:{display:"flex",height:"60%",width:"100%",marginLeft:"15%",marginRight:"15%",alignContent:"center",alignItems:"center",backgroundColor:Yt.secondary.lightBlue},calendarDiv:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},calendar:{height:500,width:"90%",marginTop:"5%",marginBottom:"5%"}},Qt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.5vh",width:"100%",backgroundColor:Ge.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Ge.black,color:Ge.white},icons:{color:Je.lightGrey},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:Je.lightBlue},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%",overflow:"hidden"},listDev:{width:"20%",backgroundColor:Je.mainBlue},rightColumn:{width:"80%",height:"100%"},cardContainer:Je.darkBlue,listHeaderDiv:{display:"block",backgroundColor:Je.darkBlue,textAlign:"center",padding:10},card:{width:"95%",display:"flex",direction:"row",padding:10,marginTop:10,marginBottom:10,backgroundColor:Yt.primary.white,borderRadius:10},patientListName:{color:Je.lightGrey},listAppointemntsButton:{width:"100%",backgroundColor:Je.mainBlue},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:Je.mainBlue},calendarMainDiv:{flex:1},headerListDiv:{width:"20%",height:"10%"},calendarContentDiv:{width:"100%",height:"90%"},calendarCardDiv:{flex:1,display:"flex",justifyContent:"center"},calendarCard:{display:"flex",height:"100%",width:"100%",marginLeft:"15%",marginRight:"15%",alignContent:"center",alignItems:"center",backgroundColor:Yt.primary.black},calendarDiv:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},calendar:{height:600,width:"90%",marginTop:"5%",marginBottom:"5%"}},Xt=(n(491),Object(_t.b)(Kt.a)),Zt=function(e){var t=e.currentEducator,n=e.darkMode,a=e.goToPatient,r=n?Qt:$t,i=[];t&&t.appointments.forEach((function(e){i.push({appointmentId:e.appointmentId,date:new Date(e.date.split("T")[0]),name:e.name,time:e.time,patientId:e.patientId})}));if(!i||i&&!Object.keys(i).length)return null;var o=0,c=i.map((function(e){var t=new Date(e.date);return t>Date.now()&&o++,t.setHours(e.time.split(":")[0]),{id:e.appointmentId,title:e.name,allDay:!1,start:t,end:t,patinetId:e.patientId}}));return Object(U.jsx)("div",{style:r.calendarCardDiv,children:Object(U.jsx)(V.a,{elevation:5,style:r.calendarCard,children:Object(U.jsxs)("div",{style:r.calendarDiv,children:[Object(U.jsxs)("div",{style:{alignSelf:"start",marginLeft:10,marginTop:5,fontSize:20},children:["Upcoming Appointments: ",o]}),Object(U.jsx)(_t.a,{localizer:Xt,events:c,startAccessor:"start",endAccessor:"end",style:r.calendar,onSelectEvent:function(e){a(null===e||void 0===e?void 0:e.patinetId)}})]})})})},en=n(536),tn=n(288),nn=n.n(tn),an=Ue,rn={mainDiv:{height:"76vh",overflow:"auto"},uperDiv:{display:"flex",flexDirection:"row",height:50},input:{height:"100%",width:"100%",alignSelf:"end",justifyContent:"end",borderColor:"white",textAlign:"end",backgroundColor:an.primary.bluishWhite},convo:{display:"flex",flexDirection:"row",alignItems:"center"},accountIcon:{marginRight:5},inputDiv:{width:"70%"},switchDiv:{width:"30%",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginBottom:10},allChatsSwitch:{},allChatsText:{marginBottom:-5,fontSize:14,width:"100%",textAlign:"center",height:20},patientListName:{color:"black"}},on={mainDiv:{height:"76vh",overflow:"auto"},uperDiv:{display:"flex",flexDirection:"row",height:50},input:{height:"100%",width:300,alignSelf:"end",justifyContent:"end",borderColor:Je.darkBlue,textAlign:"end",backgroundColor:Je.mainBlue},convo:{display:"flex",flexDirection:"row",alignItems:"center"},inputDiv:{width:"70%"},switchDiv:{width:"30%",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginBottom:10},allChatsSwitch:{backgroundColor:an.secondary.lightBlue},allChatsText:{marginBottom:-5,fontSize:16,width:"100%",textAlign:"center"},accountIcon:{marginRight:5},patientListName:{color:"black"}},cn=n(561),ln=function(e){var t=e.localPatients,n=e.allPateints,a=e.activateChat,i=e.patientId,o=e.darkMode,c=e.setSearchTerm,l=e.searchTerm,s=e.allChatsLoading,d=e.checkedAllChats,u=e.setCheckedAllChats,h=Object(r.useState)([]),f=Object(j.a)(h,2),b=f[0],g=f[1],p={allChats:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",searchHolder:"\u0627\u0628\u062d\u062b"},m=o?on:rn;return Object(r.useEffect)((function(){d&&n()}),[d]),Object(r.useEffect)((function(){if(!t.length)return g([]),null;var e;e=""===l?t:null===t||void 0===t?void 0:t.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.patientName)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===e||void 0===e||null===(n=e.id)||void 0===n?void 0:n.includes(l))})),g(e)}),[t,l]),Object(U.jsx)("div",{children:Object(U.jsxs)("div",{style:m.mainDiv,children:[Object(U.jsxs)("div",{style:m.uperDiv,children:[Object(U.jsx)("div",{style:m.inputDiv,dir:"rtl",children:Object(U.jsx)(en.a,{style:m.input,value:l,onChange:function(e){return c(e.target.value.toLowerCase())},placeholder:p.searchHolder})}),Object(U.jsxs)("div",{style:m.switchDiv,children:[Object(U.jsx)(Le.a,{style:m.allChatsText,children:p.allChats}),Object(U.jsx)(cn.a,{style:m.allChatsSwitch,checked:d,onChange:function(){u(!d)},name:"checkedB",color:"primary"})]})]}),s?Object(U.jsx)(N.a,{}):null,null===b||void 0===b?void 0:b.map((function(e){return Object(U.jsx)(ot.a,{active:i===e.patientId,onClick:function(){return a(e.id,e.patientId)},children:Object(U.jsx)(ot.a.Content,{children:Object(U.jsxs)("div",{style:m.convo,children:[Object(U.jsx)(nn.a,{fontSize:"large",style:m.accountIcon}),Object(U.jsx)("div",{style:m.patientListName,children:e.patientName})]})})},e.id)}))]})})},sn=Object(m.b)("refrrals/addRefrralsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,s,d,h,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.phone,i=t.specialty,o=t.referCode,c=t.medium,l=t.referAction,s=t.token,d=t.adminId,h=n.rejectWithValue,j={name:a,phone:r,specialty:i,referCode:o,referAction:l,medium:c},e.abrupt("return",x.a.post("".concat(O,"/referrer?adminId=").concat(d),j,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){return e.data?e.data:h("credintials")})).catch((function(e){return console.log("error ",e),h("credintials")})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),dn=Object(m.b)("refrrals/getRefrralsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,r=t.adminId,i=n.rejectWithValue,e.abrupt("return",x.a.get("".concat(O,"/referrers?adminId=").concat(r),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data?e.data:i("credintials")})).catch((function(e){console.log("error ",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),un=Object(p.a)({referral:null,referrers:[],added:!1},w),hn=Object(m.c)({name:"refrrals",initialState:un,reducers:{clearAll:function(){return un},clearErrors:function(e,t){e.added=!1,e.error=!1,e.loading=!1}},extraReducers:($={},Object(g.a)($,dn.fulfilled,(function(e,t){e.referrers=t.payload})),Object(g.a)($,dn.rejected,(function(e,t){e.error=t.payload})),Object(g.a)($,sn.fulfilled,(function(e,t){e.referrers.push(t.payload),e.loading=!1,e.error=!1,e.added=!0})),Object(g.a)($,sn.pending,(function(e,t){e.loading=!0})),Object(g.a)($,sn.rejected,(function(e,t){e.error=!0,e.loading=!1,e.added=!1})),$)}),jn=hn.actions,fn=(jn.clearAll,jn.clearErrors),bn=hn.reducer,gn=n(555),pn=n(296),mn=n(562),vn=n(289),xn=n.n(vn),On={iconsButton:{height:50,width:50,marginLeft:20,marginTop:10},closeIcon:{height:50,width:50},mainContainer:{display:"flex",flex:1,paddingBottom:50,height:"100%"},leftHalf:{height:"100%",width:"30%",alignContent:"center",display:"flex",flexDirection:"column"},addLinkText:{textAlign:"center",fontSize:20},formDiv:{height:"100%",width:"70%",alignSelf:"center"},formText:{justifyContent:"center",width:"100%",marginTop:"10%"},menuButton:{justifyContent:"center",width:"100%",marginTop:"10%",border:"1px solid gray"},discountContainer:{display:"flex",flexDirection:"row",marginTop:"10%"},discountInput:{display:"flex",flex:3,justifyContent:"center"},discountUnit:{display:"flex",flex:1,alignItems:"center",marginLeft:"5%"},formButton:{justifyContent:"center",width:"100%",height:50},divider:{height:"90%",width:2,backgroundColor:"grey"},rightHalf:{height:"100%",width:"70%"},rightMainContainer:{padding:15,height:"95%",overflow:"auto"},numberOfLinks:{marginLeft:30,fontSize:20},linksWrapper:{display:"flex",flexWrap:"wrap"},linkCardDiv:{width:"48%",marginLeft:10,right:0},linkCard:{marginTop:10,paddingRight:20,paddingLeft:20},linkText:{textAlign:"end",fontSize:18},error:{width:"100%",marginTop:"10%",textAlign:"center"},errorDiscountINput:{width:"100%",marginTop:"5%",textAlign:"center",color:"red"},fullUrlText:{overflowWrap:"break-word",textAlign:"end",fontSize:18,maxWidth:"90%"},fullUrlDiv:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},yn=function(e){var t=e.setActiveList,n=Object(b.b)(),a=Object(r.useState)(null),o=Object(j.a)(a,2),c=o[0],l=o[1],s=Object(r.useState)(null),d=Object(j.a)(s,2),u=d[0],h=d[1],f=Object(r.useState)(null),g=Object(j.a)(f,2),p=g[0],m=g[1],v=Object(r.useState)(null),x=Object(j.a)(v,2),O=x[0],y=x[1],w=Object(r.useState)(null),k=Object(j.a)(w,2),C=k[0],I=k[1],S=Object(r.useState)({ar:{addLink:"\u0627\u0636\u0627\u0641\u0629 \u0631\u0627\u0628\u0637",numberOfLinks:"\u0639\u062f\u062f \u0627\u0644\u0631\u0648\u0627\u0628\u0637",name:"\u0627\u0644\u0627\u0633\u0645",code:"\u0643\u0648\u062f",link:"\u0631\u0627\u0628\u0637",date:"\u062a\u0627\u0631\u064a\u062e",added:"\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0647 \u0628\u0646\u062c\u0627\u062d",error:"\u062d\u062f\u062b \u062e\u0637\u0627",discount:"\u062e\u0635\u0645"}}),D=Object(j.a)(S,2),T=D[0],A=(D[1],Object(r.useState)("ar")),B=Object(j.a)(A,2),L=B[0],E=(B[1],i.a.useState(null)),P=Object(j.a)(E,2),z=P[0],M=P[1],F=Object(r.useState)(null),H=Object(j.a)(F,2),G=H[0],J=H[1],_=Object(r.useState)(null),q=Object(j.a)(_,2),K=q[0],Y=q[1],$=Object(r.useState)(null),Q=Object(j.a)($,2),X=Q[0],Z=Q[1],ee=Object(b.c)((function(e){return e.auth})),te=ee.token,ne=ee.educatorId,ae=Object(b.c)((function(e){return e.refrrals})),re=ae.referrers,ie=ae.loading,oe=ae.error,ce=ae.added;Object(r.useEffect)((function(){n(dn({token:te,adminId:ne}))}),[]);var le=function(){return"flat"===G&&K?"discount_flat_".concat(K):"percentage"===G&&K?"discount_percentage_0.".concat(K):null},se=function(e){M(e.currentTarget)},de=function(){M(null)},ue=function(){Y(null),J("percentage"),de()},he=function(){Y(null),J("flat"),de()},je=function(){Y(null),J(null),de()},fe=function(e){var t=e.target.value;Z(null),""!==t?"flat"===G?t<=0?Z("Amount must not be less than 0"):Y(t):"percentage"===G&&(t<=0?Z("Amount must not be less than 0"):t>100?Z("Amount must not be greater than 100"):Y(t)):Y("")},be=function(e){if(e){var t=e.split("_"),n=Object(j.a)(t,3),a=(n[0],n[1]),r=n[2];if("flat"===a)return"".concat(r," SAR");if("percentage"===a){var i=100*parseFloat(r);return"".concat(i,"%")}}return null};return Object(U.jsxs)("div",{children:[Object(U.jsx)(gn.a,{style:On.iconsButton,"aria-label":"notes",onClick:function(){t(""),n(fn())},children:Object(U.jsx)(xn.a,{style:On.closeIcon,fontSize:"large"})}),Object(U.jsxs)("div",{style:On.mainContainer,children:[Object(U.jsxs)("div",{style:On.leftHalf,children:[Object(U.jsx)("div",{style:On.addLinkText,children:T[L].addLink}),Object(U.jsxs)("div",{style:On.formDiv,children:[Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(R.a,{style:On.formText,onChange:function(e){return l(e.target.value)},label:"name",variant:"outlined"}),Object(U.jsx)(R.a,{style:On.formText,onChange:function(e){return h(e.target.value)},label:"phone",variant:"outlined"}),Object(U.jsx)(R.a,{style:On.formText,onChange:function(e){return m(e.target.value)},label:"specialty",variant:"outlined"}),Object(U.jsx)(R.a,{style:On.formText,onChange:function(e){return y(e.target.value)},label:"referCode",variant:"outlined"}),Object(U.jsx)(R.a,{style:On.formText,onChange:function(e){return I(e.target.value)},label:"medium",variant:"outlined"})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)(W.a,{style:On.menuButton,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:se,children:"Add Refer Action"}),Object(U.jsxs)(pn.a,{id:"simple-menu",anchorEl:z,keepMounted:!0,open:Boolean(z),onClose:de,children:[Object(U.jsx)(mn.a,{onClick:je,children:"None"}),Object(U.jsx)(mn.a,{onClick:ue,children:"Percentage Discount"}),Object(U.jsx)(mn.a,{onClick:he,children:"Flat Discount"})]})]}),function(){switch(G){case"flat":return Object(U.jsxs)("div",{style:On.discountContainer,children:[Object(U.jsx)(R.a,{style:On.discountInput,value:K,onChange:fe,label:"discount amount",variant:"outlined",type:"number"}),Object(U.jsx)("div",{style:On.discountUnit,children:Object(U.jsx)("h6",{children:"SAR"})})]});case"percentage":return Object(U.jsxs)("div",{style:On.discountContainer,children:[Object(U.jsx)(R.a,{style:On.discountInput,value:K,onChange:fe,label:"discount percentage",variant:"outlined",type:"number"}),Object(U.jsx)("div",{style:On.discountUnit,children:Object(U.jsx)("h6",{children:"%"})})]});default:return null}}(),X?Object(U.jsx)("div",{style:On.errorDiscountINput,children:X}):null,Object(U.jsx)("div",{style:On.formText,children:ie&&Object(U.jsx)(N.a,{})}),Object(U.jsxs)(W.a,{style:On.formButton,onClick:function(){return function(){var e=null;K&&(e=le()),c&&u&&p&&O&&C&&n(sn({name:c,phone:u,specialty:p,referCode:O,medium:C,referAction:e,token:te,adminId:ne}))}()},label:"medium",variant:"outlined",children:["\u0627\u0631\u0633\u0627\u0644"," "]}),oe?Object(U.jsx)("div",{style:On.error,children:T[L].error}):ce&&Object(U.jsx)("div",{style:On.error,children:T[L].added})]})]}),Object(U.jsx)("div",{style:On.divider}),Object(U.jsxs)("div",{style:On.rightHalf,children:[Object(U.jsxs)("div",{style:On.numberOfLinks,children:[" ",T[L].numberOfLinks,": ",null===re||void 0===re?void 0:re.length]}),Object(U.jsx)("div",{style:On.rightMainContainer,children:Object(U.jsx)("div",{style:On.linksWrapper,children:re&&Object.values(re).sort((function(e,t){return new Date(null===t||void 0===t?void 0:t.createdOn)-new Date(null===e||void 0===e?void 0:e.createdOn)})).map((function(e){return console.log("ref?",null===e||void 0===e?void 0:e.referAction),Object(U.jsx)("div",{style:On.linkCardDiv,children:Object(U.jsxs)(V.a,{style:On.linkCard,children:[Object(U.jsxs)("div",{style:On.linkText,children:[null===e||void 0===e?void 0:e.name," :",T[L].name]}),Object(U.jsxs)("div",{style:On.linkText,children:[null===e||void 0===e?void 0:e.referCode," :",T[L].code]}),(null===e||void 0===e?void 0:e.referAction)?Object(U.jsxs)("div",{style:On.linkText,children:[be(null===e||void 0===e?void 0:e.referAction)," :",T[L].discount]}):null,Object(U.jsxs)("div",{style:On.fullUrlDiv,children:[Object(U.jsx)("div",{style:On.fullUrlText,children:null===e||void 0===e?void 0:e.fullUrl}),Object(U.jsxs)("div",{style:On.linkText,children:[":",T[L].link]})]}),Object(U.jsxs)("div",{style:On.linkText,children:[new Date(null===e||void 0===e?void 0:e.createdOn).toLocaleDateString()," :",T[L].date]})]})})}))})})]})]})]})},wn=n(290),kn=n.n(wn),Cn=n(291),In=n.n(Cn),Sn=n(292),Dn=n.n(Sn),Tn=function(){var e=Object(s.f)(),t=Object(b.b)(),n=Object(r.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)([]),l=Object(j.a)(c,2),d=l[0],u=l[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),g=f[0],p=f[1],m=Object(r.useState)(!0),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)(""),S=Object(j.a)(I,2),D=S[0],T=S[1],A=Object(r.useState)({ar:{chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",profile:"\u0627\u0644\u0628\u0631\u0648\u0641\u0627\u064a\u0644",educators:"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",time:"\u0627\u0644\u0648\u0642\u062a"}}),B=Object(j.a)(A,2),L=(B[0],B[1],Object(b.c)((function(e){return e.auth}))),P=L.chats,z=L.token,M=L.educatorId,R=L.darkMode,N=L.admin,H=Object(b.c)((function(e){return e.educators})),G=H.fetchedEducatorId,_=H.patients,q=H.educators,K=H.currentEducator,Y=Object(b.c)((function(e){return e.patient})).patientId,$=Object(b.c)((function(e){return e.chats})),Q=$.allChats,X=$.allChatsLoading,ee=R?Qt:$t;Object(r.useEffect)((function(){z||e.replace("/")}),[z]),Object(r.useEffect)((function(){try{if((null===P||void 0===P?void 0:P.length)&&!P[0].id){var e=J(P);t(E(e))}}catch(n){console.log("error setting chats:",n)}}),[P,t]),Object(r.useEffect)((function(){var e;q&&(0!==(e=Object.values(q).filter((function(e){return G===e.id}))).length&&u(e[0].chats),T(!1),C(""),t(ge(e[0])),t(re()))}),[t,M,q,G,_]),Object(r.useEffect)((function(){Y&&O(!1)}),[Y]),Object(r.useEffect)((function(){(null===Q||void 0===Q?void 0:Q.length)&&u(Q)}),[Q]),Object(r.useEffect)((function(){var e;D||0!==(e=Object.values(q).filter((function(e){return G===e.id}))).length&&u(e[0].chats)}),[D]);var te=function(){return Object(U.jsxs)("div",{style:ee.listHeaderDiv,children:[N&&Object(U.jsx)(W.a,{variant:"contained",onClick:function(){return o("links")},style:ee.buttonsText,children:"\u0631\u0648\u0627\u0628\u0637"}),Object(U.jsx)(W.a,{variant:"contained",onClick:function(){return o("patients")},style:ee.buttonsText,children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),Object(U.jsx)(W.a,{style:ee.buttonsText,variant:"contained",onClick:function(){return o("appointments")},children:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"})]})},ne=function(e){x||p(e)};return Object(U.jsxs)("div",{style:{height:"100vh"},children:[Object(U.jsx)(at,{}),Object(U.jsx)(F.a,{maxWidth:!1,style:ee.container,children:Object(U.jsx)(V.a,{style:ee.card,children:"appointments"===i?Object(U.jsxs)("div",{style:ee.calendarMainDiv,children:[Object(U.jsx)("div",{style:ee.headerListDiv,children:te()}),Object(U.jsx)("div",{style:ee.calendarContentDiv,children:Object(U.jsx)(Zt,{currentEducator:K,darkMode:R,goToPatient:function(e){var n;p("profile"),o(""),e&&t(Ie(e));var a=null===K||void 0===K||null===(n=K.chats)||void 0===n?void 0:n.find((function(t){return(null===t||void 0===t?void 0:t.patientId)===e}));a&&t(ae(null===a||void 0===a?void 0:a.id))}})})]}):"links"===i?Object(U.jsx)(yn,{setActiveList:o}):Object(U.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(U.jsxs)("div",{style:ee.listDev,children:[te(),Object(U.jsx)("div",{children:Object(U.jsx)(ln,{localPatients:d,allPateints:function(){G&&t(Z(N?{educatorId:G,token:z,adminId:M}:{educatorId:G,token:z}))},activateChat:function(e,n){t(Ie(n)),t(ae(e))},patientId:Y,darkMode:R,searchTerm:k,setSearchTerm:C,allChatsLoading:X,checkedAllChats:D,setCheckedAllChats:T})})]}),Object(U.jsx)("div",{style:ee.rightColumn,children:Object(U.jsx)("div",{style:ee.mianDev,children:Object(U.jsxs)("div",{style:ee.iconsDev,children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(gn.a,{"aria-label":"chat",onClick:function(){return ne("chat")},children:Object(U.jsx)(kn.a,{style:ee.icons,fontSize:"large"})}),Object(U.jsx)(gn.a,{"aria-label":"chat",onClick:function(){ne("profile")},children:Object(U.jsx)(Xe.a,{style:ee.icons,fontSize:"large"})}),Object(U.jsx)(gn.a,{"aria-label":"notes",onClick:function(){ne("notes")},children:Object(U.jsx)(In.a,{style:ee.icons,fontSize:"large"})}),Object(U.jsx)(gn.a,{"aria-label":"summary",onClick:function(){ne("summaries")},children:Object(U.jsx)(Dn.a,{style:ee.icons,fontSize:"large"})})]}),"profile"===g?Object(U.jsx)(Mt,{}):"notes"===g?Object(U.jsx)(Gt,{}):"summaries"===g?Object(U.jsx)(Jt,{}):d.length?Object(U.jsx)(ft,{}):null]})})})]})})}),Object(U.jsx)(rt,{})]})},An=n(293),Bn=n(160),Ln=n(294),En={key:"root",storage:n.n(Ln).a,whitelist:["auth"]},Pn=Object(Bn.a)(En,{chats:ie,auth:M,educators:pe,patient:De,refrrals:bn}),zn=Object(m.d)(),Mn=Object(m.a)(Object(p.a)({reducer:Pn},zn)),Rn=Object(Bn.b)(Mn),Nn=Mn,Wn=function(){return Object(U.jsx)(An.a,{loading:null,persistor:Rn,children:Object(U.jsx)(l.a,{children:Object(U.jsxs)(s.c,{children:[Object(U.jsx)(s.a,{exact:!0,path:"/",component:G}),Object(U.jsx)(s.a,{exact:!0,path:"/showpatients",component:Tn}),Object(U.jsx)(s.a,{path:"*",component:Tn})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(U.jsx)(b.a,{store:Nn,children:Object(U.jsx)(Wn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[494,1,2]]]);
//# sourceMappingURL=main.c2d778cd.chunk.js.map