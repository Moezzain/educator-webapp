(this["webpackJsonpeducator-webapp"]=this["webpackJsonpeducator-webapp"]||[]).push([[0],{115:function(e,t,n){},492:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(18),c=n.n(o),l=n(119),d=n(37),s=n(10),u=n.n(s),h=n(23),j=n(8),f=n.p+"static/media/bright-no-bg.d6200e7f.png",b=n(16),g=n(22),p=n(52),m=n(32),v=n(31),x=n.n(v),O="https://api.ithnain.com",y=n(240),w={loading:!1,error:null},k=function(e){return Object(y.sha256)(e)},C=Object(m.b)("auth/loginEducatorAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,i=n.rejectWithValue,e.next=4,k(r);case 4:return o=e.sent,c={},l={id:a,password:o},e.abrupt("return",x.a.post("".concat(O,"/login"),l).then((function(e){if(e.data.educator){var t=e.data,n=t.educatorId,a=t.appointments,r=t.chats;i();var o=JSON.parse(e.data.educator).token;return c.token=o[o.length-1],c.educatorId=n,c.appointments=a,c.chats=r,c.admin=!1,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(m.b)("auth/loginAdminAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,i=n.rejectWithValue,e.next=4,k(r);case 4:return o=e.sent,c={},l={adminUsername:a,password:o},e.abrupt("return",x.a.post("".concat(O,"/login"),l).then((function(e){if(e.data.admin){var t=JSON.parse(e.data.admin),n=t.id,a=t.token;return c.token=a[a.length-1],c.educatorId=n,c.admin=!0,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(m.b)("auth/logout",function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,r=t.adminId,i=r?{adminId:r}:{educatorId:n,notificationToken:" "},e.next=4,x.a.patch("".concat(O,"/logout"),i,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){})).catch((function(e){console.log("error ",e)}));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(m.b)("auth/resetPasswordAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,d,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.adminId,r=t.token,i=t.oldPassword,o=t.newPassword,c=n.rejectWithValue,e.prev=2,e.next=5,k(o);case 5:return l=e.sent,e.next=8,k(i);case 8:return d=e.sent,s={adminId:a,oldPassword:d,password:l},e.next=12,x.a.patch("".concat(O,"/admin?adminId=").concat(a),s,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.data.id?e.data:c("wrong password")})).catch((function(e){return console.log("error reseting ",e),c(e)}));case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",c(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(p.a)({token:null,educatorId:null,appointments:null,chats:null,response:null,darkMode:!1,admin:!1,resetError:""},w),B=Object(m.c)({name:"auth",initialState:T,reducers:{clearAll:function(){return T},setLoading:function(e,t){e.loading=t.payload},setChats:function(e,t){e.chats=t.payload},setDarkMode:function(e,t){e.darkMode=t.payload},setResetError:function(e,t){e.resetError=t.payload}},extraReducers:(a={},Object(g.a)(a,C.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.appointments=t.payload.appointments,e.chats=t.payload.chats,e.admin=t.payload.admin,e.loading=!1})),Object(g.a)(a,C.pending,(function(e,t){e.loading=!0})),Object(g.a)(a,C.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),Object(g.a)(a,I.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.admin=t.payload.admin,e.loading=!1})),Object(g.a)(a,I.pending,(function(e,t){e.loading=!0})),Object(g.a)(a,I.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),Object(g.a)(a,D.fulfilled,(function(e,t){e.token=t.payload.token[0]})),Object(g.a)(a,D.rejected,(function(e,t){e.resetError="somthing went wrong"})),a)}),A=B.actions,L=A.setLoading,E=A.setChats,P=A.clearAll,z=(A.setDarkMode,A.setResetError),M=B.reducer,R=n(551),W=n(537),N=n(536),H=n(538),F={container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#0a122a",width:"100%"},card:{width:"80%",padding:30,borderRadius:8},root:{display:"flex",flexDirection:"row"},logo:{width:"30%",marginBottom:"15%"},formDiv:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column"},username:{marginTop:10,marginBottom:10},password:{marginTop:10,marginBottom:10},button:{backgroundColor:"lightblue",marginTop:10,marginBottom:10},error:{color:"red"}},V=n(539),G=n(1),U=function(){var e=Object(b.b)(),t=Object(d.f)(),n=Object(r.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(""),l=Object(j.a)(c,2),s=l[0],g=l[1],p=Object(r.useState)("educator"),m=Object(j.a)(p,2),v=m[0],x=m[1],O=Object(r.useState)("lightgrey"),y=Object(j.a)(O,2),w=y[0],k=y[1],S=Object(r.useState)("white"),D=Object(j.a)(S,2),T=D[0],B=D[1],A=Object(r.useState)({ar:{username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a",submit:"\u062f\u062e\u0648\u0644"}}),E=Object(j.a)(A,2),P=E[0],z=(E[1],Object(b.c)((function(e){return e.auth}))),M=z.educatorId,U=z.token,J=z.loading,q=z.error;Object(r.useEffect)((function(){U&&M&&t.push("showpatients")}),[M,t,U]);var K=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(L(!0)),e(C({username:i,password:s}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(L(!0)),e(I({username:i,password:s}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsx)(H.a,{maxWidth:!1,style:F.container,children:Object(G.jsxs)("div",{style:F.root,children:[Object(G.jsx)("img",{src:f,style:F.logo}),Object(G.jsx)("div",{style:F.formDiv,children:Object(G.jsxs)(V.a,{style:F.card,children:[Object(G.jsxs)("div",{style:{borderRadius:5,borderWidth:1,borderColor:"grey",borderStyle:"solid"},children:[Object(G.jsx)(N.a,{style:{width:"50%",height:50,backgroundColor:w},value:"educator",onClick:function(){x("educator"),k("lightgrey"),B("white")},children:"Educator"}),Object(G.jsxs)(N.a,{style:{width:"50%",height:50,backgroundColor:T},value:"admin",onClick:function(){x("admin"),B("lightgrey"),k("white")},children:[" ","Admin"]})]}),"admin"===v?Object(G.jsxs)("form",{style:F.form,children:[Object(G.jsx)(R.a,{type:"username",required:!0,id:"outlined-required",label:P.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:F.username}),Object(G.jsx)(R.a,{type:"password",required:!0,id:"outlined-required",label:P.ar.password,variant:"outlined",value:s,onChange:function(e){e.persist(),g(e.target.value)},style:F.password}),Object(G.jsx)(N.a,{variant:"primary",style:F.button,onClick:function(){_()},children:P.ar.submit}),J?Object(G.jsx)(W.a,{}):null,q?Object(G.jsx)("text",{style:F.error,children:q}):""]}):Object(G.jsxs)("form",{style:F.form,children:[Object(G.jsx)(R.a,{type:"username",required:!0,id:"outlined-required",label:P.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:F.username}),Object(G.jsx)(R.a,{type:"password",required:!0,id:"outlined-required",label:P.ar.password,variant:"outlined",value:s,onChange:function(e){e.persist(),g(e.target.value)},style:F.password}),Object(G.jsx)(N.a,{variant:"primary",style:F.button,onClick:K,children:P.ar.submit}),J?Object(G.jsx)(W.a,{}):null,q?Object(G.jsx)("text",{style:F.error,children:q}):""]})]})})]})})};function J(e){return e.map((function(e){return JSON.parse(e)}))}function q(e){var t=[],n={};for(var a in e){var r=e[a];Array.isArray(r)&&(n[a]=J(r),t.push(J(r)))}return n}var K,_,Y,$,Q=n.p+"static/media/logo-dark-notext.58fe3789.png",X=Object(m.b)("chats/getChatsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.chatId,r=t.educatorId,i=t.token,o=t.adminId,c=n.rejectWithValue,e.prev=2,l=o?"adminId=".concat(o,"&"):"",e.next=6,x.a.get("".concat(O,"/message?chatId=").concat(a,"&").concat(l,"educatorId=").concat(r),{headers:{Authorization:"Bearer ".concat(i)},timeout:1e4});case 6:if(!(null===(d=e.sent)||void 0===d?void 0:d.data)){e.next=9;break}return e.abrupt("return",d.data.reverse());case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),console.log("error",e.t0),e.abrupt("return",c(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(m.b)("chats/getAllChats",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,d,s,h,j,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=t.adminId,o=n.rejectWithValue,e.prev=2,c=i?"adminId=".concat(i,"&"):"",e.next=6,x.a.get("".concat(O,"/chats?educatorId=").concat(a,"&").concat(c,"filterDate=all"),{headers:{Authorization:"Bearer ".concat(r)},timeout:1e4});case 6:if(!(null===(l=e.sent)||void 0===l?void 0:l.data)){e.next=12;break}return h=J(null===(d=l.data)||void 0===d?void 0:d.chats),j=J(null===(s=l.data)||void 0===s?void 0:s.archivedChats),f={chats:h,archivedChats:j},e.abrupt("return",f);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),o(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(p.a)({messages:null,currentChat:null,allChats:[],archivedChats:[],allChatsLoading:!1},w),te=Object(m.c)({name:"chats",initialState:ee,reducers:{clearAll:function(){return ee},setChats:function(e,t){e.chats=t.payload},setCurrentChat:function(e,t){e.currentChat=t.payload}},extraReducers:(K={},Object(g.a)(K,X.fulfilled,(function(e,t){e.messages=t.payload,e.loading=!1})),Object(g.a)(K,X.pending,(function(e,t){e.loading=!0})),Object(g.a)(K,X.rejected,(function(e,t){e.error=t.payload})),Object(g.a)(K,Z.pending,(function(e,t){e.allChatsLoading=!0})),Object(g.a)(K,Z.fulfilled,(function(e,t){e.allChats=t.payload.chats,e.archivedChats=t.payload.archivedChats,e.allChatsLoading=!1})),Object(g.a)(K,Z.rejected,(function(e,t){e.allChatsLoading=!1,e.error=t.payload})),K)}),ne=te.actions,ae=(ne.setChats,ne.setCurrentChat),re=ne.clearAll,ie=te.reducer,oe=function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"adminId"!==Object.keys(t)[0]){e.next=7;break}return e.next=4,x.a.get("".concat(O,"/educator?get=all&adminId=").concat(t.adminId,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,x.a.get("".concat(O,"/educator?get=all&").concat(t,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 9:a=e.sent;case 10:if(!a.data){e.next=14;break}return r={},a.data.forEach((function(e){var t=JSON.parse(e),n=t.name,a=t.id;r[a]={name:n,id:a}})),e.abrupt("return",r);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Error getEducatorIds",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,d,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,e.prev=1,"chats,appointments,educator,all",e.next=5,x.a.get("".concat(O,"/educator?id=").concat(n,"&get=").concat("chats,appointments,educator,all","&educatorId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 5:if(!(r=e.sent).data){e.next=13;break}return i=r.data,o=JSON.parse(i.educator),delete i.educator,c=q(i),l=c.appointments,d=c.chats,s=c.educators,e.abrupt("return",{chats:d,appointments:l,educator:o,educators:s});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getEducatorData Error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(h.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get("".concat(O,"/educator?id=").concat(t,"&get=educator&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.isCaseHandler})).catch((function(e){console.log("isCaseHandler error ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,d,s,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.adminId,r=t.token,e.prev=1,"chats,appointments,educator,all",e.next=5,x.a.get("".concat(O,"/educator?id=").concat(n,"&get=").concat("chats,appointments,educator,all","&adminId=").concat(a),{headers:{Authorization:"Bearer ".concat(r)}});case 5:if(!(i=e.sent).data){e.next=13;break}return o=i.data,c=JSON.parse(o.educator),delete o.educator,l=q(o),d=l.appointments,s=l.chats,h=l.educators,e.abrupt("return",{chats:s,appointments:d,educator:c,educators:h});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getAdminData Error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),se=Object(m.b)("educators/getEducatorsAndPatients",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,d,s,h,j,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=n.rejectWithValue,e.prev=2,e.next=5,le(a,r);case 5:if(!e.sent){e.next=13;break}return e.delegateYield(u.a.mark((function e(){var t,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(a,r);case 2:t=e.sent,n={},i=u.a.mark((function e(){var a,i,c,l,d,s,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[o],e.next=3,ce({educatorId:a.id,token:r});case 3:i=e.sent,c=i.chats,l=i.appointments,d=i.educators,s=null===d||void 0===d?void 0:d.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)})),t[o].specialty=null===s||void 0===s?void 0:s.specialty,h=null===s||void 0===s?void 0:s.isCaseHandler,a.isCaseHandler=h,c&&(a.chats=c,a.count=c.length,c.forEach((function(e){var t=n[e.patientId];t||(n[e.patientId]=e,t=n[e.patientId]),t&&t.educators?t.educators.push({id:a.id,name:a.name}):t.educators=[{id:a.id,name:a.name}]}))),l&&(t[o].appointments=l);case 13:case"end":return e.stop()}}),e)})),e.t0=u.a.keys(t);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(i(),"t2",9);case 9:e.next=6;break;case 11:return e.abrupt("return",{v:{educators:t,patients:n}});case 12:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:if("object"!==typeof(c=e.t0)){e.next=11;break}return e.abrupt("return",c.v);case 11:e.next=24;break;case 13:return l={},e.next=16,ce({educatorId:a,token:r});case 16:return d=e.sent,s=d.chats,h=d.appointments,j=d.educator,s&&(j.chats=s,j.count=s.length,s.forEach((function(e){var t=l[e.patientId];t||(l[e.patientId]=e,t=l[e.patientId]),t&&t.educators?t.educators.push({id:j.id,name:j.name}):t.educators=[{id:j.id,name:j.name}]}))),h&&(j.appointments=h),f=[j],e.abrupt("return",{educators:f,patients:l});case 24:e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(2),console.log(" Error getEducatorsAndPatients",e.t1),e.abrupt("return",i(e.t1));case 30:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(m.b)("educators/getAllEducators",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.adminId,r=t.token,n.rejectWithValue,e.next=4,oe({adminId:a},r);case 4:i=e.sent,o={},c=u.a.mark((function e(){var t,n,c,d,s,h,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i[l],e.next=3,de({educatorId:t.id,adminId:a,token:r});case 3:n=e.sent,c=n.chats,d=n.appointments,s=n.educators,h=null===s||void 0===s?void 0:s.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})),i[l].specialty=null===h||void 0===h?void 0:h.specialty,j=null===h||void 0===h?void 0:h.isCaseHandler,t.isCaseHandler=j,c&&(t.chats=c,t.count=c.length,c.forEach((function(e){var n=o[e.patientId];n||(o[e.patientId]=e,n=o[e.patientId]),n&&n.educators?n.educators.push({id:t.id,name:t.name}):n.educators=[{id:t.id,name:t.name}]}))),d&&(i[l].appointments=d);case 13:case"end":return e.stop()}}),e)})),e.t0=u.a.keys(i);case 8:if((e.t1=e.t0()).done){e.next=13;break}return l=e.t1.value,e.delegateYield(c(),"t2",11);case 11:e.next=8;break;case 13:return e.abrupt("return",{educators:i,patients:o});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),he=Object(p.a)({educators:[],patients:[],fetchedEducatorId:"",currentEducator:""},w),je=Object(m.c)({name:"educators",initialState:he,reducers:{clearAll:function(){return he},setFetchedEducatiorId:function(e,t){e.fetchedEducatorId=t.payload},setCurrentEducator:function(e,t){e.currentEducator=t.payload}},extraReducers:(_={},Object(g.a)(_,se.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(g.a)(_,se.pending,(function(e,t){e.loading=!0})),Object(g.a)(_,se.rejected,(function(e,t){e.loading=!1})),Object(g.a)(_,ue.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(g.a)(_,ue.pending,(function(e,t){e.loading=!0})),Object(g.a)(_,ue.rejected,(function(e,t){e.loading=!1})),_)}),fe=je.actions,be=fe.clearAll,ge=fe.setFetchedEducatiorId,pe=fe.setCurrentEducator,me=je.reducer,ve=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,r=t.patientId,e.prev=1,e.next=4,x.a.get("".concat(O,"/patient?patientId=").concat(r,"&educatorId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(!(i=e.sent).data){e.next=9;break}return o=i.data,c=o.patient,l=o.patientProfile,d=JSON.parse(c),e.abrupt("return",{patient:d,patientProfile:l});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("getPatient Error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.adminId,a=t.token,r=t.patientId,e.prev=1,e.next=4,x.a.get("".concat(O,"/patient?patientId=").concat(r,"&adminId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(!(i=e.sent).data){e.next=9;break}return o=i.data,c=o.patient,l=o.patientProfile,d=JSON.parse(c),e.abrupt("return",{patient:d,patientProfile:l});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("getPatient Error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(h.a)(u.a.mark((function e(t,n,a){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/appointment?patientId=").concat(t,"&educatorId=").concat(a,"&get=one"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(r=e.sent).data){e.next=7;break}return i=J(r.data),e.abrupt("return",i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ye=Object(m.b)("patient/getPatientAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.educatorId,r=t.token,i=t.patientId,o=t.adminId,c=n.rejectWithValue,!o){e.next=8;break}return e.next=5,xe({adminId:o,token:r,patientId:i}).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),c(e)}));case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,ve({educatorId:a,token:r,patientId:i}).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),c(e)}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),we=Object(m.b)("patinet/getAppointmentsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,Oe(i,r,a).then((function(e){if(e)return e})).catch((function(e){console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ke=Object(p.a)({patientProfile:null,patientId:null,appointments:null},w),Ce=Object(m.c)({name:"patient",initialState:ke,reducers:{clearAll:function(){return ke},setPatientId:function(e,t){e.patientId=t.payload}},extraReducers:(Y={},Object(g.a)(Y,ye.fulfilled,(function(e,t){e.patientProfile=t.payload,e.loading=!1})),Object(g.a)(Y,ye.rejeceted,(function(e,t){e.error=t.payload,e.loading=!1})),Object(g.a)(Y,ye.pending,(function(e,t){e.loading=!0})),Object(g.a)(Y,we.fulfilled,(function(e,t){e.appointments=t.payload})),Y)}),Ie=Ce.actions,Se=Ie.setPatientId,De=Ie.clearAll,Te=Ce.reducer,Be=n(540),Ae=n(541),Le=n(555),Ee=n(494),Pe=n(160),ze=n(535),Me=n(558),Re=n(557),We=n(245),Ne=n.n(We),He=Object(Be.a)({avatar:{backgroundColor:Pe.a[100],color:Pe.a[600]}}),Fe=function(e){var t=e.setOpen,n=e.open,a=e.setOldPassword,i=e.setNewPassword,o=e.setNewPasswordVerify,c=e.handleResetSubmit,l=e.error,d=Object(r.useState)("profile"),s=Object(j.a)(d,2),u=s[0],h=s[1],f=He();return Object(G.jsx)(Le.a,{onClose:function(){t(!1)},open:n,children:Object(G.jsx)("div",{style:{height:400,width:600},children:"profile"===u?Object(G.jsxs)("div",{children:[Object(G.jsx)(Ae.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"Profile"}),Object(G.jsx)(Ee.a,{style:{backgroundColor:"lightblue",marginLeft:10,textAlign:"center",width:580,height:40},children:"Name: "}),Object(G.jsx)(N.a,{style:{width:580,height:40,backgroundColor:"lightblue",marginLeft:10,marginTop:10},onClick:function(){h("reset")},children:"Reset Password"})]}):Object(G.jsxs)("div",{children:[Object(G.jsx)(Ae.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"Reset Password"}),Object(G.jsx)(N.a,{style:{backgroundColor:"lightblue",marginLeft:10},onClick:function(){h("profile")},children:Object(G.jsx)(Ne.a,{})}),Object(G.jsxs)(ze.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:f.margin,variant:"outlined",children:[Object(G.jsx)(Me.a,{htmlFor:"outlined-adornment-amount",children:"Old Password"}),Object(G.jsx)(Re.a,{type:"password",onChange:function(e){a(e.target.value)},labelWidth:50})]}),Object(G.jsxs)(ze.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:f.margin,variant:"outlined",children:[Object(G.jsx)(Me.a,{htmlFor:"outlined-adornment-amount",children:"New Password"}),Object(G.jsx)(Re.a,{type:"password",onChange:function(e){i(e.target.value)},labelWidth:50})]}),Object(G.jsxs)(ze.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:f.margin,variant:"outlined",children:[Object(G.jsx)(Me.a,{htmlFor:"outlined-adornment-amount",children:"New Password"}),Object(G.jsx)(Re.a,{type:"password",onChange:function(e){o(e.target.value)},labelWidth:50})]}),Object(G.jsx)(N.a,{style:{backgroundColor:"lightblue",width:580,marginTop:10,marginLeft:10},onClick:function(){c()},variant:"primary",children:"Submit"}),Object(G.jsx)(Me.a,{style:{textAlign:"center",marginTop:10,color:"red"},children:l})]})})})},Ve=n(553),Ge=n(542),Ue={primary:{black:"#042c42",red:"#ee3d60",white:"#ffffff",bluishWhite:"#EDF8FF"},secondary:{lightBlue:"#d2edf4 ",mainBlue:"#51c7ea",darkBlue:"#005792",orange:"#fbbd33"}},Je={black:"#042639",red:"#D03554",white:"#ffffff",bluishWhite:"#CFD9DF"},qe={lightBlue:"#B8CFD6",mainBlue:"#337C92",darkBlue:"#003B52",orange:"#BC8E26",lightGrey:"#CBCBCB"},Ke=Ue,_e={root:{width:"100%",height:"5%"},tabs:{backgroundColor:qe.lightBlue,height:"100%"},logout:{fontSize:20,color:"black",width:30,height:50,marginLeft:25,transform:[{rotate:"90deg"}]},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:qe.lightBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10},customTabDiv:{width:200,minWidth:140,height:50,fontSize:25,display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"center",textTransform:"none"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",fontSize:20,flexDirection:"row",display:"flex",marginBottom:-5},icon:{marginRight:10},tabDiv:{fontSize:16,marginBottom:2}},Ye={root:{flexGrow:1,width:"100%",height:50,backgroundColor:Ke.secondary.darkBlue},tabs:{backgroundColor:Ke.secondary.darkBlue,height:50},logout:{fontSize:20,color:"black",width:30,height:50,marginLeft:25,transform:[{rotate:"90deg"}]},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Ke.secondary.darkBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10},customTabDiv:{width:200,minWidth:140,height:50,fontSize:25,display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"center",textTransform:"none"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",fontSize:20,flexDirection:"row",display:"flex",marginBottom:-5,color:qe.lightGrey},icon:{marginRight:10},tabDiv:{fontSize:16,marginBottom:2,color:qe.lightGrey}},$e=n(248),Qe=n.n($e),Xe=n(152),Ze=n.n(Xe),et=n(247),tt=n.n(et),nt=n(246),at=n.n(nt),rt=(n(115),function(){var e=Object(b.b)(),t=Object(d.f)(),n=Object(r.useState)([]),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(!1),l=Object(j.a)(c,2),s=l[0],u=l[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),g=f[0],p=f[1],m=Object(r.useState)(""),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)(2),T=Object(j.a)(I,2),B=T[0],A=T[1],L=Object(b.c)((function(e){return e.educators})),E=L.educators,M=L.loading,R=L.fetchedEducatorId,H=Object(b.c)((function(e){return e.auth})),F=H.educatorId,V=H.token,U=H.darkMode,J=H.admin,q=H.resetError,K=U?Ye:_e;Object(r.useEffect)((function(){e(J?ue({adminId:F,token:V}):se({educatorId:F,token:V}))}),[]),Object(r.useEffect)((function(){E&&o(Object.values(E).sort((function(e,t){return(null===e||void 0===e?void 0:e.isCaseHandler)===(null===t||void 0===t?void 0:t.isCaseHandler)?0:(null===e||void 0===e?void 0:e.isCaseHandler)?-1:1})))}),[E]),Object(r.useEffect)((function(){var e=0;i&&(Object.values(i).forEach((function(t,n){(null===t||void 0===t?void 0:t.id)===R&&(e=n)})),A(J?e+3:e+2))}),[R]);return Object(G.jsx)("div",{style:K.root,children:Object(G.jsxs)(Ge.a,{position:"static",color:"default",children:[Object(G.jsxs)(Ve.a,{value:B,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",style:K.tabs,children:[Object(G.jsx)("img",{alt:"",src:Q,width:"110",height:"35",style:K.navLogo}),J?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(N.a,{onClick:function(){u(!0)},children:Object(G.jsx)(at.a,{})}),Object(G.jsx)(Fe,{open:s,setOpen:u,setOldPassword:p,setNewPassword:O,setNewPasswordVerify:C,handleResetSubmit:function(){e(x===k?D({adminId:F,token:V,oldPassword:g,newPassword:x}):z("Passwords don't match"))},error:q})]}):null,Object(G.jsx)(N.a,{style:K.logout,children:Object(G.jsx)(tt.a,{className:"logout",onClick:function(){return e(P()),e(be()),e(re()),e(De()),e(S(J?{adminId:F,token:V}:{educatorId:F,token:V})),void t.replace("/")}})}),Object.keys(i).length?Object.values(i).map((function(t){return Object(G.jsx)(N.a,{style:K.customTabDiv,onClick:function(){return n=t.id,void e(ge(n));var n},children:Object(G.jsxs)("div",{style:K.tabDiv,children:[Object(G.jsxs)(Ee.a,{style:K.text,children:[Object(G.jsx)("div",{style:K.icon,children:(null===t||void 0===t?void 0:t.isCaseHandler)?Object(G.jsx)(Qe.a,{}):Object(G.jsx)(Ze.a,{})}),t.name]}),Object(G.jsx)("text",{children:null===t||void 0===t?void 0:t.specialty})]})})})):""]}),M?Object(G.jsx)(W.a,{}):null]})})}),it=function(){var e=Object(b.c)((function(e){return e.auth})).darkMode?Ye:_e;return Object(G.jsx)(Ge.a,{position:"fixed",color:"black",style:e.footerAppBar,children:Object(G.jsx)("img",{alt:"",src:Q,width:"100",height:"40",className:"d-inline-block align-top",style:e.footerLogo})})},ot=n(543),ct=(n(343),n(47)),lt=n(263),dt=n.n(lt),st={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:"black"},emptyMessages:{color:"black"},chatScrollDiv:{overflow:"auto",height:"65vh",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:"#F4FBFF"}},ut={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{backgroundColor:qe.mainBlue},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:qe.lightGrey},emptyMessages:{color:qe.lightGrey},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:qe.mainBlue}},ht=function(e){var t=e.date,n=e.darkMode?ut:st,a=new Date(t);return Object(G.jsxs)("div",{style:n.separatorDiv,children:[Object(G.jsx)("div",{style:n.leftLine}),Object(G.jsxs)("div",{style:n.date,children:[t,", ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()]]}),Object(G.jsx)("div",{style:n.rightLine})]})},jt=n(264),ft=n.n(jt),bt=function(){var e=Object(b.b)(),t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),c=Object(j.a)(o,2),l=c[0],d=c[1],s=Object(r.useState)({ar:{messageCount:"\u0639\u062f\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",usageDuration:"\u0645\u062f\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645",emptyConvo:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0641\u0627\u0631\u063a\u0629"}}),u=Object(j.a)(s,2),h=u[0],f=(u[1],Object(b.c)((function(e){return e.auth}))),g=f.token,p=f.educatorId,m=f.darkMode,v=f.admin,x=Object(b.c)((function(e){return e.chats})),O=x.messages,y=x.loading,w=x.currentChat,k=m?ut:st,C=function(e,t,n){return Object(G.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t},n)};return Object(r.useEffect)((function(){e(X(v?{chatId:w,token:g,educatorId:p,adminId:p}:{chatId:w,token:g,educatorId:p}))}),[w]),Object(r.useEffect)((function(){var e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=["png","jpg","jpeg","gif"],a=["pdf","doc","docx"],r=["mp3","3gp","caf","wav","wave","m4a","aac"],i=0,o=[];for(var c in t){var l={};Object.assign(l,t[c]);var d=parseInt(l.user._id)-1;if(l.media){var s=l.media.split("."),u=s[s.length-1],h=n.includes(u.split("?")[0]),j=a.includes(u.split("?")[0]),f=r.includes(u.split("?")[0]);h?(e!==l.createdOn.split("T")[0]?(i++,l.message={image:l.media},l.message.date=l.createdOn.split("T")[0],e=l.createdOn.split("T")[0]):(l.message={image:l.media},l.message.text=l.text),delete l.media):j?(l.message={text:l.text,file:l.media},delete l.media):f?(l.media=l.media.replace("vnd.wave","wav"),l.message={audio:l.media},l.message.text=l.text,delete l.media):l.message={text:"this link is corrupted: "+l.media}}else l.text?e!==l.createdOn.split("T")[0]?(i++,l.message={text:l.text},l.message.date=l.createdOn.split("T")[0],e=l.createdOn.split("T")[0]):l.message={text:l.text}:l.message={text:""};l.message.createdOn=l.createdOn;var b=void 0;b=0===d?"outgoing":"incoming";var g=l.message.createdOn.split("T");l.message.createdOn=g;var p={userId:b,message:l.message};o.push(p)}return{formatedMessages:o,duration:i}}(O);i(e.formatedMessages.reverse()),d(e.duration)}),[O]),Object(G.jsxs)("div",{style:k.root,children:[Object(G.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(G.jsxs)("div",{style:k.statsDiv,children:[a.length," :",h.ar.messageCount," ",Object(G.jsx)("br",{}),h.ar.usageDuration,": ",l," ","\u064a\u0648\u0645"]}),y?Object(G.jsx)(ot.a,{animation:"border"}):a.length?null:Object(G.jsxs)("div",{style:k.emptyMessages,children:[h.ar.emptyConvo," "]})]}),Object(G.jsx)("div",{style:k.chatDiv,children:Object(G.jsx)("div",{style:k.chatScrollDiv,children:a.map((function(e){var t,n,a,r;return Object(G.jsxs)("div",{children:[(null===(t=e.message)||void 0===t?void 0:t.date)&&Object(G.jsx)(ht,{date:e.message.date,darkMode:m}),(null===(n=e.message)||void 0===n?void 0:n.image)?Object(G.jsx)(ct.b,{model:{message:e.message.text,direction:e.userId},children:Object(G.jsx)(ct.b.ImageContent,{src:e.message.image,alt:"The image isn't working link: "+e.message.image,width:400})}):(null===(a=e.message)||void 0===a?void 0:a.audio)?Object(G.jsx)(ct.b,{model:{message:e.message.text,direction:e.userId,type:"image"},children:Object(G.jsx)(ct.b.CustomContent,{children:Object(G.jsx)(dt.a,{src:e.message.audio,controls:!0})})}):(null===(r=e.message)||void 0===r?void 0:r.file)?Object(G.jsxs)(ct.b,{model:{message:e.message.text,direction:e.userId},children:[Object(G.jsx)(ct.b.CustomContent,{children:Object(G.jsx)("a",{href:e.message.file,target:"_blank",download:!0,rel:"noreferrer",children:e.message.text})}),Object(G.jsx)(ct.b.Footer,{children:Object(G.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]}):Object(G.jsxs)(ct.b,{model:{message:e.message.text,direction:e.userId},children:[Object(G.jsx)(ct.b.CustomContent,{children:Object(G.jsx)("div",{style:k.customMessage,children:Object(G.jsx)(ft.a,{componentDecorator:C,children:e.message.text})})}),Object(G.jsx)(ct.b.Footer,{children:Object(G.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]})]},e.id)}))})})]})},gt=Ue,pt={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:gt.primary.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ue.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh"},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:"black"},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:gt.secondary.lightBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50.8%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},mt={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10,backgroundColor:Je.black},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Je.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Je.black},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Je.black},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ue.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh",backgroundColor:Je.black},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:qe.lightGrey},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:qe.mainBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},vt=n(544),xt=function(e){var t=e.text,n=e.description,a=e.style,r=Object(b.c)((function(e){return e.auth})).darkMode?mt:pt;return Object(G.jsx)(V.a,{color:!0,style:a,children:Object(G.jsxs)(vt.a,{children:[Object(G.jsx)(Ee.a,{style:r.text,variant:"h5",component:"h2",children:n}),Object(G.jsx)(Ee.a,{style:r.textColor,children:t})]})})},Ot=Ue,yt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ot.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:Ot.secondary.lightBlue}},wt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10,backgroundColor:Je.black},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ot.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:qe.mainBlue}},kt=function(e){var t=e.patientId,n=e.educators,a=e.darkMode,i=Object(b.b)(),o=Object(r.useState)([]),c=Object(j.a)(o,2),l=c[0],d=c[1],s=Object(b.c)((function(e){return e.auth})),u=s.token,h=s.educatorId,f=Object(b.c)((function(e){return e.patient})).appointments;Object(r.useEffect)((function(){i(we({educatorId:h,token:u,patientId:t}))}),[t]),Object(r.useEffect)((function(){f&&d(function(e,t){var n=[];return e&&e.forEach((function(e){n.push(t.filter((function(t){return e.id===t.educatorId})).map((function(t){return{date:t.date,educatorId:t.educatorId,name:e.name}})))})),n.flat()}(n,f))}),[f]);var g=a?wt:yt;return Object(G.jsx)("div",{style:g.root,children:Object(G.jsxs)(V.a,{style:g.card,children:[Object(G.jsx)(Ee.a,{style:g.text,variant:"h5",component:"h2",children:"Appointments"}),Object(G.jsx)("div",{style:g.listDiv,children:null===l||void 0===l?void 0:l.map((function(e){return Object(G.jsx)(N.a,{variant:"contained",onClick:function(){return function(e){i(ge(e))}(e.educatorId)},style:g.button,children:Object(G.jsxs)("div",{children:[e.date.split("T")[0]," ",e.name]},e.id)},e.id)}))})]})})},Ct=n(545),It=n(546),St=n(280),Dt=n(281),Tt=n(62),Bt=n(130),At=n(126),Lt=n(295),Et=n(54),Pt=function(e){var t=e.text,n=e.hba1cs,a=e.weights,o=e.height,c=Object(Et.a)();var l=Object(r.useState)([]),d=Object(j.a)(l,2),s=d[0],u=d[1];return Object(r.useEffect)((function(){var e=[];null===n||void 0===n||n.forEach((function(t){var n,r;e.push(function(e,t,n,a){return{date:e,hba1c:t,weight:n,height:a}}(null===t||void 0===t||null===(n=t.createdOn)||void 0===n?void 0:n.split("T")[0],null===a||void 0===a||null===(r=a[0])||void 0===r?void 0:r.weight,null===t||void 0===t?void 0:t.hba1c,o))})),u(e)}),[n]),Object(G.jsx)(i.a.Fragment,{children:Object(G.jsx)(Ct.a,{children:Object(G.jsxs)(It.a,{data:s,margin:pt.chartMargin,children:[Object(G.jsx)(St.a,{dataKey:"date",stroke:c.palette.text.secondary}),Object(G.jsx)(Dt.a,{stroke:c.palette.text.secondary,children:Object(G.jsx)(Tt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:c.palette.text.primary},children:t})}),Object(G.jsx)(Bt.a,{}),Object(G.jsx)(At.a,{}),Object(G.jsx)(Lt.a,{type:"monotone",dataKey:"hba1c",stroke:"#8884d8",activeDot:{r:8}}),Object(G.jsx)(Lt.a,{type:"monotone",dataKey:"weight",stroke:"#8884d8",activeDot:{r:8}}),Object(G.jsx)(Lt.a,{type:"monotone",dataKey:"height",stroke:"#82ca9d"})]})})})},zt=function(e){var t=e.localEducators,n=e.darkMode,a=Object(b.b)(),r=n?mt:pt;return Object(G.jsx)(V.a,{color:!0,style:r.rightSideCard,children:Object(G.jsxs)(vt.a,{children:[Object(G.jsx)(Ee.a,{style:r.text,variant:"h5",component:"h2",children:"Educators"}),Object(G.jsx)("div",{style:r.educatorsDiv,children:null===t||void 0===t?void 0:t.map((function(e){return Object(G.jsx)(N.a,{variant:"contained",onClick:function(){var t;t=e.id,a(ge(t))},style:r.educatorsButton,children:Object(G.jsx)("text",{children:e.name})})}))})]})})},Mt={name:"\u0627\u0644\u0627\u0633\u0645",dateAffectedText:"\u0645\u0635\u0627\u0628 \u0645\u0646\u0630",dateBirthText:"\u0633\u0646\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062f",dietText:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u063a\u0630\u0627\u0626\u064a \u0627\u0644\u0645\u062a\u0628\u0639",diseaseText:"\u0627\u0644\u0645\u0631\u0636",weightText:"\u0627\u0644\u0648\u0632\u0646",heightText:"\u0627\u0644\u0637\u0648\u0644",Hba1CText:"Hba1C",medicinesText:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",sexText:"\u0627\u0644\u062c\u0646\u0633",surgeryText:"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u062c\u0631\u0627\u062d\u064a\u0629",otherDiseaseText:"\u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0623\u062e\u0631\u0649",whoIsPatientText:"\u0645\u0646 \u0627\u0644\u0645\u062a\u0644\u0642\u064a",outSideLinkText:"\u0631\u0627\u0628\u0637 \u0645\u0644\u0641 \u062e\u0627\u0631\u062c\u064a",topicsText:"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639",saveText:"\u062d\u0641\u0638",needPayment:"\u0628\u062d\u0627\u062c\u0647 \u0644\u0644\u062f\u0641\u0639"},Rt=function(){var e=Object(b.b)(),t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),c=Object(j.a)(o,2),l=c[0],d=c[1],s=Object(r.useState)([]),u=Object(j.a)(s,2),h=u[0],f=u[1],g=Object(r.useState)([]),p=Object(j.a)(g,2),m=p[0],v=p[1],x=Object(r.useState)([]),O=Object(j.a)(x,2),y=O[0],w=O[1],k=Object(r.useState)([]),C=Object(j.a)(k,2),I=C[0],S=C[1],D=Object(r.useState)(""),T=Object(j.a)(D,2),B=T[0],A=T[1],L=Object(r.useState)([]),E=Object(j.a)(L,2),P=(E[0],E[1]),z=Object(r.useState)(""),M=Object(j.a)(z,2),R=M[0],W=M[1],N=Object(r.useState)(""),H=Object(j.a)(N,2),F=H[0],U=(H[1],Object(r.useState)("")),J=Object(j.a)(U,2),q=J[0],K=J[1],_=Object(r.useState)(""),Y=Object(j.a)(_,2),$=Y[0],Q=Y[1],X=Object(r.useState)(""),Z=Object(j.a)(X,2),ee=Z[0],te=Z[1],ne=Object(r.useState)(""),ae=Object(j.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(r.useState)([]),ce=Object(j.a)(oe,2),le=(ce[0],ce[1]),de=Object(r.useState)(""),se=Object(j.a)(de,2),ue=se[0],he=se[1],je=Object(r.useState)([]),fe=Object(j.a)(je,2),be=fe[0],ge=fe[1],pe=Object(r.useState)([]),me=Object(j.a)(pe,2),ve=me[0],xe=me[1],Oe=Object(b.c)((function(e){return e.auth})),we=Oe.darkMode,ke=Oe.educatorId,Ce=Oe.token,Ie=Oe.admin,Se=Object(b.c)((function(e){return e.educators})),De=Se.patients,Te=Se.educators,Be=Object(b.c)((function(e){return e.patient})),Ae=Be.patientProfile,Le=Be.loading,Pe=Be.patientId,ze=we?mt:pt;Object(r.useEffect)((function(){try{Ae&&(i(null===Ae||void 0===Ae?void 0:Ae.dateAffected),d(null===Ae||void 0===Ae?void 0:Ae.dateBirth),f(null===Ae||void 0===Ae?void 0:Ae.weights),v(null===Ae||void 0===Ae?void 0:Ae.height),w(null===Ae||void 0===Ae?void 0:Ae.hba1cs),S(function(e,t){var n=t.substring(0,t.length-1),a="";return(null===e||void 0===e?void 0:e[t])&&e[t].forEach((function(e){a=a.concat((null===e||void 0===e?void 0:e[n])+"\n")})),a}(Ae,"medicines")),P(null===Ae||void 0===Ae?void 0:Ae.notes),W(null===Ae||void 0===Ae?void 0:Ae.diseaseType),K(null===Ae||void 0===Ae?void 0:Ae.whoIsPatient),Q(null===Ae||void 0===Ae?void 0:Ae.surgery),te(null===Ae||void 0===Ae?void 0:Ae.otherDisease),ie(null===Ae||void 0===Ae?void 0:Ae.outSideLink),le(null===Ae||void 0===Ae?void 0:Ae.topics),he(null===Ae||void 0===Ae?void 0:Ae.diet))}catch(e){console.log(e)}}),[Ae]),Object(r.useEffect)((function(){var e=Object.values(De).filter((function(e){return(null===e||void 0===e?void 0:e.patientId)===(null===Ae||void 0===Ae?void 0:Ae.patientId)}))[0];A(null===e||void 0===e?void 0:e.patientName),ge(null===e||void 0===e?void 0:e.educators.map((function(e){return{id:e.id,name:e.name}})))}),[De,Ae]),Object(r.useEffect)((function(){var e=[];if(be){be.forEach((function(t){e.push(t.id)}));var t=Object.values(Te).filter((function(t){return e.includes(t.id)}));xe(t)}}),[be]),Object(r.useEffect)((function(){e(ye(Ie?{adminId:ke,token:Ce,patientId:Pe}:{educatorId:ke,token:Ce,patientId:Pe}))}),[Pe]);var Me=Mt,Re=Me.dateAffectedText,We=Me.name,Ne=Me.dateBirthText,He=Me.dietText,Fe=Me.diseaseText,Ve=Me.medicinesText,Ge=Me.otherDiseaseText,Ue=Me.outSideLinkText,Je=Me.sexText,qe=Me.surgeryText,Ke=Me.whoIsPatientText,_e=(Me.Hba1CText,Me.needPayment);return Object(G.jsxs)("div",{style:ze.flex1,children:[Le?Object(G.jsx)(ot.a,{animation:"border"}):"",Object(G.jsxs)("div",{style:ze.root,children:[Object(G.jsx)("div",{style:ze.contentWrapper,children:Object(G.jsxs)("div",{style:{flex:1},children:[Object(G.jsx)(V.a,{style:ze.patientName,children:Object(G.jsxs)("div",{style:ze.text,children:[B," :",We]})}),Object(G.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(G.jsxs)("div",{style:{width:"50%",marginRight:15},children:[Object(G.jsx)(xt,{text:a?new Date(a).toLocaleDateString():"",description:Re,style:ze.leftSideCard}),Object(G.jsx)(xt,{text:l?new Date(l).toLocaleDateString():"",description:Ne,style:ze.leftSideCard}),Object(G.jsx)(xt,{text:R,description:Fe,style:ze.leftSideCard}),Object(G.jsx)(xt,{text:F,description:Je,style:ze.leftSideCard})]}),Object(G.jsxs)("div",{style:{width:"50%",marginRight:20},children:[Object(G.jsx)(xt,{text:q,description:Ke,style:ze.leftSideCard}),Object(G.jsx)(xt,{text:$,description:qe,style:ze.leftSideCard}),Object(G.jsx)(xt,{text:ee,description:Ge,style:ze.leftSideCard}),Object(G.jsx)(V.a,{color:!0,style:ze.leftSideCard,children:Object(G.jsxs)(vt.a,{children:[Object(G.jsx)(Ee.a,{style:ze.text,variant:"h5",component:"h2",children:Ue}),Object(G.jsx)("a",{href:re,target:"_blank",style:ze.textColor,rel:"noreferrer",children:re})]})})]})]})]})}),Object(G.jsxs)("div",{style:ze.rightSideDiv,children:[Object(G.jsx)("div",{style:ze.chartDiv,children:Object(G.jsx)(V.a,{style:ze.chartWrapper,children:Object(G.jsx)(Pt,{text:"unit",hba1cs:y,weights:h,height:m})})}),Object(G.jsxs)("div",{style:ze.rightBottomRightDiv,children:[Object(G.jsxs)("div",{style:ze.rightSideLeftColumn,children:[Object(G.jsx)(xt,{text:I,description:Ve,style:ze.rightSideCard}),Object(G.jsx)(xt,{text:ue,description:He,style:ze.rightSideCard}),Object(G.jsx)(xt,{text:(null===Ae||void 0===Ae?void 0:Ae.needPayment)?"\u0646\u0639\u0645":"\u0644\u0627",description:_e,style:ze.rightSideCard})]}),Object(G.jsxs)("div",{style:ze.rightSideRightColumn,children:[Object(G.jsx)(zt,{localEducators:be,darkMode:we}),Object(G.jsx)(kt,{patientId:Pe,educators:ve,darkMode:we})]})]})]})]})]})},Wt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:"#6AC6F7"},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"initial"},Nt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh",backgroundColor:Je.black},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5,color:qe.lightGrey},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:qe.mainBlue},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"secondary",text:{color:qe.lightGrey}},Ht=n(282),Ft=n.n(Ht),Vt={titleText:{fontSize:30},text:{overflow:"auto"}},Gt={titleText:{fontSize:30,color:qe.lightGrey},text:{overflow:"auto",color:qe.lightGrey}},Ut=function(e){var t=e.currentNote,n=e.setNotes,a=Object(b.c)((function(e){return e.auth})).darkMode?Gt:Vt;return Object(G.jsxs)("div",{children:[Object(G.jsx)(N.a,{onClick:function(){n()},children:Object(G.jsx)(Ft.a,{})}),Object(G.jsx)("div",{style:a.titleText,children:t.title}),Object(G.jsx)("div",{style:a.text,children:t.text})]})},Jt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.patient})),n=t.patientProfile,a=t.patientId,i=Object(b.c)((function(e){return e.auth})),o=i.darkMode,c=i.educatorId,l=i.token,d=i.admin,s=Object(r.useState)("notes"),u=Object(j.a)(s,2),h=u[0],f=u[1],g=Object(r.useState)(null),p=Object(j.a)(g,2),m=p[0],v=p[1],x={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f",notes:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a"},O=o?Nt:Wt;Object(r.useEffect)((function(){e(ye(d?{adminId:c,token:l,patientId:a}:{educatorId:c,token:l,patientId:a}))}),[a]);return Object(G.jsxs)("div",{style:O.mainDev,children:[Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsx)("div",{style:{textAlign:"center",marginRight:50,fontSize:25},children:x.notes})}),Object(G.jsx)("div",{className:"grid-container",children:"notes"===h?function(){var e;return null===n||void 0===n||null===(e=n.notes)||void 0===e?void 0:e.map((function(e){return Object(G.jsx)("div",{style:O.cardDev,children:Object(G.jsx)(V.a,{style:O.root,variant:"outlined",children:Object(G.jsxs)(vt.a,{style:O.cardContent,children:[Object(G.jsx)(Ee.a,{color:O.color,variant:"h5",component:"h2",children:e.title}),Object(G.jsx)(Ee.a,{color:O.color,style:O.text,variant:"body2",component:"p",children:e.text}),Object(G.jsx)(Ee.a,{color:O.color,style:O.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(G.jsx)(Ee.a,{style:O.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(G.jsx)(N.a,{size:"small",style:O.learnMoreButton,onClick:function(){return function(e){v(e),f("readmore")}(e)},children:x.learnMore})})]})})})}))}():Object(G.jsx)(Ut,{currentNote:m,setNotes:function(){f("notes")}})})]})},qt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.patient})),n=t.patientProfile,a=t.patientId,i=Object(b.c)((function(e){return e.auth})),o=i.darkMode,c=i.educatorId,l=i.token,d=i.admin,s=Object(r.useState)("notes"),u=Object(j.a)(s,2),h=u[0],f=u[1],g=Object(r.useState)(null),p=Object(j.a)(g,2),m=p[0],v=p[1],x={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f",summaries:"\u0627\u0644\u0645\u0644\u062e\u0635\u0627\u062a"},O=o?Nt:Wt;Object(r.useEffect)((function(){e(ye(d?{adminId:c,token:l,patientId:a}:{educatorId:c,token:l,patientId:a}))}),[a]);return Object(G.jsxs)("div",{style:O.mainDev,children:[Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsx)("div",{style:{textAlign:"center",marginRight:50,fontSize:25},children:x.summaries})}),Object(G.jsx)("div",{className:"grid-container",children:"notes"===h?function(){var e;return null===n||void 0===n||null===(e=n.summaries)||void 0===e?void 0:e.map((function(e){return Object(G.jsx)("div",{style:O.cardDev,children:Object(G.jsx)(V.a,{style:O.root,variant:"outlined",children:Object(G.jsxs)(vt.a,{style:O.cardContent,children:[Object(G.jsx)(Ee.a,{color:O.color,variant:"h5",component:"h2",children:e.title}),Object(G.jsx)(Ee.a,{color:O.color,style:O.text,variant:"body2",component:"p",children:e.text}),Object(G.jsx)(Ee.a,{color:O.color,style:O.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(G.jsx)(Ee.a,{style:O.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(G.jsx)(N.a,{size:"small",style:O.learnMoreButton,onClick:function(){return function(e){v(e),f("readmore")}(e)},children:x.learnMore})})]})})})}))}():Object(G.jsx)(Ut,{currentNote:m,setNotes:function(){f("notes")}})})]})},Kt=n(192),_t=n(286),Yt=n.n(_t),$t=Ue,Qt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90%",width:"100%",backgroundColor:$t.primary.black},card:{width:"95%",display:"flex",direction:"row",padding:10,marginTop:10,marginBottom:10,backgroundColor:$t.primary.white,borderRadius:10},buttonsText:{marginTop:5,marginRight:5,backgroundColor:$t.primary.black,color:$t.primary.white},icons:{color:$t.primary.black},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:"#6D9DC5"},mianDev:{marginLeft:20,width:"100%",height:"100%"},iconsDev:{width:"100%",height:"100%"},listDev:{width:"20%",backgroundColor:$t.primary.bluishWhite},rightColumn:{width:"80%",height:"100%"},cardContainer:$t.primary.white,listHeaderDiv:{display:"block",backgroundColor:$t.primary.white,textAlign:"center",padding:10},patientListName:{color:"black"},listAppointemntsButton:{width:"100%",backgroundColor:$t.primary.bluishWhite},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:"white"},calendarMainDiv:{flex:1},headerListDiv:{width:"20%",height:"10%"},calendarContentDiv:{width:"100%",height:"90%"},calendarCardDiv:{flex:1,display:"flex",justifyContent:"center"},calendarCard:{display:"flex",height:"60%",width:"100%",marginLeft:"15%",marginRight:"15%",alignContent:"center",alignItems:"center",backgroundColor:$t.secondary.lightBlue},calendarDiv:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},calendar:{height:500,width:"90%",marginTop:"5%",marginBottom:"5%"}},Xt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.5vh",width:"100%",backgroundColor:Je.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Je.black,color:Je.white},icons:{color:qe.lightGrey},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:qe.lightBlue},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%",overflow:"hidden"},listDev:{width:"20%",backgroundColor:qe.mainBlue},rightColumn:{width:"80%",height:"100%"},cardContainer:qe.darkBlue,listHeaderDiv:{display:"block",backgroundColor:qe.darkBlue,textAlign:"center",padding:10},card:{width:"95%",display:"flex",direction:"row",padding:10,marginTop:10,marginBottom:10,backgroundColor:$t.primary.white,borderRadius:10},patientListName:{color:qe.lightGrey},listAppointemntsButton:{width:"100%",backgroundColor:qe.mainBlue},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:qe.mainBlue},calendarMainDiv:{flex:1},headerListDiv:{width:"20%",height:"10%"},calendarContentDiv:{width:"100%",height:"90%"},calendarCardDiv:{flex:1,display:"flex",justifyContent:"center"},calendarCard:{display:"flex",height:"100%",width:"100%",marginLeft:"15%",marginRight:"15%",alignContent:"center",alignItems:"center",backgroundColor:$t.primary.black},calendarDiv:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},calendar:{height:600,width:"90%",marginTop:"5%",marginBottom:"5%"}},Zt=(n(489),Object(Kt.b)(Yt.a)),en=function(e){var t=e.currentEducator,n=e.darkMode,a=e.goToPatient,r=n?Xt:Qt,i=[];t&&t.appointments.forEach((function(e){i.push({appointmentId:e.appointmentId,date:new Date(e.date.split("T")[0]),name:e.name,time:e.time,patientId:e.patientId})}));if(!i||i&&!Object.keys(i).length)return null;var o=0,c=i.map((function(e){var t=new Date(e.date);return t>Date.now()&&o++,t.setHours(e.time.split(":")[0]),{id:e.appointmentId,title:e.name,allDay:!1,start:t,end:t,patinetId:e.patientId}}));return Object(G.jsx)("div",{style:r.calendarCardDiv,children:Object(G.jsx)(V.a,{elevation:5,style:r.calendarCard,children:Object(G.jsxs)("div",{style:r.calendarDiv,children:[Object(G.jsxs)("div",{style:{alignSelf:"start",marginLeft:10,marginTop:5,fontSize:20},children:["Upcoming Appointments: ",o]}),Object(G.jsx)(Kt.a,{localizer:Zt,events:c,startAccessor:"start",endAccessor:"end",style:r.calendar,onSelectEvent:function(e){a(null===e||void 0===e?void 0:e.patinetId)}})]})})})},tn=n(531),nn=n(287),an=n.n(nn),rn=Ue,on={mainDiv:{height:"76vh",overflow:"auto"},uperDiv:{display:"flex",flexDirection:"row",height:50},input:{height:"100%",width:"100%",alignSelf:"end",justifyContent:"end",borderColor:"white",textAlign:"end",backgroundColor:rn.primary.bluishWhite},convo:{display:"flex",flexDirection:"row",alignItems:"center"},accountIcon:{marginRight:5},inputDiv:{width:"70%"},switchDiv:{width:"30%",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginBottom:10},allChatsSwitch:{},allChatsText:{marginBottom:-5,fontSize:14,width:"100%",textAlign:"center",height:20},patientListName:{color:"black"}},cn={mainDiv:{height:"76vh",overflow:"auto"},uperDiv:{display:"flex",flexDirection:"row",height:50},input:{height:"100%",width:300,alignSelf:"end",justifyContent:"end",borderColor:qe.darkBlue,textAlign:"end",backgroundColor:qe.mainBlue},convo:{display:"flex",flexDirection:"row",alignItems:"center"},inputDiv:{width:"70%"},switchDiv:{width:"30%",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginBottom:10},allChatsSwitch:{backgroundColor:rn.secondary.lightBlue},allChatsText:{marginBottom:-5,fontSize:16,width:"100%",textAlign:"center"},accountIcon:{marginRight:5},patientListName:{color:"black"}},ln=n(556),dn=function(e){var t=e.localPatients,n=e.allPateints,a=e.activateChat,i=e.patientId,o=e.darkMode,c=e.setSearchTerm,l=e.searchTerm,d=e.allChatsLoading,s=e.checkedAllChats,u=e.setCheckedAllChats,h=Object(r.useState)([]),f=Object(j.a)(h,2),b=f[0],g=f[1],p={allChats:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",searchHolder:"\u0627\u0628\u062d\u062b"},m=o?cn:on;return Object(r.useEffect)((function(){s&&n()}),[s]),Object(r.useEffect)((function(){if(!t.length)return g([]),null;var e;e=""===l?t:null===t||void 0===t?void 0:t.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.patientName)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===e||void 0===e||null===(n=e.id)||void 0===n?void 0:n.includes(l))})),g(e)}),[t,l]),Object(G.jsx)("div",{children:Object(G.jsxs)("div",{style:m.mainDiv,children:[Object(G.jsxs)("div",{style:m.uperDiv,children:[Object(G.jsx)("div",{style:m.inputDiv,dir:"rtl",children:Object(G.jsx)(tn.a,{style:m.input,value:l,onChange:function(e){return c(e.target.value.toLowerCase())},placeholder:p.searchHolder})}),Object(G.jsxs)("div",{style:m.switchDiv,children:[Object(G.jsx)(Ee.a,{style:m.allChatsText,children:p.allChats}),Object(G.jsx)(ln.a,{style:m.allChatsSwitch,checked:s,onChange:function(){u(!s)},name:"checkedB",color:"primary"})]})]}),d?Object(G.jsx)(W.a,{}):null,null===b||void 0===b?void 0:b.map((function(e){return Object(G.jsx)(ct.a,{active:i===e.patientId,onClick:function(){return a(e.id,e.patientId)},children:Object(G.jsx)(ct.a.Content,{children:Object(G.jsxs)("div",{style:m.convo,children:[Object(G.jsx)(an.a,{fontSize:"large",style:m.accountIcon}),Object(G.jsx)("div",{style:m.patientListName,children:e.patientName})]})})},e.id)}))]})})},sn=Object(m.b)("refrrals/addRefrralsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,l,d,s,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.phone,i=t.specialty,o=t.referCode,c=t.medium,l=t.token,d=t.adminId,s=n.rejectWithValue,h={name:a,phone:r,specialty:i,referCode:o,medium:c},e.abrupt("return",x.a.post("".concat(O,"/referrer?adminId=").concat(d),h,{headers:{Authorization:"Bearer ".concat(l)}}).then((function(e){return e.data?e.data:s("credintials")})).catch((function(e){return console.log("error ",e),s("credintials")})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),un=Object(m.b)("refrrals/getRefrralsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,r=t.adminId,i=n.rejectWithValue,e.abrupt("return",x.a.get("".concat(O,"/referrers?adminId=").concat(r),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data?e.data:i("credintials")})).catch((function(e){console.log("error ",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),hn=Object(p.a)({referral:null,referrers:[],added:!1},w),jn=Object(m.c)({name:"refrrals",initialState:hn,reducers:{clearAll:function(){return hn},clearErrors:function(e,t){e.added=!1,e.error=!1,e.loading=!1}},extraReducers:($={},Object(g.a)($,un.fulfilled,(function(e,t){e.referrers=t.payload})),Object(g.a)($,un.rejected,(function(e,t){e.error=t.payload})),Object(g.a)($,sn.fulfilled,(function(e,t){e.referrers.push(t.payload),e.loading=!1,e.error=!1,e.added=!0})),Object(g.a)($,sn.pending,(function(e,t){e.loading=!0})),Object(g.a)($,sn.rejected,(function(e,t){e.error=!0,e.loading=!1,e.added=!1})),$)}),fn=jn.actions,bn=(fn.clearAll,fn.clearErrors),gn=jn.reducer,pn=n(550),mn=n(288),vn=n.n(mn),xn={iconsButton:{height:50,width:50,marginLeft:20,marginTop:10},closeIcon:{height:50,width:50},mainContainer:{display:"flex",flex:1,paddingBottom:50,height:"100%"},leftHalf:{height:"100%",width:"30%",alignContent:"center",display:"flex",flexDirection:"column"},addLinkText:{textAlign:"center",fontSize:20},formDiv:{height:"100%",width:"70%",alignSelf:"center"},formText:{justifyContent:"center",width:"100%",marginTop:"10%"},formButton:{justifyContent:"center",width:"100%",height:50},divider:{height:"90%",width:2,backgroundColor:"grey"},rightHalf:{height:"100%",width:"70%"},rightMainContainer:{padding:15,height:"95%",overflow:"auto"},numberOfLinks:{marginLeft:30,fontSize:20},linksWrapper:{display:"flex",flexWrap:"wrap"},linkCardDiv:{width:"48%",marginLeft:10,right:0},linkCard:{marginTop:10,paddingRight:20,paddingLeft:20},linkText:{textAlign:"end",fontSize:18},error:{width:"100%",marginTop:"10%",textAlign:"center"},fullUrlText:{overflowWrap:"break-word",textAlign:"end",fontSize:18,maxWidth:"90%"},fullUrlDiv:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},On=function(e){var t=e.setActiveList,n=Object(b.b)(),a=Object(r.useState)(null),i=Object(j.a)(a,2),o=i[0],c=i[1],l=Object(r.useState)(null),d=Object(j.a)(l,2),s=d[0],u=d[1],h=Object(r.useState)(null),f=Object(j.a)(h,2),g=f[0],p=f[1],m=Object(r.useState)(null),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(null),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)({ar:{addLink:"\u0627\u0636\u0627\u0641\u0629 \u0631\u0627\u0628\u0637",numberOfLinks:"\u0639\u062f\u062f \u0627\u0644\u0631\u0648\u0627\u0628\u0637",name:"\u0627\u0644\u0627\u0633\u0645",code:"\u0643\u0648\u062f",link:"\u0631\u0627\u0628\u0637",date:"\u062a\u0627\u0631\u064a\u062e",added:"\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0647 \u0628\u0646\u062c\u0627\u062d",error:"\u062d\u062f\u062b \u062e\u0637\u0627"}}),S=Object(j.a)(I,2),D=S[0],T=(S[1],Object(r.useState)("ar")),B=Object(j.a)(T,2),A=B[0],L=(B[1],Object(b.c)((function(e){return e.auth}))),E=L.token,P=L.educatorId,z=Object(b.c)((function(e){return e.refrrals})),M=z.referrers,H=z.loading,F=z.error,U=z.added;Object(r.useEffect)((function(){n(un({token:E,adminId:P}))}),[]);return Object(G.jsxs)("div",{children:[Object(G.jsx)(pn.a,{style:xn.iconsButton,"aria-label":"notes",onClick:function(){t(""),n(bn())},children:Object(G.jsx)(vn.a,{style:xn.closeIcon,fontSize:"large"})}),Object(G.jsxs)("div",{style:xn.mainContainer,children:[Object(G.jsxs)("div",{style:xn.leftHalf,children:[Object(G.jsx)("div",{style:xn.addLinkText,children:D[A].addLink}),Object(G.jsxs)("div",{style:xn.formDiv,children:[Object(G.jsx)(R.a,{style:xn.formText,onChange:function(e){return c(e.target.value)},label:"name",variant:"outlined"}),Object(G.jsx)(R.a,{style:xn.formText,onChange:function(e){return u(e.target.value)},label:"phone",variant:"outlined"}),Object(G.jsx)(R.a,{style:xn.formText,onChange:function(e){return p(e.target.value)},label:"specialty",variant:"outlined"}),Object(G.jsx)(R.a,{style:xn.formText,onChange:function(e){return O(e.target.value)},label:"referCode",variant:"outlined"}),Object(G.jsx)(R.a,{style:xn.formText,onChange:function(e){return C(e.target.value)},label:"medium",variant:"outlined"}),Object(G.jsx)("div",{style:xn.formText,children:H&&Object(G.jsx)(W.a,{})}),Object(G.jsxs)(N.a,{style:xn.formButton,onClick:function(){o&&s&&g&&x&&k&&n(sn({name:o,phone:s,specialty:g,referCode:x,medium:k,token:E,adminId:P}))},label:"medium",variant:"outlined",children:["\u0627\u0631\u0633\u0627\u0644"," "]}),F?Object(G.jsx)("div",{style:xn.error,children:D[A].error}):U&&Object(G.jsx)("div",{style:xn.error,children:D[A].added})]})]}),Object(G.jsx)("div",{style:xn.divider}),Object(G.jsxs)("div",{style:xn.rightHalf,children:[Object(G.jsxs)("div",{style:xn.numberOfLinks,children:[" ",D[A].numberOfLinks,": ",null===M||void 0===M?void 0:M.length]}),Object(G.jsx)("div",{style:xn.rightMainContainer,children:Object(G.jsx)("div",{style:xn.linksWrapper,children:M&&Object.values(M).sort((function(e,t){return new Date(null===t||void 0===t?void 0:t.createdOn)-new Date(null===e||void 0===e?void 0:e.createdOn)})).map((function(e){return Object(G.jsx)("div",{style:xn.linkCardDiv,children:Object(G.jsxs)(V.a,{style:xn.linkCard,children:[Object(G.jsxs)("div",{style:xn.linkText,children:[null===e||void 0===e?void 0:e.name," :",D[A].name]}),Object(G.jsxs)("div",{style:xn.linkText,children:[null===e||void 0===e?void 0:e.referCode," :",D[A].code]}),Object(G.jsxs)("div",{style:xn.fullUrlDiv,children:[Object(G.jsx)("div",{style:xn.fullUrlText,children:null===e||void 0===e?void 0:e.fullUrl}),Object(G.jsxs)("div",{style:xn.linkText,children:[":",D[A].link]})]}),Object(G.jsxs)("div",{style:xn.linkText,children:[new Date(null===e||void 0===e?void 0:e.createdOn).toLocaleDateString()," :",D[A].date]})]})})}))})})]})]})]})},yn=n(289),wn=n.n(yn),kn=n(290),Cn=n.n(kn),In=n(291),Sn=n.n(In),Dn=function(){var e=Object(d.f)(),t=Object(b.b)(),n=Object(r.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)([]),l=Object(j.a)(c,2),s=l[0],u=l[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),g=f[0],p=f[1],m=Object(r.useState)(!0),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)(""),S=Object(j.a)(I,2),D=S[0],T=S[1],B=Object(r.useState)({ar:{chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",profile:"\u0627\u0644\u0628\u0631\u0648\u0641\u0627\u064a\u0644",educators:"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",time:"\u0627\u0644\u0648\u0642\u062a"}}),A=Object(j.a)(B,2),L=(A[0],A[1],Object(b.c)((function(e){return e.auth}))),P=L.chats,z=L.token,M=L.educatorId,R=L.darkMode,W=L.admin,F=Object(b.c)((function(e){return e.educators})),U=F.fetchedEducatorId,q=F.patients,K=F.educators,_=F.currentEducator,Y=Object(b.c)((function(e){return e.patient})).patientId,$=Object(b.c)((function(e){return e.chats})),Q=$.allChats,X=$.allChatsLoading,ee=R?Xt:Qt;Object(r.useEffect)((function(){z||e.replace("/")}),[z]),Object(r.useEffect)((function(){try{if((null===P||void 0===P?void 0:P.length)&&!P[0].id){var e=J(P);t(E(e))}}catch(n){console.log("error setting chats:",n)}}),[P,t]),Object(r.useEffect)((function(){var e;K&&(0!==(e=Object.values(K).filter((function(e){return U===e.id}))).length&&u(e[0].chats),T(!1),C(""),t(pe(e[0])),t(re()))}),[t,M,K,U,q]),Object(r.useEffect)((function(){Y&&O(!1)}),[Y]),Object(r.useEffect)((function(){(null===Q||void 0===Q?void 0:Q.length)&&u(Q)}),[Q]),Object(r.useEffect)((function(){var e;D||0!==(e=Object.values(K).filter((function(e){return U===e.id}))).length&&u(e[0].chats)}),[D]);var te=function(){return Object(G.jsxs)("div",{style:ee.listHeaderDiv,children:[W&&Object(G.jsx)(N.a,{variant:"contained",onClick:function(){return o("links")},style:ee.buttonsText,children:"\u0631\u0648\u0627\u0628\u0637"}),Object(G.jsx)(N.a,{variant:"contained",onClick:function(){return o("patients")},style:ee.buttonsText,children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),Object(G.jsx)(N.a,{style:ee.buttonsText,variant:"contained",onClick:function(){return o("appointments")},children:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"})]})},ne=function(e){x||p(e)};return Object(G.jsxs)("div",{style:{height:"100vh"},children:[Object(G.jsx)(rt,{}),Object(G.jsx)(H.a,{maxWidth:!1,style:ee.container,children:Object(G.jsx)(V.a,{style:ee.card,children:"appointments"===i?Object(G.jsxs)("div",{style:ee.calendarMainDiv,children:[Object(G.jsx)("div",{style:ee.headerListDiv,children:te()}),Object(G.jsx)("div",{style:ee.calendarContentDiv,children:Object(G.jsx)(en,{currentEducator:_,darkMode:R,goToPatient:function(e){var n;p("profile"),o(""),e&&t(Se(e));var a=null===_||void 0===_||null===(n=_.chats)||void 0===n?void 0:n.find((function(t){return(null===t||void 0===t?void 0:t.patientId)===e}));a&&t(ae(null===a||void 0===a?void 0:a.id))}})})]}):"links"===i?Object(G.jsx)(On,{setActiveList:o}):Object(G.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(G.jsxs)("div",{style:ee.listDev,children:[te(),Object(G.jsx)("div",{children:Object(G.jsx)(dn,{localPatients:s,allPateints:function(){U&&t(Z(W?{educatorId:U,token:z,adminId:M}:{educatorId:U,token:z}))},activateChat:function(e,n){t(Se(n)),t(ae(e))},patientId:Y,darkMode:R,searchTerm:k,setSearchTerm:C,allChatsLoading:X,checkedAllChats:D,setCheckedAllChats:T})})]}),Object(G.jsx)("div",{style:ee.rightColumn,children:Object(G.jsx)("div",{style:ee.mianDev,children:Object(G.jsxs)("div",{style:ee.iconsDev,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(pn.a,{"aria-label":"chat",onClick:function(){return ne("chat")},children:Object(G.jsx)(wn.a,{style:ee.icons,fontSize:"large"})}),Object(G.jsx)(pn.a,{"aria-label":"chat",onClick:function(){ne("profile")},children:Object(G.jsx)(Ze.a,{style:ee.icons,fontSize:"large"})}),Object(G.jsx)(pn.a,{"aria-label":"notes",onClick:function(){ne("notes")},children:Object(G.jsx)(Cn.a,{style:ee.icons,fontSize:"large"})}),Object(G.jsx)(pn.a,{"aria-label":"summary",onClick:function(){ne("summaries")},children:Object(G.jsx)(Sn.a,{style:ee.icons,fontSize:"large"})})]}),"profile"===g?Object(G.jsx)(Rt,{}):"notes"===g?Object(G.jsx)(Jt,{}):"summaries"===g?Object(G.jsx)(qt,{}):s.length?Object(G.jsx)(bt,{}):null]})})})]})})}),Object(G.jsx)(it,{})]})},Tn=n(292),Bn=n(159),An=n(293),Ln={key:"root",storage:n.n(An).a,whitelist:["auth"]},En=Object(Bn.a)(Ln,{chats:ie,auth:M,educators:me,patient:Te,refrrals:gn}),Pn=Object(m.d)(),zn=Object(m.a)(Object(p.a)({reducer:En},Pn)),Mn=Object(Bn.b)(zn),Rn=zn,Wn=function(){return Object(G.jsx)(Tn.a,{loading:null,persistor:Mn,children:Object(G.jsx)(l.a,{children:Object(G.jsxs)(d.c,{children:[Object(G.jsx)(d.a,{exact:!0,path:"/",component:U}),Object(G.jsx)(d.a,{exact:!0,path:"/showpatients",component:Dn}),Object(G.jsx)(d.a,{path:"*",component:Dn})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(G.jsx)(b.a,{store:Rn,children:Object(G.jsx)(Wn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[492,1,2]]]);
//# sourceMappingURL=main.a70338f3.chunk.js.map