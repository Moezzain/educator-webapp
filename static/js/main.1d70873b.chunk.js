(this["webpackJsonpeducator-webapp"]=this["webpackJsonpeducator-webapp"]||[]).push([[0],{120:function(e,t,n){},318:function(e,t){},467:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(25),o=n.n(i),c=n(105),s=n(31),l=n(14),d=n.n(l),u=n(30),h=n(9),j=n(32),b=n(223),g=n(224),p=n(225),f=n(272),m=n(500),v=n(2),x=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(v.jsx)(m.a,{style:Object(j.a)({width:this.props.width,display:this.props.display,flexDirection:this.props.direction,backgroundColor:"rgba(247,247,247,1)",padding:this.props.padding,marginBottom:this.props.marginB,marginTop:this.props.marginT,borderRadius:25},"backgroundColor",this.props.backgroundColor),children:this.props.children})}}]),n}(r.Component),O=n.p+"static/media/bright-no-bg.d6200e7f.png",y=n(17),w=n(55),k=n(36),C=n(41),S=n.n(C),I="https://api.ithnain.com",D=n(228),T={loading:!1,error:null};function B(e){return e.map((function(e){return JSON.parse(e)}))}function A(e){var t=[],n={};for(var r in e){var a=e[r];Array.isArray(a)&&(n[r]=B(a),t.push(B(a)))}return n}var E,M,L,z,P=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(I,"/educator?get=all&id=").concat(t,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(r=e.sent).data){e.next=8;break}return a={},r.data.forEach((function(e){var t=JSON.parse(e),n=t.name,r=t.id;a[r]={name:n,id:r}})),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error getEducatorIds",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"chats,appointments,educator,all",e.next=4,S.a.get("".concat(I,"/educator?id=").concat(t,"&get=").concat("chats,appointments,educator,all","&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:if(!(r=e.sent).data){e.next=12;break}return a=r.data,i=JSON.parse(a.educator),delete a.educator,o=A(a),c=o.appointments,s=o.chats,e.abrupt("return",{chats:s,appointments:c,educator:i});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("getEducatorData Error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get("".concat(I,"/educator?id=").concat(t,"&get=educator&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.isCaseHandler})).catch((function(e){console.log("isCaseHandler error ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={educatorId:t,notificationToken:" "},e.next=3,S.a.patch("".concat(I,"/logout"),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){})).catch((function(e){console.log("error ",e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=Object(k.b)("auth/loginAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.password,i=n.rejectWithValue,e.next=4,l=a,Object(D.sha256)(l);case 4:return o=e.sent,c={},s={id:r,password:o},e.abrupt("return",S.a.post("".concat(I,"/login"),s).then((function(e){if(e.data.educator){var t=e.data,n=t.educatorId,r=t.appointments,a=t.chats;i();var o=JSON.parse(e.data.educator).token;return c.token=o[o.length-1],c.educatorId=n,c.appointments=r,c.chats=a,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}var l}),e)})));return function(t,n){return e.apply(this,arguments)}}()),G=Object(k.b)("auth/logout",function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,r=t.token,e.next=3,W(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(w.a)({token:null,educatorId:null,appointments:null,chats:null,response:null,darkMode:!1},T),V=Object(k.c)({name:"auth",initialState:H,reducers:{clearAll:function(){return H},setLoading:function(e,t){e.loading=t.payload},setChats:function(e,t){e.chats=t.payload},setDarkMode:function(e,t){e.darkMode=t.payload}},extraReducers:(E={},Object(j.a)(E,F.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.appointments=t.payload.appointments,e.chats=t.payload.chats,e.loading=!1})),Object(j.a)(E,F.pending,(function(e,t){e.loading=!0})),Object(j.a)(E,F.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),E)}),J=V.actions,q=J.setLoading,K=J.setChats,U=J.clearAll,_=J.setDarkMode,Y=V.reducer,$=n(518),Q=n(506),X=n(505),Z=n(504),ee={container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#0a122a",width:"100%"},root:{display:"flex",flexDirection:"row"},logo:{width:"30%",marginBottom:"15%"},formDiv:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column"},username:{marginTop:10,marginBottom:10},password:{marginTop:10,marginBottom:10},button:{backgroundColor:"lightblue",marginTop:10,marginBottom:10},error:{color:"red"}},te=function(){var e=Object(y.b)(),t=Object(s.f)(),n=Object(r.useState)(""),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(""),l=Object(h.a)(c,2),j=l[0],b=l[1],g=Object(r.useState)({ar:{username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a",submit:"\u062f\u062e\u0648\u0644"}}),p=Object(h.a)(g,2),f=p[0],m=(p[1],Object(y.c)((function(e){return e.auth}))),w=m.educatorId,k=m.token,C=m.loading,S=m.error;Object(r.useEffect)((function(){k&&w&&t.push("showpatients")}),[w,t,k]);var I=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(q(!0)),e(F({username:i,password:j}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)(Z.a,{maxWidth:!1,style:ee.container,children:Object(v.jsxs)("div",{style:ee.root,children:[Object(v.jsx)("img",{src:O,style:ee.logo}),Object(v.jsx)("div",{style:ee.formDiv,children:Object(v.jsx)(x,{width:"80%",padding:30,children:Object(v.jsxs)("form",{style:ee.form,children:[Object(v.jsx)($.a,{type:"username",required:!0,id:"outlined-required",label:f.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:ee.username}),Object(v.jsx)($.a,{type:"password",required:!0,id:"outlined-required",label:f.ar.password,variant:"outlined",value:j,onChange:function(e){e.persist(),b(e.target.value)},style:ee.password}),Object(v.jsx)(X.a,{variant:"primary",style:ee.button,onClick:I,children:f.ar.submit}),C?Object(v.jsx)(Q.a,{}):null,S?Object(v.jsx)("text",{style:ee.error,children:S}):""]})})})]})})},ne=n.p+"static/media/logo-dark-notext.58fe3789.png",re=(n(318),Object(k.b)("chats/getChatsAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.chatId,a=t.educatorId,i=t.token,o=n.rejectWithValue,e.prev=2,e.next=5,S.a.get("".concat(I,"/message?chatId=").concat(r,"&educatorId=").concat(a),{headers:{Authorization:"Bearer ".concat(i)},timeout:1e4});case 5:if(!(null===(c=e.sent)||void 0===c?void 0:c.data)){e.next=8;break}return e.abrupt("return",c.data.reverse());case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("error",e.t0),e.abrupt("return",o(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}())),ae=Object(w.a)({messages:null,currentChat:null},T),ie=Object(k.c)({name:"chats",initialState:ae,reducers:{clearAll:function(){return ae},setChats:function(e,t){e.chats=t.payload},setCurrentChat:function(e,t){e.currentChat=t.payload}},extraReducers:(M={},Object(j.a)(M,re.fulfilled,(function(e,t){e.messages=t.payload,e.loading=!1})),Object(j.a)(M,re.pending,(function(e,t){e.loading=!0})),Object(j.a)(M,re.rejected,(function(e,t){e.error=t.payload})),M)}),oe=ie.actions,ce=(oe.setChats,oe.setCurrentChat),se=oe.clearAll,le=ie.reducer,de=Object(k.b)("educators/getEducatorsAndPatients",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s,l,u,h,j,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.educatorId,a=t.token,i=n.rejectWithValue,e.prev=2,e.next=5,N(r,a);case 5:if(!e.sent){e.next=13;break}return e.delegateYield(d.a.mark((function e(){var t,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r,a);case 2:t=e.sent,n={},i=d.a.mark((function e(){var r,i,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[o],e.next=3,R(r.id,a);case 3:i=e.sent,c=i.chats,s=i.appointments,c&&(r.chats=c,r.count=c.length,c.forEach((function(e){var t=n[e.patientId];t||(n[e.patientId]=e,t=n[e.patientId]),t&&t.educators?t.educators.push({id:r.id,name:r.name}):t.educators=[{id:r.id,name:r.name}]}))),s&&(t[o].appointments=s);case 8:case"end":return e.stop()}}),e)})),e.t0=d.a.keys(t);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(i(),"t2",9);case 9:e.next=6;break;case 11:return e.abrupt("return",{v:{educators:t,patients:n}});case 12:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:if("object"!==typeof(c=e.t0)){e.next=11;break}return e.abrupt("return",c.v);case 11:e.next=24;break;case 13:return s={},e.next=16,R(r,a);case 16:return l=e.sent,u=l.chats,h=l.appointments,j=l.educator,u&&(j.chats=u,j.count=u.length,u.forEach((function(e){var t=s[e.patientId];t||(s[e.patientId]=e,t=s[e.patientId]),t&&t.educators?t.educators.push({id:j.id,name:j.name}):t.educators=[{id:j.id,name:j.name}]}))),h&&(j.appointments=h),b=[j],e.abrupt("return",{educators:b,patients:s});case 24:e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(2),console.log(" Error getEducatorsAndPatients",e.t1),e.abrupt("return",i(e.t1));case 30:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(w.a)({educators:[],patients:[],fetchedEducatorId:"",currentEducator:""},T),he=Object(k.c)({name:"educators",initialState:ue,reducers:{clearAll:function(){return ue},setFetchedEducatiorId:function(e,t){e.fetchedEducatorId=t.payload},setCurrentEducator:function(e,t){e.currentEducator=t.payload}},extraReducers:(L={},Object(j.a)(L,de.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(j.a)(L,de.pending,(function(e,t){e.loading=!0})),Object(j.a)(L,de.rejected,(function(e,t){e.loading=!1})),L)}),je=he.actions,be=je.clearAll,ge=je.setFetchedEducatiorId,pe=je.setCurrentEducator,fe=he.reducer,me=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,i,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(I,"/patient?patientId=").concat(r,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(a=e.sent).data){e.next=8;break}return i=a.data,o=i.patient,c=i.patientProfile,s=JSON.parse(o),e.abrupt("return",{patient:s,patientProfile:c});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("getPatient Error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(d.a.mark((function e(t,n,r){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("".concat(I,"/appointment?patientId=").concat(t,"&educatorId=").concat(r,"&get=one"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(a=e.sent).data){e.next=7;break}return i=B(a.data),e.abrupt("return",i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=Object(k.b)("patient/getPatientAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.educatorId,a=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,me(r,a,i).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Oe=Object(k.b)("patinet/getAppointmentsAction",function(){var e=Object(u.a)(d.a.mark((function e(t,n){var r,a,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.educatorId,a=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,ve(i,a,r).then((function(e){if(e)return e})).catch((function(e){console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ye=Object(w.a)({patientProfile:null,patientId:null,appointments:null},T),we=Object(k.c)({name:"patient",initialState:ye,reducers:{clearAll:function(){return ye},setPatientId:function(e,t){e.patientId=t.payload}},extraReducers:(z={},Object(j.a)(z,xe.fulfilled,(function(e,t){e.patientProfile=t.payload,e.loading=!1})),Object(j.a)(z,xe.rejeceted,(function(e,t){e.error=t.payload,e.loading=!1})),Object(j.a)(z,xe.pending,(function(e,t){e.loading=!0})),Object(j.a)(z,Oe.fulfilled,(function(e,t){e.appointments=t.payload})),z)}),ke=we.actions,Ce=ke.setPatientId,Se=ke.clearAll,Ie=we.reducer,De=n(521),Te=n(508),Be=n(507),Ae={primary:{black:"#042c42",red:"#ee3d60",white:"#ffffff",bluishWhite:"#EDF8FF"},secondary:{lightBlue:"#d2edf4 ",mainBlue:"#51c7ea",darkBlue:"#005792",orange:"#fbbd33"}},Ee={black:"#042639",red:"#D03554",white:"#ffffff",bluishWhite:"#CFD9DF"},Me={lightBlue:"#B8CFD6",mainBlue:"#337C92",darkBlue:"#003B52",orange:"#BC8E26",lightGrey:"#CBCBCB"},Le=Ae,ze={root:{flexGrow:1,width:"100%",height:"10%"},tabs:{backgroundColor:Me.lightBlue,height:"100%"},tab:{fontSize:20,color:"black",width:30},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Me.lightBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10}},Pe={root:{flexGrow:1,width:"100%",backgroundColor:Le.secondary.darkBlue},tabs:{backgroundColor:Le.secondary.darkBlue,height:"100%"},tab:{fontSize:20,color:"black",width:30},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Le.secondary.darkBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10}},Re=function(){var e=Object(y.b)(),t=Object(s.f)(),n=Object(y.c)((function(e){return e.educators})),a=n.educators,i=n.loading,o=n.fetchedEducatorId,c=Object(y.c)((function(e){return e.auth})),l=c.educatorId,d=c.token,u=c.darkMode?Pe:ze;Object(r.useEffect)((function(){e(de({educatorId:l,token:d}))}),[]),Object(r.useEffect)((function(){var e=0;a&&(Object.values(a).forEach((function(t,n){(null===t||void 0===t?void 0:t.id)===o&&(e=n)})),p(e+2))}),[o]);var j=Object(r.useState)(2),b=Object(h.a)(j,2),g=b[0],p=b[1];return Object(v.jsx)("div",{style:u.root,children:Object(v.jsxs)(Be.a,{position:"static",color:"default",children:[Object(v.jsxs)(De.a,{value:g,onChange:function(e,t){t>1&&p(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",style:u.tabs,children:[Object(v.jsx)("img",{alt:"",src:ne,width:"80",height:"35",style:u.navLogo}),Object(v.jsx)(Te.a,{label:"Logout",style:u.tab,onClick:function(){return e(U()),e(be()),e(se()),e(Se()),e(G({educatorId:l,token:d})),void t.replace("/")}}),Object.keys(a).length?Object.values(a).map((function(t){return Object(v.jsx)(Te.a,{label:t.name,style:u.tab,onClick:function(){return n=t.id,void e(ge(n));var n}})})):""]}),i?Object(v.jsx)(Q.a,{}):null]})})},Ne=function(){var e=Object(y.c)((function(e){return e.auth})).darkMode?Pe:ze;return Object(v.jsx)(Be.a,{position:"fixed",color:"black",style:e.footerAppBar,children:Object(v.jsx)("img",{alt:"",src:ne,width:"100",height:"40",className:"d-inline-block align-top",style:e.footerLogo})})},We=n(509),Fe=(n(192),n(52)),Ge=n(243),He=n.n(Ge),Ve={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:"black"},emptyMessages:{color:"black"},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:"#F4FBFF"}},Je={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{backgroundColor:Me.mainBlue},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:Me.lightGrey},emptyMessages:{color:Me.lightGrey},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:Me.mainBlue}},qe=function(e){var t=e.date,n=e.darkMode?Je:Ve,r=new Date(t);return Object(v.jsxs)("div",{style:n.separatorDiv,children:[Object(v.jsx)("div",{style:n.leftLine}),Object(v.jsxs)("div",{style:n.date,children:[t,", ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.getDay()]]}),Object(v.jsx)("div",{style:n.rightLine})]})},Ke=n(244),Ue=n.n(Ke),_e=function(){var e=Object(y.b)(),t=Object(r.useState)([]),n=Object(h.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),c=Object(h.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)({ar:{messageCount:"\u0639\u062f\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",usageDuration:"\u0645\u062f\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645",emptyConvo:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0641\u0627\u0631\u063a\u0629"}}),u=Object(h.a)(d,2),j=u[0],b=(u[1],Object(y.c)((function(e){return e.auth}))),g=b.token,p=b.educatorId,f=b.darkMode,m=Object(y.c)((function(e){return e.chats})),x=m.messages,O=m.loading,w=m.currentChat,k=f?Je:Ve,C=function(e,t,n){return Object(v.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t},n)};return Object(r.useEffect)((function(){e(re({chatId:w,token:g,educatorId:p}))}),[w]),Object(r.useEffect)((function(){var e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=["png","jpg","jpeg","gif"],r=["pdf","doc","docx"],a=["mp3","3gp","caf","wav","wave","m4a","aac"],i=0,o=[];for(var c in t){var s={};Object.assign(s,t[c]);var l=parseInt(s.user._id)-1;if(s.media){var d=s.media.split("."),u=d[d.length-1],h=n.includes(u.split("?")[0]),j=r.includes(u.split("?")[0]),b=a.includes(u.split("?")[0]);h?(e!==s.createdOn.split("T")[0]?(i++,s.message={image:s.media},s.message.date=s.createdOn.split("T")[0],e=s.createdOn.split("T")[0]):(s.message={image:s.media},s.message.text=s.text),delete s.media):j?(s.message={text:s.text,file:s.media},delete s.media):b?(s.media=s.media.replace("vnd.wave","wav"),s.message={audio:s.media},s.message.text=s.text,delete s.media):s.message={text:"this link is corrupted: "+s.media}}else s.text?e!==s.createdOn.split("T")[0]?(i++,s.message={text:s.text},s.message.date=s.createdOn.split("T")[0],e=s.createdOn.split("T")[0]):s.message={text:s.text}:s.message={text:""};s.message.createdOn=s.createdOn;var g=void 0;g=0===l?"outgoing":"incoming";var p=s.message.createdOn.split("T");s.message.createdOn=p;var f={userId:g,message:s.message};o.push(f)}return{formatedMessages:o,duration:i}}(x);i(e.formatedMessages.reverse()),l(e.duration)}),[x]),Object(v.jsxs)("div",{style:k.root,children:[O?Object(v.jsx)(We.a,{animation:"border"}):a.length?null:Object(v.jsxs)("div",{style:k.emptyMessages,children:[j.ar.emptyConvo," "]}),Object(v.jsxs)("div",{style:k.statsDiv,children:[a.length," :",j.ar.messageCount," ",Object(v.jsx)("br",{}),j.ar.usageDuration,": ",s," ","\u064a\u0648\u0645"]}),Object(v.jsx)("div",{style:k.chatDiv,children:Object(v.jsx)("div",{style:k.chatScrollDiv,children:a.map((function(e){var t,n,r,a;return Object(v.jsxs)("div",{children:[(null===(t=e.message)||void 0===t?void 0:t.date)&&Object(v.jsx)(qe,{date:e.message.date,darkMode:f}),(null===(n=e.message)||void 0===n?void 0:n.image)?Object(v.jsx)(Fe.b.ImageContent,{src:e.message.image,alt:"The image isn't working link: "+e.message.image,width:400}):(null===(r=e.message)||void 0===r?void 0:r.audio)?Object(v.jsx)(He.a,{src:e.message.audio,controls:!0}):(null===(a=e.message)||void 0===a?void 0:a.file)?Object(v.jsxs)(Fe.b,{model:{message:e.message.text,direction:e.userId},children:[Object(v.jsx)(Fe.b.CustomContent,{children:Object(v.jsx)("a",{href:e.message.file,target:"_blank",download:!0,rel:"noreferrer",children:e.message.text})}),Object(v.jsx)(Fe.b.Footer,{children:Object(v.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]}):Object(v.jsxs)(Fe.b,{model:{message:e.message.text,direction:e.userId},children:[Object(v.jsx)(Fe.b.CustomContent,{children:Object(v.jsx)("div",{style:k.customMessage,children:Object(v.jsx)(Ue.a,{componentDecorator:C,children:e.message.text})})}),Object(v.jsx)(Fe.b.Footer,{children:Object(v.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]})]},e.id)}))})})]})},Ye=(n(120),n(57)),$e=Ae,Qe={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:$e.primary.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ae.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh"},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:"black"},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:$e.secondary.lightBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50.8%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},Xe={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10,backgroundColor:Ee.black},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ee.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Ee.black},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:Ee.black},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Ae.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh",backgroundColor:Ee.black},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:Me.lightGrey},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:Me.mainBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},Ze=n(510),et=n(511),tt=function(e){var t=e.text,n=e.description,r=e.style,a=Object(y.c)((function(e){return e.auth})).darkMode?Xe:Qe;return Object(v.jsx)(m.a,{color:!0,style:r,children:Object(v.jsxs)(Ze.a,{children:[Object(v.jsx)(et.a,{style:a.text,variant:"h5",component:"h2",children:n}),Object(v.jsx)(et.a,{style:a.textColor,children:t})]})})},nt=Ae,rt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:nt.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:nt.secondary.lightBlue}},at={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10,backgroundColor:Ee.black},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:nt.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:Me.mainBlue}},it=function(e){var t=e.patientId,n=e.educators,a=e.darkMode,i=Object(y.b)(),o=Object(r.useState)([]),c=Object(h.a)(o,2),s=c[0],l=c[1],d=Object(y.c)((function(e){return e.auth})),u=d.token,j=d.educatorId,b=Object(y.c)((function(e){return e.patient})).appointments;Object(r.useEffect)((function(){i(Oe({educatorId:j,token:u,patientId:t}))}),[n,t]),Object(r.useEffect)((function(){b&&l(function(e,t){var n=[];return e&&e.forEach((function(e){n.push(t.filter((function(t){return e.id===t.educatorId})).map((function(t){return{date:t.date,educatorId:t.educatorId,name:e.name}})))})),n.flat()}(n,b))}),[b]);var g=a?at:rt;return Object(v.jsx)("div",{style:g.root,children:Object(v.jsxs)(m.a,{style:g.card,children:[Object(v.jsx)(et.a,{style:g.text,variant:"h5",component:"h2",children:"Appointments"}),Object(v.jsx)("div",{style:g.listDiv,children:null===s||void 0===s?void 0:s.map((function(e){return Object(v.jsx)(X.a,{variant:"contained",onClick:function(){return function(e){i(ge(e))}(e.educatorId)},style:g.button,children:Object(v.jsxs)("div",{children:[e.date.split("T")[0]," ",e.name]},e.id)},e.id)}))})]})})},ot=n(512),ct=n(513),st=n(260),lt=n(261),dt=n(50),ut=n(116),ht=n(112),jt=n(273),bt=function(e){var t=e.text,n=e.hba1cs,i=e.weights,o=e.height,c=Object(Ye.a)();var s=Object(r.useState)([]),l=Object(h.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){var e=[];null===n||void 0===n||n.forEach((function(t){e.push(function(e,t,n,r){return{date:e,hba1c:t,weight:n,height:r}}(t.createdOn.split("T")[0],null===i||void 0===i?void 0:i[0].weight,t.hba1c,o))})),u(e)}),[n]),Object(v.jsx)(a.a.Fragment,{children:Object(v.jsx)(ot.a,{children:Object(v.jsxs)(ct.a,{data:d,margin:Qe.chartMargin,children:[Object(v.jsx)(st.a,{dataKey:"date",stroke:c.palette.text.secondary}),Object(v.jsx)(lt.a,{stroke:c.palette.text.secondary,children:Object(v.jsx)(dt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:c.palette.text.primary},children:t})}),Object(v.jsx)(ut.a,{}),Object(v.jsx)(ht.a,{}),Object(v.jsx)(jt.a,{type:"monotone",dataKey:"hba1c",stroke:"#8884d8",activeDot:{r:8}}),Object(v.jsx)(jt.a,{type:"monotone",dataKey:"weight",stroke:"#8884d8",activeDot:{r:8}}),Object(v.jsx)(jt.a,{type:"monotone",dataKey:"height",stroke:"#82ca9d"})]})})})},gt=function(e){var t=e.localEducators,n=e.darkMode,r=Object(y.b)(),a=n?Xe:Qe;return Object(v.jsx)(m.a,{color:!0,style:a.rightSideCard,children:Object(v.jsxs)(Ze.a,{children:[Object(v.jsx)(et.a,{style:a.text,variant:"h5",component:"h2",children:"Educators"}),Object(v.jsx)("div",{style:a.educatorsDiv,children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(X.a,{variant:"contained",onClick:function(){var t;t=e.id,r(ge(t))},style:a.educatorsButton,children:Object(v.jsx)("text",{children:e.name})})}))})]})})},pt={name:"\u0627\u0644\u0627\u0633\u0645",dateAffectedText:"\u0645\u0635\u0627\u0628 \u0645\u0646\u0630",dateBirthText:"\u0633\u0646\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062f",dietText:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u063a\u0630\u0627\u0626\u064a \u0627\u0644\u0645\u062a\u0628\u0639",diseaseText:"\u0627\u0644\u0645\u0631\u0636",weightText:"\u0627\u0644\u0648\u0632\u0646",heightText:"\u0627\u0644\u0637\u0648\u0644",Hba1CText:"Hba1C",medicinesText:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",sexText:"\u0627\u0644\u062c\u0646\u0633",surgeryText:"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u062c\u0631\u0627\u062d\u064a\u0629",otherDiseaseText:"\u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0623\u062e\u0631\u0649",whoIsPatientText:"\u0645\u0646 \u0627\u0644\u0645\u062a\u0644\u0642\u064a",outSideLinkText:"\u0631\u0627\u0628\u0637 \u0645\u0644\u0641 \u062e\u0627\u0631\u062c\u064a",topicsText:"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639",saveText:"\u062d\u0641\u0638",needPayment:"\u0628\u062d\u0627\u062c\u0647 \u0644\u0644\u062f\u0641\u0639"},ft=function(){Object(Ye.a)(),Object(y.b)();var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),o=Object(h.a)(i,2),c=o[0],s=o[1],l=Object(r.useState)([]),d=Object(h.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)([]),g=Object(h.a)(b,2),p=g[0],f=g[1],x=Object(r.useState)([]),O=Object(h.a)(x,2),w=O[0],k=O[1],C=Object(r.useState)([]),S=Object(h.a)(C,2),I=S[0],D=S[1],T=Object(r.useState)(""),B=Object(h.a)(T,2),A=B[0],E=B[1],M=Object(r.useState)([]),L=Object(h.a)(M,2),z=(L[0],L[1]),P=Object(r.useState)(""),R=Object(h.a)(P,2),N=R[0],W=R[1],F=Object(r.useState)(""),G=Object(h.a)(F,2),H=G[0],V=(G[1],Object(r.useState)("")),J=Object(h.a)(V,2),q=J[0],K=J[1],U=Object(r.useState)(""),_=Object(h.a)(U,2),Y=_[0],$=_[1],Q=Object(r.useState)(""),X=Object(h.a)(Q,2),Z=X[0],ee=X[1],te=Object(r.useState)(""),ne=Object(h.a)(te,2),re=ne[0],ae=ne[1],ie=Object(r.useState)([]),oe=Object(h.a)(ie,2),ce=(oe[0],oe[1]),se=Object(r.useState)(""),le=Object(h.a)(se,2),de=le[0],ue=le[1],he=Object(r.useState)([]),je=Object(h.a)(he,2),be=je[0],ge=je[1],pe=Object(r.useState)([]),fe=Object(h.a)(pe,2),me=fe[0],ve=fe[1],xe=Object(y.c)((function(e){return e.auth})).darkMode,Oe=Object(y.c)((function(e){return e.educators})),ye=Oe.patients,we=Oe.educators,ke=Object(y.c)((function(e){return e.patient})),Ce=ke.patientProfile,Se=ke.loading,Ie=xe?Xe:Qe;Object(r.useEffect)((function(){try{Ce&&(a(null===Ce||void 0===Ce?void 0:Ce.dateAffected),s(null===Ce||void 0===Ce?void 0:Ce.dateBirth),j(null===Ce||void 0===Ce?void 0:Ce.weights),f(null===Ce||void 0===Ce?void 0:Ce.height),k(null===Ce||void 0===Ce?void 0:Ce.hba1cs),D(function(e,t){var n=t.substring(0,t.length-1),r="";return(null===e||void 0===e?void 0:e[t])&&e[t].forEach((function(e){r=r.concat((null===e||void 0===e?void 0:e[n])+"\n")})),r}(Ce,"medicines")),z(null===Ce||void 0===Ce?void 0:Ce.notes),W(null===Ce||void 0===Ce?void 0:Ce.diseaseType),K(null===Ce||void 0===Ce?void 0:Ce.whoIsPatient),$(null===Ce||void 0===Ce?void 0:Ce.surgery),ee(null===Ce||void 0===Ce?void 0:Ce.otherDisease),ae(null===Ce||void 0===Ce?void 0:Ce.outSideLink),ce(null===Ce||void 0===Ce?void 0:Ce.topics),ue(null===Ce||void 0===Ce?void 0:Ce.diet))}catch(e){console.log(e)}}),[Ce]),Object(r.useEffect)((function(){var e=Object.values(ye).filter((function(e){return(null===e||void 0===e?void 0:e.patientId)===(null===Ce||void 0===Ce?void 0:Ce.patientId)}))[0];E(null===e||void 0===e?void 0:e.patientName),ge(null===e||void 0===e?void 0:e.educators.map((function(e){return{id:e.id,name:e.name}})))}),[ye,Ce]),Object(r.useEffect)((function(){var e=[];if(be){be.forEach((function(t){e.push(t.id)}));var t=Object.values(we).filter((function(t){return e.includes(t.id)}));ve(t)}}),[be]);var De=pt,Te=De.dateAffectedText,Be=De.name,Ae=De.dateBirthText,Ee=De.dietText,Me=De.diseaseText,Le=De.medicinesText,ze=De.otherDiseaseText,Pe=De.outSideLinkText,Re=De.sexText,Ne=De.surgeryText,Fe=De.whoIsPatientText,Ge=(De.Hba1CText,De.needPayment);return Object(v.jsxs)("div",{style:Ie.flex1,children:[Se?Object(v.jsx)(We.a,{animation:"border"}):"",Object(v.jsxs)("div",{style:Ie.root,children:[Object(v.jsx)("div",{style:Ie.contentWrapper,children:Object(v.jsxs)("div",{style:{flex:1},children:[Object(v.jsx)(m.a,{style:Ie.patientName,children:Object(v.jsxs)("div",{style:Ie.text,children:[A," :",Be]})}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(v.jsxs)("div",{style:{width:"50%",marginRight:15},children:[Object(v.jsx)(tt,{text:n?new Date(n).toLocaleDateString():"",description:Te,style:Ie.leftSideCard}),Object(v.jsx)(tt,{text:c?new Date(c).toLocaleDateString():"",description:Ae,style:Ie.leftSideCard}),Object(v.jsx)(tt,{text:N,description:Me,style:Ie.leftSideCard}),Object(v.jsx)(tt,{text:H,description:Re,style:Ie.leftSideCard})]}),Object(v.jsxs)("div",{style:{width:"50%",marginRight:20},children:[Object(v.jsx)(tt,{text:q,description:Fe,style:Ie.leftSideCard}),Object(v.jsx)(tt,{text:Y,description:Ne,style:Ie.leftSideCard}),Object(v.jsx)(tt,{text:Z,description:ze,style:Ie.leftSideCard}),Object(v.jsx)(m.a,{color:!0,style:Ie.leftSideCard,children:Object(v.jsxs)(Ze.a,{children:[Object(v.jsx)(et.a,{style:Ie.text,variant:"h5",component:"h2",children:Pe}),Object(v.jsx)("a",{href:re,target:"_blank",style:Ie.textColor,rel:"noreferrer",children:re})]})})]})]})]})}),Object(v.jsxs)("div",{style:Ie.rightSideDiv,children:[Object(v.jsx)("div",{style:Ie.chartDiv,children:Object(v.jsx)(m.a,{style:Ie.chartWrapper,children:Object(v.jsx)(bt,{text:"unit",hba1cs:w,weights:u,height:p})})}),Object(v.jsxs)("div",{style:Ie.rightBottomRightDiv,children:[Object(v.jsxs)("div",{style:Ie.rightSideLeftColumn,children:[Object(v.jsx)(tt,{text:I,description:Le,style:Ie.rightSideCard}),Object(v.jsx)(tt,{text:de,description:Ee,style:Ie.rightSideCard}),Object(v.jsx)(tt,{text:(null===Ce||void 0===Ce?void 0:Ce.needPayment)?"\u0646\u0639\u0645":"\u0644\u0627",description:Ge,style:Ie.rightSideCard})]}),Object(v.jsxs)("div",{style:Ie.rightSideRightColumn,children:[Object(v.jsx)(gt,{localEducators:be,darkMode:xe}),Object(v.jsx)(it,{patientId:null===Ce||void 0===Ce?void 0:Ce.patientId,educators:me,darkMode:xe})]})]})]})]})]})},mt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:"#6AC6F7"},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"initial"},vt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh",backgroundColor:Ee.black},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5,color:Me.lightGrey},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:Me.mainBlue},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"secondary",text:{color:Me.lightGrey}},xt=n(262),Ot=n.n(xt),yt={titleText:{fontSize:30},text:{overflow:"auto"}},wt={titleText:{fontSize:30,color:Me.lightGrey},text:{overflow:"auto",color:Me.lightGrey}},kt=function(e){var t=e.currentNote,n=e.setNotes,r=Object(y.c)((function(e){return e.auth})).darkMode?wt:yt;return Object(v.jsxs)("div",{children:[Object(v.jsx)(X.a,{onClick:function(){n()},children:Object(v.jsx)(Ot.a,{})}),Object(v.jsx)("div",{style:r.titleText,children:t.title}),Object(v.jsx)("div",{style:r.text,children:t.text})]})},Ct=function(){var e=Object(y.c)((function(e){return e.patient})).patientProfile,t=Object(y.c)((function(e){return e.auth})).darkMode,n=Object(r.useState)("notes"),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(null),s=Object(h.a)(c,2),l=s[0],d=s[1],u={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f"},j=t?vt:mt;return Object(v.jsx)("div",{style:j.mainDev,children:Object(v.jsx)("div",{className:"grid-container",children:"notes"===i?function(){var t;return null===e||void 0===e||null===(t=e.notes)||void 0===t?void 0:t.map((function(e){return Object(v.jsx)("div",{style:j.cardDev,children:Object(v.jsx)(m.a,{style:j.root,variant:"outlined",children:Object(v.jsxs)(Ze.a,{style:j.cardContent,children:[Object(v.jsx)(et.a,{color:j.color,variant:"h5",component:"h2",children:e.title}),Object(v.jsx)(et.a,{color:j.color,style:j.text,variant:"body2",component:"p",children:e.text}),Object(v.jsx)(et.a,{color:j.color,style:j.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(v.jsx)(et.a,{style:j.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(v.jsx)(X.a,{size:"small",style:j.learnMoreButton,onClick:function(){return function(e){d(e),o("readmore")}(e)},children:u.learnMore})})]})})})}))}():Object(v.jsx)(kt,{currentNote:l,setNotes:function(){o("notes")}})})})},St=function(){var e=Object(y.c)((function(e){return e.patient})).patientProfile,t=Object(y.c)((function(e){return e.auth})).darkMode,n=Object(r.useState)("notes"),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(null),s=Object(h.a)(c,2),l=s[0],d=s[1],u={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f"},j=t?vt:mt;return Object(v.jsx)("div",{style:j.mainDev,children:Object(v.jsx)("div",{className:"grid-container",children:"notes"===i?function(){var t;return null===e||void 0===e||null===(t=e.summaries)||void 0===t?void 0:t.map((function(e){return Object(v.jsx)("div",{style:j.cardDev,children:Object(v.jsx)(m.a,{style:j.root,variant:"outlined",children:Object(v.jsxs)(Ze.a,{style:j.cardContent,children:[Object(v.jsx)(et.a,{color:j.color,variant:"h5",component:"h2",children:e.title}),Object(v.jsx)(et.a,{color:j.color,style:j.text,variant:"body2",component:"p",children:e.text}),Object(v.jsx)(et.a,{color:j.color,style:j.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(v.jsx)(et.a,{style:j.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(v.jsx)(X.a,{size:"small",style:j.learnMoreButton,onClick:function(){return function(e){d(e),o("readmore")}(e)},children:u.learnMore})})]})})})}))}():Object(v.jsx)(kt,{currentNote:l,setNotes:function(){o("notes")}})})})},It=n(517),Dt=n(265),Tt=n.n(Dt),Bt=n(264),At=n.n(Bt),Et=n(266),Mt=n.n(Et),Lt=n(519),zt=n(263),Pt=n.n(zt),Rt=n(267),Nt=n.n(Rt),Wt=n(268),Ft=n.n(Wt),Gt=Ae,Ht={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.8vh",width:"100%",backgroundColor:Gt.primary.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Gt.primary.black,color:Gt.primary.white},icons:{color:Gt.primary.black},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:"#6D9DC5"},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%"},listDev:{width:"20%",backgroundColor:Gt.primary.bluishWhite},rightColumn:{width:"80%",height:"100%"},cardContainer:Gt.primary.white,listHeaderDiv:{display:"block",backgroundColor:Gt.primary.white,textAlign:"center",padding:10},patientListName:{color:"black"},listAppointemntsButton:{width:"100%",backgroundColor:Gt.primary.bluishWhite},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:"white"}},Vt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.8vh",width:"100%",backgroundColor:Ee.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:Ee.black,color:Ee.white},icons:{color:Me.lightGrey},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:Me.lightBlue},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%",overflow:"hidden"},listDev:{width:"20%",backgroundColor:Me.mainBlue},rightColumn:{width:"80%",height:"100%"},cardContainer:Me.darkBlue,listHeaderDiv:{display:"block",backgroundColor:Me.darkBlue,textAlign:"center",padding:10},patientListName:{color:Me.lightGrey},listAppointemntsButton:{width:"100%",backgroundColor:Me.mainBlue},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:Me.mainBlue}},Jt=function(){var e=Object(s.f)(),t=Object(y.b)(),n=Object(r.useState)(""),a=Object(h.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)([]),l=Object(h.a)(c,2),d=l[0],u=l[1],j=Object(r.useState)(""),b=Object(h.a)(j,2),g=b[0],p=b[1],f=Object(r.useState)(""),m=Object(h.a)(f,2),O=m[0],w=m[1],k=Object(r.useState)(""),C=Object(h.a)(k,2),S=C[0],I=C[1],D=Object(r.useState)(!0),T=Object(h.a)(D,2),A=T[0],E=T[1],M=Object(r.useState)({ar:{chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",profile:"\u0627\u0644\u0628\u0631\u0648\u0641\u0627\u064a\u0644",educators:"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",time:"\u0627\u0644\u0648\u0642\u062a"}}),L=Object(h.a)(M,2),z=L[0],P=(L[1],Object(y.c)((function(e){return e.auth}))),R=P.chats,N=P.token,W=P.educatorId,F=P.darkMode,G=Object(y.c)((function(e){return e.educators})),H=G.fetchedEducatorId,V=G.patients,J=G.educators,q=G.currentEducator,U=Object(y.c)((function(e){return e.patient})).patientId,Y=Boolean(O),$=F?Vt:Ht;Object(r.useEffect)((function(){N||e.replace("/")}),[N]),Object(r.useEffect)((function(){try{if((null===R||void 0===R?void 0:R.length)&&!R[0].id){var e=B(R);t(K(e))}}catch(n){console.log("error setting chats:",n)}}),[R,t]),Object(r.useEffect)((function(){var e;0!==(e=Object.values(J).filter((function(e){return H===e.id}))).length&&u(e[0].chats),t(pe(e[0])),t(se())}),[t,W,J,H,d,V]),Object(r.useEffect)((function(){U&&E(!1)}),[U]),Object(r.useEffect)((function(){t(xe({educatorId:W,token:N,patientId:U}))}),[t,W,U,N]);var Q=function(e){var n;p("profile"),t(xe({fetchedEducatorId:H,token:N,patientId:e}));var r=null===q||void 0===q||null===(n=q.chats)||void 0===n?void 0:n.find((function(t){return(null===t||void 0===t?void 0:t.patientId)===e}));r&&t(ce(null===r||void 0===r?void 0:r.id))},ee=function(){w(null)},te=function(e,t){I(t),function(e){w(e.currentTarget)}(e),p("appointment")},ne=function(e){A||p(e)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Re,{}),Object(v.jsx)(Z.a,{maxWidth:!1,style:$.container,children:Object(v.jsxs)(x,{width:"95%",display:"flex",direction:"row",padding:10,marginT:10,marginB:10,backgroundColor:$.cardContainer,children:[Object(v.jsxs)("div",{style:$.listDev,children:[Object(v.jsxs)("div",{style:$.listHeaderDiv,children:[Object(v.jsx)(X.a,{variant:"contained",onClick:function(){return o("patients")},style:$.buttonsText,children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),Object(v.jsx)(X.a,{style:$.buttonsText,variant:"contained",onClick:function(){return o("appointments")},children:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"})]}),"appointments"===i?Object(v.jsx)("div",{children:function(){var e=[];q&&q.appointments.forEach((function(t){e.push({appointmentId:t.appointmentId,date:new Date(t.date.split("T")[0]),name:t.name,time:t.time,patientId:t.patientId})}));return!e||e&&!Object.keys(e).length?null:Object(v.jsx)("div",{style:{overflow:"auto",height:"80vh"},children:Object.values(e).sort((function(e,t){return t.date-e.date})).map((function(e){return Object(v.jsx)(X.a,{variant:"contained",style:$.listAppointemntsButton,onClick:function(t){return te(t,e)},children:new Date(e.date).toDateString()},e.appointmentId)}))})}()}):Object(v.jsx)("div",{children:d.length?Object(v.jsx)("div",{children:Object(v.jsx)("div",{style:{height:"76vh",overflow:"auto"},children:d.map((function(e){return Object(v.jsx)(Fe.a,{active:U===e.patientId,onClick:function(){return function(e,n){t(Ce(n)),t(ce(e))}(e.id,e.patientId)},children:Object(v.jsx)(Fe.a.Content,{children:Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsx)(Pt.a,{fontSize:"large",style:{marginRight:5}}),Object(v.jsx)("div",{style:$.patientListName,children:e.patientName})]})})},e.id)}))})}):null})]}),Object(v.jsx)("div",{style:$.rightColumn,children:Object(v.jsx)("div",{style:$.mianDev,children:Object(v.jsxs)("div",{style:$.iconsDev,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(It.a,{"aria-label":"chat",onClick:function(){return ne("chat")},children:Object(v.jsx)(At.a,{style:$.icons,fontSize:"large"})}),Object(v.jsx)(It.a,{"aria-label":"chat",onClick:function(){ne("profile")},children:Object(v.jsx)(Tt.a,{style:$.icons,fontSize:"large"})}),Object(v.jsx)(It.a,{"aria-label":"notes",onClick:function(){ne("notes")},children:Object(v.jsx)(Mt.a,{style:$.icons,fontSize:"large"})}),Object(v.jsx)(It.a,{"aria-label":"summary",onClick:function(){ne("summaries")},children:Object(v.jsx)(Nt.a,{style:$.icons,fontSize:"large"})}),Object(v.jsx)(It.a,{"aria-label":"darkmode",style:{left:"56vw"},onClick:function(){t(_(!F))},children:Object(v.jsx)(Ft.a,{style:$.icons,fontSize:"large"})})]}),"profile"===g?Object(v.jsx)(ft,{}):"notes"===g?Object(v.jsx)(Ct,{}):"appointment"===g?Object(v.jsx)(Lt.a,{open:Y,anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:ee,disableRestoreFocus:!0,children:Object(v.jsxs)("div",{style:$.popUpDiv,children:[Object(v.jsxs)("h6",{style:{textAlign:"center"},children:[S.name," :",z.ar.patientName]}),Object(v.jsxs)("h6",{style:{textAlign:"center"},children:[S.time," :",z.ar.time]}),Object(v.jsx)(X.a,{variant:"contained",style:$.goToPatientButton,onClick:function(){return Q(S.patientId)},children:z.ar.goToPatient})]})}):"summaries"===g?Object(v.jsx)(St,{}):d.length?Object(v.jsx)(_e,{style:{width:1e3,backgroundColor:"green"},chatId:5634,tokxen:N,educatorId:W}):null]})})})]})}),Object(v.jsx)(Ne,{})]})},qt=n(269),Kt=n(144),Ut=n(270),_t={key:"root",storage:n.n(Ut).a,whitelist:["auth"]},Yt=Object(Kt.a)(_t,{chats:le,auth:Y,educators:fe,patient:Ie}),$t=Object(k.d)(),Qt=Object(k.a)(Object(w.a)({reducer:Yt},$t)),Xt=Object(Kt.b)(Qt),Zt=Qt,en=function(){return Object(v.jsx)(qt.a,{loading:null,persistor:Xt,children:Object(v.jsx)(c.a,{children:Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{exact:!0,path:"/",component:te}),Object(v.jsx)(s.a,{exact:!0,path:"/showpatients",component:Jt}),Object(v.jsx)(s.a,{path:"*",component:Jt})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(v.jsx)(y.a,{store:Zt,children:Object(v.jsx)(en,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[467,1,2]]]);
//# sourceMappingURL=main.1d70873b.chunk.js.map