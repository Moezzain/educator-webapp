{"version":3,"sources":["assets/bright-no-bg.png","config/apiConfig.js","helpers/commonReducerState.js","redux/reducers/authReducer/index.js","styles/loginViewStyles.js","views/LoginView.js","helpers/Converters.js","assets/logo-dark-notext.png","redux/reducers/chatsReducer/index.js","API/apiEducator.js","API/apiAdmin.js","redux/reducers/educatorsReducer/index.js","API/apiPatient.js","redux/reducers/patientReducer/index.js","components/PopUpProfile.js","styles/themes.js","styles/myNavStyles.js","components/MyNav.js","components/Footer.js","styles/chatStyles.js","views/Chat/helpers.js","components/CustomSeparator.js","views/Chat/index.js","styles/patientProfileStyles.js","components/ProfileCard.js","styles/patientAppointmentsStyles.js","components/PatientAppointments.js","helpers/index.js","components/ProfileChart.js","components/PatientEducators.js","views/PatientProfile.js","styles/patientNotesStyles.js","styles/readMoreStyles.js","components/ReadMore.js","views/PatientNotes.js","views/patientSummaries.js","styles/showPatientsViewStyles.js","views/CalendarView.js","styles/patientListStyles.js","components/PatientList.js","redux/reducers/refrralsReducer/index.js","styles/refrralsStyles.js","components/Refrrals.js","views/ShowPatientsView.js","redux/reducers/index.js","redux/index.js","App.js","serviceWorker.js","index.js"],"names":["apiUrl","commonState","loading","error","encrypt","text","sha256","loginEducatorAction","createAsyncThunk","a","username","password","rejectWithValue","encryptedPassword","auths","data","id","axios","post","url","then","res","educator","educatorId","appointments","chats","tokens","JSON","parse","token","length","admin","catch","e","console","log","loginAdminAction","adminUsername","logoutAction","adminId","body","notificationToken","patch","headers","Authorization","result","resetPasswordAction","oldPassword","newPassword","encryptedOldPassword","initialState","response","darkMode","resetError","authReducer","createSlice","name","reducers","clearAll","setLoading","state","action","payload","setChats","setDarkMode","setResetError","extraReducers","fulfilled","pending","rejected","actions","setLoadingAction","setChatsAction","clearAllAuthAction","setResetErrorAction","styles","container","display","alignItems","justifyContent","height","backgroundColor","width","card","padding","borderRadius","root","flexDirection","logo","marginBottom","formDiv","form","marginTop","button","color","LoginView","dispatch","useDispatch","history","useHistory","useState","setUsername","setPassword","activeRole","setActiveRole","buttonEducatorColor","setButtonEducatorColor","buttonAdminColor","setButtonAdminColor","ar","submit","lang","useSelector","auth","useEffect","push","onEducatorSubmit","onAdminSubmit","Container","maxWidth","style","src","Card","borderWidth","borderColor","borderStyle","Button","value","onClick","TextField","type","required","label","variant","onChange","persist","target","LinearProgress","parseArray","arr","map","element","parseObjectOfArrays","obj","parsed","objects","key","current","Array","isArray","getChatsAction","chatId","adminParam","get","timeout","reverse","getAllChatsAction","archivedChats","parsedData","messages","currentChat","allChats","allChatsLoading","chatsReducer","setCurrentChat","setCurrentChatAction","clearAllChatsAction","getEducatorIds","Object","keys","educators","forEach","getEducatorData","getAdminData","getEducatorsAndPatients","patients","count","chat","patient","patientId","tempEducators","getAllEducators","i","educatorData","find","filterEducator","specialty","isCaseHandler","fetchedEducatorId","currentEducator","educatorsReducer","setFetchedEducatiorId","setCurrentEducator","clearAllEducatorsAction","setFetchedEducatorIdReducer","setCurrentEducatorAction","getPatient","unparsedPatient","patientProfile","getPatientAdmin","getAppointments","parsedPatient","getPatientAction","patientData","getAppointmentsAction","patientReducer","setPatientId","rejeceted","setPatientIdAction","clearAllPatientAction","useStyles","makeStyles","avatar","blue","PopUpProfile","setOpen","open","setOldPassword","setNewPassword","setNewPasswordVerify","handleResetSubmit","page","setPage","classes","Dialog","onClose","DialogTitle","textAlign","Typography","marginLeft","FormControl","fullWidth","className","margin","InputLabel","htmlFor","OutlinedInput","labelWidth","mainTheme","primary","black","red","white","bluishWhite","secondary","lightBlue","mainBlue","darkBlue","orange","darkTheme","lightGrey","theme","lightStyles","tabs","logout","fontSize","transform","rotate","footerAppBar","top","bottom","navLogo","footerLogo","customTabDiv","minWidth","verticalAlign","textTransform","position","icon","marginRight","tabDiv","darkStyles","flexGrow","MyNav","localEducators","setLocalEducators","newPasswordVerify","setValue","values","sort","first","second","placeValue","index","AppBar","Tabs","indicatorColor","textColor","scrollButtons","alt","replace","Footer","iconsButton","chatDiv","educatorsButton","messageFooter","ontSize","customMessage","messagelistContent","separatorDiv","flex","alignContent","leftLine","rightLine","date","statsDiv","emptyMessages","chatScrollDiv","overflow","formatMessages","imgTypes","fileTypes","audioTypes","duration","formatedMessages","message","assign","parseInt","user","_id","media","fileNameArr","split","fileExtension","isImg","includes","isFile","isAudio","createdOn","image","file","audio","userId","formattedMessage","messagesAndDuration","CustomSeparator","Styles","d","Date","getDay","Chat","localMessages","setLocalMessages","setDuration","messageCount","usageDuration","emptyConvo","localStyles","componentDecorator","href","rel","allMessagesAndDuration","slice","olderMessages","tempLocalMessages","stringify","newerMessages","CircularProgress","animation","IconButton","aria-label","icons","Math","ceil","model","direction","ImageContent","CustomContent","controls","download","toLocaleTimeString","flex1","chartWrapper","chartDiv","rightLowerCorner","leftSideCard","alignVertical","alignSelf","rightSideCard","rightSideDiv","paper","chartMargin","right","left","medicineItems","listStyleType","medicinesText","patientName","clickPopever","medicineTextPaper","educatorsDiv","flexWrap","contentWrapper","rightBottomRightDiv","rightSideLeftColumn","rightSideRightColumn","ProfileCard","description","CardContent","component","minHeight","maxHeight","listDiv","RenderAppointments","localAppointments","setLocalAppointments","tempAppointments","filter","appointment","flat","getAppointmentsEducators","goToEducator","ProfileChart","hba1cs","weights","useTheme","setData","tempData","hba1c","weight","createData","Fragment","ResponsiveContainer","LineChart","XAxis","dataKey","stroke","palette","YAxis","Label","angle","textAnchor","fill","Tooltip","Legend","Line","activeDot","r","PatientEducators","dateAffectedText","dateBirthText","dietText","diseaseText","weightText","heightText","Hba1CText","sexText","surgeryText","otherDiseaseText","whoIsPatientText","outSideLinkText","topicsText","saveText","needPayment","PatientProfile","dateAffected","setDateAffected","dateBirth","setDateBirth","setWeights","heights","setHeights","setHba1cs","medicines","setMedicines","setPatientName","setNotes","diseaseType","setDiseaseType","sex","whoIsPatient","setWhoIsPatient","surgery","setSurgery","otherDisease","setOtherDisease","outSideLink","setOutSideLink","setTopics","diet","setDiet","filteredEducators","setFilteredEducators","profileValue","valueInside","substring","item","concat","concatProfile","notes","topics","educatorsIds","toLocaleDateString","PatientAppointments","mainDev","bullet","pos","learnMore","learnMoreButton","cardDev","cardContent","titleText","ReadMore","currentNote","title","PatientNotes","currentPage","setCurrentPage","setCurrentNote","summary","goToPatient","note","gutterBottom","size","setReadMore","renderCard","PatientSummaries","summaries","renderReadMore","buttonsText","goToPatientButton","mianDev","iconsDev","listDev","rightColumn","cardContainer","listHeaderDiv","patientListName","listAppointemntsButton","popUpDiv","calendarMainDiv","headerListDiv","calendarContentDiv","calendarCardDiv","calendarCard","calendarDiv","calendar","localizer","momentLocalizer","moment","CalendarView","appointmentId","time","upComing","calendarAppointments","now","setHours","allDay","start","end","patinetId","elevation","events","startAccessor","endAccessor","onSelectEvent","mainDiv","uperDiv","input","convo","accountIcon","inputDiv","switchDiv","allChatsSwitch","allChatsText","PatientList","localPatients","allPateints","activateChat","setSearchTerm","searchTerm","checkedAllChats","setCheckedAllChats","filteredPatients","setFilteredPatients","searchHolder","toLowerCase","dir","Input","placeholder","Switch","checked","active","Content","addRefrralsAction","phone","referCode","medium","referAction","getRefrralsAction","referral","referrers","added","refrralsReducer","clearErrors","clearErrorsAction","closeIcon","mainContainer","paddingBottom","leftHalf","addLinkText","formText","menuButton","border","discountContainer","discountInput","discountUnit","formButton","divider","rightHalf","rightMainContainer","numberOfLinks","linksWrapper","linkCardDiv","linkCard","paddingRight","paddingLeft","linkText","errorDiscountINput","fullUrlText","overflowWrap","fullUrlDiv","Refrrals","setActiveList","setName","setPhone","setSpecialty","setReferCode","setMedium","addLink","code","link","discount","langText","React","showMenu","setShowMenu","visibleDiscountType","setVisibleDiscountType","discountAmount","setDiscountAmount","errorDiscount","setErrorDiscount","refrrals","setReferAction","handleClick","event","currentTarget","handleClose","handleClickPercentDiscount","handleClickFlatDiscount","handleNoneDiscount","onChangeDiscountInput","newVal","getActionText","referActionItem","discountType","amount","parseFloat","aria-controls","aria-haspopup","Menu","anchorEl","keepMounted","Boolean","MenuItem","renderDiscountInput","b","ref","fullUrl","ShowPatientsView","activeList","setLocalPatients","disableIcons","setDisableIcons","profile","tempChats","err","tempEducator","renderListHeader","setValueCurrentPage","persistConfig","storage","whitelist","persistCombineReducers","middleware","getDefaultMiddleware","store","configureStore","reducer","persistor","persistStore","App","exact","path","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.578abebc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bright-no-bg.d6200e7f.png\";","let apiUrl = 'https://api.ithnain.com'\n// let apiUrl= 'http://ec2-157-175-56-64.me-south-1.compute.amazonaws.com:3002'\n// let apiUrl = 'http://cors-anywhere.herokuapp.com/https://ithnain-test-backend.herokuapp.com'\n\n// let apiUrl= 'http://192.168.8.109:3000'\n// let apiUrl= 'http://192.168.8.106:3000'\n//  let apiUrl= 'http://157.175.113.31:3000'\n// const expressPort = 3000\n// const apiUrls = {\n//   production: 'Production URL',\n//   development: `http://localhost:${expressPort}`\n// }\n\n// if (window.location.hostname === 'localhost') {\n//   apiUrl = apiUrls.development\n// } else {\n//   apiUrl = apiUrls.production\n// }\n\nexport default apiUrl\n","export const commonState = {\n  loading: false,\n  error: null,\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport url from '../../../config/apiConfig';\nimport { sha256 } from 'js-sha256';\nimport { commonState } from '../../../helpers/commonReducerState';\nconst encrypt = (text) => {\n  return sha256(text);\n};\n\nexport const loginEducatorAction = createAsyncThunk(\n  'auth/loginEducatorAction',\n  async ({ username, password }, { rejectWithValue }) => {\n    let encryptedPassword = await encrypt(password);\n    let auths = {};\n    const data = {\n      id: username,\n      password: encryptedPassword,\n    };\n    return axios\n      .post(`${url}/login`, data)\n      .then((res) => {\n        if (res.data.educator) {\n          const { educatorId, appointments, chats } = res.data;\n          rejectWithValue();\n          const educator = JSON.parse(res.data.educator);\n          const tokens = educator.token;\n\n          auths.token = tokens[tokens.length - 1];\n          auths.educatorId = educatorId;\n          auths.appointments = appointments;\n          auths.chats = chats;\n          auths.admin = false;\n          return auths;\n        } else return rejectWithValue('credintials');\n      })\n      .catch((e) => {\n        console.log('error', e);\n        return rejectWithValue('network');\n      });\n  }\n);\nexport const loginAdminAction = createAsyncThunk(\n  'auth/loginAdminAction',\n  async ({ username, password }, { rejectWithValue }) => {\n\n    let encryptedPassword = await encrypt(password);\n    let auths = {};\n    const data = {\n      adminUsername: username,\n      password: encryptedPassword,\n    };\n    return axios\n      .post(`${url}/login`, data)\n      .then((res) => {\n        if (res.data.admin) {\n          const admin = JSON.parse(res.data.admin);\n          const { id } = admin;\n          const tokens = admin.token;\n\n          auths.token = tokens[tokens.length - 1];\n          auths.educatorId = id;\n          auths.admin = true;\n\n          return auths;\n        } else return rejectWithValue('credintials');\n      })\n      .catch((e) => {\n        console.log('error', e);\n        return rejectWithValue('network');\n      });\n  }\n);\nexport const logoutAction = createAsyncThunk(\n  'auth/logout',\n  async ({ educatorId, token, adminId }) => {\n    let body;\n    if (adminId)\n      body = {\n          adminId,\n          // notificationToken: ' ',\n        };\n        else\n        body = {\n            educatorId,\n            notificationToken: ' ',\n      };\n\n    const result = await axios\n      .patch(`${url}/logout`, body, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {})\n      .catch((e) => {\n        console.log('error ', e);\n      });\n    return result;\n  }\n);\nexport const resetPasswordAction = createAsyncThunk(\n    'auth/resetPasswordAction',\n    async({adminId, token, oldPassword, newPassword},{rejectWithValue}) => {\n      try{\n\n        const encryptedPassword = await encrypt(newPassword)\n        const encryptedOldPassword = await encrypt(oldPassword)\n        const body = {\n            adminId,\n            oldPassword: encryptedOldPassword,\n            password: encryptedPassword,\n        }\n        return await axios.patch(`${url}/admin?adminId=${adminId}`,body ,{\n            headers: {\n                Authorization: `Bearer ${token}`,\n              },\n        } ).then((res) => {\n          if(res.data.id){\n\n            return res.data\n          }\n          else \n          return rejectWithValue('wrong password')\n          \n        }).catch((e) => {\n            console.log('error reseting ',e);\n            return rejectWithValue(e)\n        })\n      } catch (error){\n        return rejectWithValue(error)\n      }\n    }\n)\nconst initialState = {\n  token: null,\n  educatorId: null,\n  appointments: null,\n  chats: null,\n  response: null,\n  darkMode: false,\n  admin: false,\n  resetError: '',\n  ...commonState,\n};\nconst authReducer = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    clearAll: () => initialState,\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    },\n    setChats: (state, action) => {\n      state.chats = action.payload;\n    },\n    setDarkMode: (state, action) => {\n      state.darkMode = action.payload;\n    },\n    setResetError: (state, action) => {\n        state.resetError = action.payload\n    }\n  },\n\n  extraReducers: {\n    [loginEducatorAction.fulfilled]: (state, action) => {\n      state.token = action.payload.token;\n      state.educatorId = action.payload.educatorId;\n      state.appointments = action.payload.appointments;\n      state.chats = action.payload.chats;\n      state.admin = action.payload.admin;\n      state.loading = false;\n    },\n    [loginEducatorAction.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [loginEducatorAction.rejected]: (state, action) => {\n      if (action.payload === 'network') state.error = \"There's a Network issue\";\n      else if (action.payload === 'credintials')\n        state.error = 'The Username or Password is incorrect';\n      state.loading = false;\n    },\n    [loginAdminAction.fulfilled]: (state, action) => {\n      state.token = action.payload.token;\n      state.educatorId = action.payload.educatorId;\n      state.admin = action.payload.admin;\n      state.loading = false;\n    },\n    [loginAdminAction.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [loginAdminAction.rejected]: (state, action) => {\n      if (action.payload === 'network') state.error = \"There's a Network issue\";\n      else if (action.payload === 'credintials')\n        state.error = 'The Username or Password is incorrect';\n      state.loading = false;\n    },\n    [resetPasswordAction.fulfilled]: (state, action) => {\n        state.token = action.payload.token[0]\n    },\n    [resetPasswordAction.rejected]: (state, action) => {\n      state.resetError = 'somthing went wrong'\n    },\n  },\n});\n\nexport const {\n  setLoading: setLoadingAction,\n  setChats: setChatsAction,\n  clearAll: clearAllAuthAction,\n  setDarkMode: setDarkModeAction,\n  setResetError: setResetErrorAction\n} = authReducer.actions;\n\nexport default authReducer.reducer;\n","export const styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100vh',\n    backgroundColor: '#0a122a',\n    width: '100%',\n  },\n  card: {\n    width: '80%',\n    padding: 30,\n    borderRadius:8\n  },\n  root: { display: 'flex', flexDirection: 'row' },\n  logo: { width: '30%', marginBottom: '15%' },\n  formDiv: {\n    width: '50%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  form: { display: 'flex', flexDirection: 'column' },\n  username: {\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  password: {\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  button: {\n    backgroundColor: 'lightblue',\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  error: { color: 'red' },\n};\n","import React, { useState, useEffect } from 'react';\nimport logo from '../assets/bright-no-bg.png';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loginEducatorAction, setLoadingAction, loginAdminAction } from '../redux/reducers/authReducer';\nimport { useHistory } from 'react-router-dom';\n\nimport TextField from '@material-ui/core/TextField';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport { styles } from '../styles/loginViewStyles';\nimport Card from '@material-ui/core/Card';\n\nconst LoginView = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [activeRole, setActiveRole] = useState('educator');\n  const [buttonEducatorColor, setButtonEducatorColor] = useState('lightgrey');\n  const [buttonAdminColor, setButtonAdminColor] = useState('white');\n  const [lang, setLang] = useState({\n    ar: {\n      username: 'اسم المستخدم',\n      password: 'الرقم السري',\n      submit: 'دخول',\n    },\n  });\n\n  const { educatorId, token, loading, error } = useSelector(\n    (state) => state.auth\n  );\n  useEffect(() => {\n    if (token && educatorId) {\n      history.push('showpatients');\n    }\n  }, [educatorId, history, token]);\n  const onEducatorSubmit = async () => {\n    dispatch(setLoadingAction(true));\n    dispatch(loginEducatorAction({ username: username, password: password }));\n  };\n  const onAdminSubmit = async () => {\n    dispatch(setLoadingAction(true));\n    dispatch(loginAdminAction({ username: username, password: password }));\n  };\n  const renderLoginAdmin = () => {\n    return (\n      <form style={styles.form}>\n        <TextField\n          type=\"username\"\n          required\n          id=\"outlined-required\"\n          label={lang.ar.username}\n          variant=\"outlined\"\n          value={username}\n          onChange={(e) => {\n            e.persist();\n            setUsername(e.target.value);\n          }}\n          style={styles.username}\n        />\n        <TextField\n          type=\"password\"\n          required\n          id=\"outlined-required\"\n          label={lang.ar.password}\n          variant=\"outlined\"\n          value={password}\n          onChange={(e) => {\n            e.persist();\n            setPassword(e.target.value);\n          }}\n          style={styles.password}\n        />\n        <Button variant=\"primary\" style={styles.button} onClick={() => {onAdminSubmit()}}>\n          {lang.ar.submit}\n        </Button>\n        {loading ? <LinearProgress /> : null}\n        {error ? <text style={styles.error}>{error}</text> : ''}\n      </form>\n    );\n  };\n  const renderLoginEducator = () => {\n    return (\n      <form style={styles.form}>\n        <TextField\n          type=\"username\"\n          required\n          id=\"outlined-required\"\n          label={lang.ar.username}\n          variant=\"outlined\"\n          value={username}\n          onChange={(e) => {\n            e.persist();\n            setUsername(e.target.value);\n          }}\n          style={styles.username}\n        />\n        <TextField\n          type=\"password\"\n          required\n          id=\"outlined-required\"\n          label={lang.ar.password}\n          variant=\"outlined\"\n          value={password}\n          onChange={(e) => {\n            e.persist();\n            setPassword(e.target.value);\n          }}\n          style={styles.password}\n        />\n        <Button variant=\"primary\" style={styles.button} onClick={onEducatorSubmit}>\n          {lang.ar.submit}\n        </Button>\n        {loading ? <LinearProgress /> : null}\n        {error ? <text style={styles.error}>{error}</text> : ''}\n      </form>\n    );\n  };\n  return (\n    <Container\n      // fluid\n      maxWidth={false}\n      style={styles.container}\n    >\n      <div style={styles.root}>\n        <img src={logo} style={styles.logo} />\n        <div style={styles.formDiv}>\n          <Card style={styles.card}>\n            <div\n              style={{\n                borderRadius: 5,\n                borderWidth: 1,\n                borderColor: 'grey',\n                borderStyle: 'solid',\n              }}\n            >\n              <Button\n                style={{\n                  width: '50%',\n                  height: 50,\n                  backgroundColor: buttonEducatorColor,\n                }}\n                value=\"educator\"\n                onClick={() => {\n                  setActiveRole('educator');\n                  setButtonEducatorColor('lightgrey');\n                  setButtonAdminColor('white');\n                }}\n              >\n                Educator\n              </Button>\n              <Button\n                style={{\n                  width: '50%',\n                  height: 50,\n                  backgroundColor: buttonAdminColor,\n                }}\n                value=\"admin\"\n                onClick={() => {\n                  setActiveRole('admin');\n                  setButtonAdminColor('lightgrey');\n                  setButtonEducatorColor('white');\n                }}\n              >\n                {' '}\n                Admin\n              </Button>\n            </div>\n\n            {activeRole === 'admin'\n              ? renderLoginAdmin()\n              : renderLoginEducator()}\n          </Card>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default LoginView;\n","export function parseArray(arr){\n    return arr.map((element) => { return JSON.parse(element) })\n}\n\nexport function parseObjectOfArrays(obj){\n    let parsed=[]\n    let objects={}\n    for(var key in obj){\n        var current=obj[key]\n        if (Array.isArray(current)) {\n            objects[key]= parseArray(current)\n            parsed.push(parseArray(current))\n        }\n    }\n    return objects\n}","export default __webpack_public_path__ + \"static/media/logo-dark-notext.58fe3789.png\";","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport url from './../../../config/apiConfig';\nimport { commonState } from '../../../helpers/commonReducerState';\nimport { parseArray } from '../../../helpers/Converters';\nexport const getChatsAction = createAsyncThunk(\n  'chats/getChatsAction',\n  async ({ chatId, educatorId, token, adminId }, { rejectWithValue }) => {\n    try {\n      const adminParam = adminId ? `adminId=${adminId}&` : '';\n      let result = await axios.get(\n        `${url}/message?chatId=${chatId}&${adminParam}educatorId=${educatorId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          timeout: 10000,\n        }\n      );\n      if (result?.data) {\n        return result.data.reverse();\n      }\n    } catch (error) {\n      console.log('error', error);\n\n      return rejectWithValue(error);\n    }\n  }\n);\nexport const getAllChatsAction = createAsyncThunk(\n  'chats/getAllChats',\n  async ({ educatorId, token, adminId }, { rejectWithValue }) => {\n    try {\n      const adminParam = adminId ? `adminId=${adminId}&` : '';\n      let result = await axios.get(\n        `${url}/chats?educatorId=${educatorId}&${adminParam}filterDate=all`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          timeout: 10000,\n        }\n      );\n      if (result?.data) {\n        const chats = parseArray(result.data?.chats);\n        const archivedChats = parseArray(result.data?.archivedChats);\n        const parsedData = {\n          chats,\n          archivedChats,\n        };\n        return parsedData;\n      }\n    } catch (error) {\n      console.log(error);\n      rejectWithValue(error);\n    }\n  }\n);\nconst initialState = {\n  messages: null,\n  currentChat: null,\n  allChats: [],\n  archivedChats: [],\n  allChatsLoading: false,\n  ...commonState,\n};\nconst chatsReducer = createSlice({\n  name: 'chats',\n  initialState,\n  reducers: {\n    clearAll: () => initialState,\n    setChats: (state, action) => {\n      state.chats = action.payload;\n    },\n    setCurrentChat: (state, action) => {\n      state.currentChat = action.payload;\n    },\n  },\n\n  extraReducers: {\n    [getChatsAction.fulfilled]: (state, action) => {\n      state.messages = action.payload;\n      state.loading = false;\n    },\n    [getChatsAction.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [getChatsAction.rejected]: (state, action) => {\n      state.error = action.payload;\n    },\n    [getAllChatsAction.pending]: (state, action) => {\n      state.allChatsLoading = true;\n    },\n    [getAllChatsAction.fulfilled]: (state, action) => {\n      state.allChats = action.payload.chats;\n      state.archivedChats = action.payload.archivedChats;\n      state.allChatsLoading = false;\n    },\n    [getAllChatsAction.rejected]: (state, action) => {\n      state.allChatsLoading = false;\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const {\n  setChats: setChatsAction,\n  setCurrentChat: setCurrentChatAction,\n  clearAll: clearAllChatsAction,\n} = chatsReducer.actions;\n\nexport default chatsReducer.reducer;\n","import url from '../config/apiConfig'\nimport { parseObjectOfArrays } from '../helpers/Converters'\nimport axios from \"axios\"\n\nexport const getMessages = async (chatId, educatorId, token) => {\n  try {\n    let result = await axios\n        .get(`${url}/message?chatId=${chatId}&educatorId=${educatorId}`, {headers: {\n          Authorization: `Bearer ${token}`\n        }, timeout: 10000 })\n    if (result?.data) {\n      return result.data\n    }\n  } catch (error) {\n      console.log('error',error);\n      \n      return error\n  }\n}\n\nexport const getEducatorIds = async (educatorId, token) => {\n  try {\n    let result;\n    Object.keys(educatorId)[0] === 'adminId' ? \n    result = await axios.get(`${url}/educator?get=all&adminId=${educatorId.adminId}&educatorId=${educatorId}`, {headers: {\n      Authorization: `Bearer ${token}`\n    }})\n    : \n    result = await axios.get(`${url}/educator?get=all&${educatorId}&educatorId=${educatorId}`, {headers: {\n      Authorization: `Bearer ${token}`\n    }})\n     \n    if (result.data) {\n      let educators = {}\n      result.data.forEach((educator) => {\n        let { name, id } = JSON.parse(educator)\n        educators[id] = { name, id }\n      })\n      return educators;\n    }\n  } catch(err) {\n    console.log('Error getEducatorIds', err);\n  }\n}\n\nexport const getEducatorChats = async (educatorId, token) => {\n  const educators = await getEducatorIds(educatorId, token);\n  for (var i in educators) {\n    let chats = await getChats(educators[i].id, token)\n    if (chats) {\n      educators[i].chats = chats\n      educators[i].count = chats.length\n    }\n  }\n  return educators;\n}\n\nexport const getChats = async (educatorId, token) => {\n  try {\n    const filterDate = 'all';\n    const result = await axios.get(`${url}/chat?educatorId=${educatorId}&filterDate=${filterDate}`, {headers: {\n      Authorization: `Bearer ${token}`\n    }})\n    if(result.data) {\n      if (result.data.error) {\n        return;\n      }\n      let chats = result.data?.chats?.map((item) => JSON.parse(item))\n      if(!chats) {\n        return []\n      }\n      return chats\n    }\n  } catch (error) {\n    console.log(\"Error getting chats:\", error);\n  }\n}\n\n\n\nexport const getEducatorData = async ({educatorId, token}) => {\n  try {\n    const get = 'chats,appointments,educator,all';\n    const result = await axios.get(`${url}/educator?id=${educatorId}&get=${get}&educatorId=${educatorId}`, {headers: {\n      Authorization: `Bearer ${token}`\n    }})\n    if(result.data) {\n      \n      const {data} = result;\n      const educator = JSON.parse(data.educator)\n      delete data.educator\n      let parsedData = parseObjectOfArrays(data);\n      const { appointments, chats, educators } = parsedData;\n      \n      return { chats, appointments, educator, educators};\n    }\n  } catch (error) {\n    console.log('getEducatorData Error', error);\n  }\n}\n\n\n\nexport const isCaseHandler = async (educatorId, token) => {\n  \n  return axios.get(`${url}/educator?id=${educatorId}&get=educator&educatorId=${educatorId}`, {headers: {\n    Authorization: `Bearer ${token}`\n  }}).then((result) => {\n    \n    return result?.data?.isCaseHandler \n    \n  }).catch((e) => {\n    console.log('isCaseHandler error ',e);\n    \n  })\n}\n\nexport const logout = async (educatorId, token) => {\n  const body = {\n    educatorId,\n    notificationToken:\" \"\n  }\n  const result =  await axios.patch(`${url}/logout`,body,{headers: {\n    Authorization: `Bearer ${token}`}}).then((res) => {\n      \n    }).catch((e) => {\n      console.log('error ',e);\n      \n    })\n    return result\n} ","import url from '../config/apiConfig'\nimport { parseObjectOfArrays } from '../helpers/Converters'\nimport axios from \"axios\"\n\nexport const getAdminData = async ({educatorId, adminId, token}) => {\n  try {\n    const get = 'chats,appointments,educator,all';\n    const result = await axios.get(`${url}/educator?id=${educatorId}&get=${get}&adminId=${adminId}`, {headers: {\n      Authorization: `Bearer ${token}`\n    }})\n    if(result.data) {\n      \n      const {data} = result;\n      const educator = JSON.parse(data.educator)\n      delete data.educator\n      let parsedData = parseObjectOfArrays(data);\n      const { appointments, chats, educators } = parsedData;\n      \n      return { chats, appointments, educator, educators};\n    }\n  } catch (error) {\n    console.log('getAdminData Error', error);\n  }\n}\n\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getEducatorIds, getEducatorData } from '../../../API/apiEducator';\nimport { getAdminData } from '../../../API/apiAdmin';\nimport { commonState } from '../../../helpers/commonReducerState';\nexport const getEducatorsAndPatients = createAsyncThunk(\n  'educators/getEducatorsAndPatients',\n  async ({ educatorId, token }, { rejectWithValue }) => {\n    try {\n      let patients = {}\n      let { chats, appointments, educator } = await getEducatorData({ educatorId, token })\n\n      if (chats) {\n        educator.chats = chats\n        educator.count = chats.length\n        chats.forEach((chat) => {\n          let patient = patients[chat.patientId]\n          if (!patient) {\n            patients[chat.patientId] = chat\n            patient = patients[chat.patientId]\n          }\n          if (patient && patient.educators) {\n            patient.educators.push({ id: educator.id, name: educator.name })\n          }\n          else {\n            patient.educators = [{ id: educator.id, name: educator.name }]\n          }\n        })\n      }\n      if (appointments) {\n        educator.appointments = appointments\n      }\n      const tempEducators = [educator]\n\n      return { educators: tempEducators, patients }\n\n    }\n    catch (error) {\n      console.log(' Error getEducatorsAndPatients', error);\n      return rejectWithValue(error)\n    }\n  }\n);\nexport const getAllEducators = createAsyncThunk(\n  'educators/getAllEducators',\n  async ({ adminId, token }, { rejectWithValue }) => {\n    const tempEducators = await getEducatorIds({ adminId }, token);\n\n    let patients = {}\n    for (var i in tempEducators) {\n      let educator = tempEducators[i]\n      let { chats, appointments, educators } = await getAdminData({ educatorId: educator.id, adminId, token })\n      const educatorData = educators?.find((filterEducator) => {\n        return filterEducator?.id === educator?.id\n      })\n      tempEducators[i].specialty = educatorData?.specialty\n      const isCaseHandler = educatorData?.isCaseHandler\n      educator.isCaseHandler = isCaseHandler\n      if (chats) {\n        educator.chats = chats\n        educator.count = chats.length\n        chats.forEach((chat) => {\n          let patient = patients[chat.patientId]\n          if (!patient) {\n            patients[chat.patientId] = chat\n            patient = patients[chat.patientId]\n          }\n          if (patient && patient.educators) {\n            patient.educators.push({ id: educator.id, name: educator.name })\n          }\n          else {\n            patient.educators = [{ id: educator.id, name: educator.name }]\n          }\n        })\n        // break;\n\n      }\n      if (appointments) {\n        tempEducators[i].appointments = appointments\n      }\n\n    }\n    return { educators: tempEducators, patients };\n  }\n)\nconst initialState = {\n  educators: [],\n  patients: [],\n  fetchedEducatorId: '',\n  currentEducator: '',\n  ...commonState\n};\nconst educatorsReducer = createSlice({\n  name: 'educators',\n  initialState,\n  reducers: {\n    clearAll: () => initialState,\n    setFetchedEducatiorId: (state, action) => {\n      state.fetchedEducatorId = action.payload\n    },\n    setCurrentEducator: (state, action) => {\n      state.currentEducator = action.payload\n    }\n  },\n\n  extraReducers: {\n    [getEducatorsAndPatients.fulfilled]: (state, action) => {\n      state.educators = action.payload.educators\n      state.patients = action.payload.patients\n      state.loading = false\n    },\n    [getEducatorsAndPatients.pending]: (state, action) => {\n      state.loading = true\n    },\n    [getEducatorsAndPatients.rejected]: (state, action) => {\n      state.loading = false\n    },\n    [getAllEducators.fulfilled]: (state, action) => {\n      state.educators = action.payload.educators\n      state.patients = action.payload.patients\n      state.loading = false\n    },\n    [getAllEducators.pending]: (state, action) => {\n      state.loading = true\n    },\n    [getAllEducators.rejected]: (state, action) => {\n      state.loading = false\n    },\n  },\n});\n\nexport const {\n  clearAll: clearAllEducatorsAction,\n  setFetchedEducatiorId: setFetchedEducatorIdReducer,\n  setCurrentEducator: setCurrentEducatorAction\n} = educatorsReducer.actions;\n\nexport default educatorsReducer.reducer;","import url from '../config/apiConfig';\nimport axios from 'axios';\nimport { parseArray } from '../helpers/Converters';\n\nexport const getPatient = async ({educatorId, token, patientId}) => {\n  try {\n    const result = await axios.get(\n      `${url}/patient?patientId=${patientId}&educatorId=${educatorId}`,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    \n    if (result.data) {\n      const { patient: unparsedPatient, patientProfile } = result.data;\n      const patient = JSON.parse(unparsedPatient);\n      return { patient, patientProfile };\n    }\n  } catch (error) {\n    console.log('getPatient Error', error);\n  }\n};\nexport const getPatientAdmin = async ({adminId, token, patientId}) => {\n  try {\n    const result = await axios.get(\n      `${url}/patient?patientId=${patientId}&adminId=${adminId}`,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    if (result.data) {\n      const { patient: unparsedPatient, patientProfile } = result.data;\n      const patient = JSON.parse(unparsedPatient);\n      return { patient, patientProfile };\n    }\n  } catch (error) {\n    console.log('getPatient Error', error);\n  }\n};\nexport const getAppointments = async (patientId, token, educatorId) => {\n  try {\n    const result = await axios.get(\n      `${url}/appointment?patientId=${patientId}&educatorId=${educatorId}&get=one`,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    if (result.data) {\n      const parsedPatient = parseArray(result.data) \n      return parsedPatient;\n    }\n  } catch (error) {\n    console.log('error', error);\n  }\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getPatient, getAppointments, getPatientAdmin } from '../../../API/apiPatient';\nimport { commonState } from '../../../helpers/commonReducerState';\n\nexport const getPatientAction = createAsyncThunk(\n  'patient/getPatientAction',\n  async ({ educatorId, token, patientId, adminId }, { rejectWithValue }) => {\n    if(adminId){\n      \n      return await getPatientAdmin({adminId:adminId, token, patientId})\n        .then((patientData) => {\n  \n          return patientData?.patientProfile;\n        })\n        .catch((e) => {\n          console.log(e);\n          return rejectWithValue(e);\n        });\n    } else {\n\n      return await getPatient({educatorId, token, patientId})\n        .then((patientData) => {\n  \n          return patientData?.patientProfile;\n        })\n        .catch((e) => {\n          console.log(e);\n          return rejectWithValue(e);\n        });\n    }\n  }\n);\nexport const getAppointmentsAction = createAsyncThunk(\n  'patinet/getAppointmentsAction',\n  async ({ educatorId, token, patientId }, { rejectWithValue }) => {\n    return await getAppointments(patientId, token, educatorId)\n      .then((data) => {\n        if (data) return data;\n      })\n      .catch((e) => {\n        console.log(e);\n        rejectWithValue(e);\n      });\n  }\n);\nconst initialState = {\n  patientProfile: null,\n  patientId: null,\n  appointments: null,\n  ...commonState,\n};\nconst patientReducer = createSlice({\n  name: 'patient',\n  initialState,\n  reducers: {\n    clearAll: () => initialState,\n    setPatientId: (state, action) => {\n      state.patientId = action.payload;\n    },\n  },\n\n  extraReducers: {\n    [getPatientAction.fulfilled]: (state, action) => {\n      state.patientProfile = action.payload;\n      state.loading = false;\n    },\n    [getPatientAction.rejeceted]: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    [getPatientAction.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [getAppointmentsAction.fulfilled]: (state, action) => {\n      state.appointments = action.payload;\n    },\n  },\n});\n\nexport const {\n  setPatientId: setPatientIdAction,\n  clearAll: clearAllPatientAction,\n} = patientReducer.actions;\n\nexport default patientReducer.reducer;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport { blue } from '@material-ui/core/colors';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport KeyboardBackspaceIcon from '@material-ui/icons/KeyboardBackspace';\n\nconst useStyles = makeStyles({\n  avatar: {\n    backgroundColor: blue[100],\n    color: blue[600],\n  },\n});\nconst PopUpProfile = ({\n  setOpen,\n  open,\n  setOldPassword,\n  setNewPassword,\n  setNewPasswordVerify,\n  handleResetSubmit,\n  error,\n}) => {\n  const [page, setPage] = useState('profile');\n  const classes = useStyles();\n\n  return (\n    <Dialog\n      onClose={() => {\n        setOpen(false);\n      }}\n      open={open}\n    >\n      <div style={{ height: 400, width: 600 }}>\n        {page === 'profile' ? (\n          <div> \n\n        <DialogTitle style={{ textAlign: 'center' }} id=\"simple-dialog-title\">\n          Profile\n        </DialogTitle>\n<Typography style={{backgroundColor:'lightblue', marginLeft:10,textAlign:'center' ,width:580, height:40, }}>Name: </Typography>\n          <Button\n          style={{width:580, height:40, backgroundColor:'lightblue', marginLeft:10,marginTop:10}}\n            onClick={() => {\n              setPage('reset');\n            }}\n          >\n            Reset Password\n          </Button>\n          </div>\n        ) : (\n          <div>\n            <DialogTitle style={{ textAlign: 'center' }} id=\"simple-dialog-title\">\n          Reset Password\n        </DialogTitle>\n            <Button style={{backgroundColor:'lightblue', marginLeft:10}} onClick={() => {setPage('profile')}}> \n              <KeyboardBackspaceIcon />\n            </Button>\n            <FormControl\n              style={{ width: 580, marginTop: 10, marginLeft: 10 }}\n              fullWidth\n              className={classes.margin}\n              variant=\"outlined\"\n            >\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\n                Old Password\n              </InputLabel>\n              <OutlinedInput\n                type=\"password\"\n                // value={values.amount}\n                onChange={(e) => {\n                  setOldPassword(e.target.value);\n                }}\n                // startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\n                labelWidth={50}\n              />\n            </FormControl>\n            <FormControl\n              style={{ width: 580, marginTop: 10, marginLeft: 10 }}\n              fullWidth\n              className={classes.margin}\n              variant=\"outlined\"\n            >\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\n                New Password\n              </InputLabel>\n              <OutlinedInput\n                type=\"password\"\n                // value={values.amount}\n                onChange={(e) => {\n                  setNewPassword(e.target.value);\n                }}\n                // startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\n                labelWidth={50}\n              />\n            </FormControl>\n            <FormControl\n              style={{ width: 580, marginTop: 10, marginLeft: 10 }}\n              fullWidth\n              className={classes.margin}\n              variant=\"outlined\"\n            >\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\n                New Password\n              </InputLabel>\n              <OutlinedInput\n                type=\"password\"\n                // value={values.amount}\n                onChange={(e) => {\n                  setNewPasswordVerify(e.target.value);\n                }}\n                // startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\n                labelWidth={50}\n              />\n            </FormControl>\n            <Button\n              style={{\n                backgroundColor: 'lightblue',\n                width: 580,\n                marginTop: 10,\n                marginLeft: 10,\n              }}\n              onClick={() => {\n                handleResetSubmit();\n              }}\n              variant=\"primary\"\n            >\n              Submit\n            </Button>\n            <InputLabel\n              style={{ textAlign: 'center', marginTop: 10, color: 'red' }}\n            >\n              {error}\n            </InputLabel>\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n};\nexport default PopUpProfile;\n","export const mainTheme = {\n  primary: {\n    black: '#042c42',\n    red: '#ee3d60',\n    white: '#ffffff',\n    bluishWhite: '#EDF8FF',\n  },\n  secondary: {\n    lightBlue: '#d2edf4 ',\n    mainBlue: '#51c7ea',\n    darkBlue: '#005792',\n    orange: '#fbbd33',\n  },\n};\nexport const darkTheme = {\n  primary: {\n    black: '#042639',\n    red: '#D03554',\n    white: '#ffffff',\n    bluishWhite: '#CFD9DF',\n  },\n  secondary: {\n    lightBlue: '#B8CFD6',\n    mainBlue: '#337C92',\n    darkBlue: '#003B52',\n    orange: '#BC8E26',\n    lightGrey: '#CBCBCB',\n  },\n};\n","import { darkTheme, mainTheme } from './themes';\nconst theme = mainTheme;\nexport const lightStyles = {\n  root: {\n    // flexGrow: 1,\n    width: '100%',\n    height: '5%',\n  },\n  tabs: {\n    backgroundColor: darkTheme.secondary.lightBlue,\n    height: '100%',\n  },\n  logout: {\n    fontSize: 20,\n    color: 'black',\n    width: 30,\n    height: 50,\n    marginLeft:25,\n    transform: [{ rotate: '90deg' }],\n  },\n  footerAppBar: {\n    top: 'auto',\n    bottom: 0,\n    width: '100%',\n    height: '5%',\n    backgroundColor: darkTheme.secondary.lightBlue,\n    alignItems: 'center',\n  },\n  navLogo: {\n    marginTop: 5,\n  },\n  footerLogo: {\n    marginTop: 5,\n    marginBottom: 10,\n  },\n  customTabDiv: {\n    width: 200,\n    minWidth:140,\n    height: 50,\n    fontSize: 25,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    verticalAlign: 'center',\n    textTransform: 'none'\n  },\n  text: {\n    textAlign: 'center',\n    verticalAlign: 'center',\n    top: 0,\n    position: 'relative',\n    fontSize: 20,\n    flexDirection: 'row',\n    display: 'flex',\n    marginBottom: -5,\n  },\n  icon: { marginRight: 10 },\n  tabDiv: { fontSize: 16, marginBottom: 2 },\n};\nexport const darkStyles = {\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    height: 50,\n    backgroundColor: theme.secondary.darkBlue,\n  },\n  tabs: {\n    backgroundColor: theme.secondary.darkBlue,\n    height: 50,\n  },\n  logout: {\n    fontSize: 20,\n    color: 'black',\n    width: 30,\n    height: 50,\n    marginLeft:25,\n    transform: [{ rotate: '90deg' }],\n  },\n  footerAppBar: {\n    top: 'auto',\n    bottom: 0,\n    width: '100%',\n    height: '5%',\n    backgroundColor: theme.secondary.darkBlue,\n    alignItems: 'center',\n  },\n  navLogo: {\n    marginTop: 5,\n  },\n  footerLogo: {\n    marginTop: 5,\n    marginBottom: 10,\n  },\n  customTabDiv: {\n    width: 200,\n    minWidth:140,\n    height: 50,\n    fontSize: 25,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    verticalAlign: 'center',\n    textTransform: 'none'\n  },\n  text: {\n    textAlign: 'center',\n    verticalAlign: 'center',\n    top: 0,\n    position: 'relative',\n    fontSize: 20,\n    flexDirection: 'row',\n    display: 'flex',\n    marginBottom: -5,\n    color: darkTheme.secondary.lightGrey,\n  },\n  icon: { marginRight: 10 },\n  tabDiv: { fontSize: 16, marginBottom: 2, color: darkTheme.secondary.lightGrey, },\n};","import React, { useEffect, useState } from 'react';\nimport logo from '../assets/logo-dark-notext.png';\nimport { useHistory } from 'react-router-dom';\n\n//redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  clearAllAuthAction,\n  logoutAction,\n  resetPasswordAction,\n  setResetErrorAction\n} from '../redux/reducers/authReducer';\nimport { clearAllChatsAction } from '../redux/reducers/chatsReducer';\nimport {\n  clearAllEducatorsAction,\n  getEducatorsAndPatients,\n  setFetchedEducatorIdReducer,\n  getAllEducators,\n} from '../redux/reducers/educatorsReducer';\nimport { clearAllPatientAction } from '../redux/reducers/patientReducer';\n\nimport PopUpProfile from './PopUpProfile';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport AppBar from '@material-ui/core/AppBar';\nimport { lightStyles, darkStyles } from '../styles/myNavStyles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\n\nimport app from '../App.css';\n\nconst MyNav = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [localEducators, setLocalEducators] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [oldPassword, setOldPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [newPasswordVerify, setNewPasswordVerify] = useState('');\n  const [value, setValue] = useState(2);\n  const { educators, loading, fetchedEducatorId } = useSelector(\n    (state) => state.educators\n  );\n  const { educatorId, token, darkMode, admin, resetError } = useSelector(\n    (state) => state.auth\n  );\n\n  const styles = !darkMode ? lightStyles : darkStyles;\n    \n  useEffect(() => {\n    if (admin) {\n      dispatch(getAllEducators({ adminId: educatorId, token }));\n    } else {\n      dispatch(getEducatorsAndPatients({ educatorId, token }));\n    }\n  }, []);\n  useEffect(() => {\n    //sort educators first casehandlers then the rest\n    if (educators) {\n      setLocalEducators(\n        Object.values(educators).sort((first, second) => {\n          if (first?.isCaseHandler === second?.isCaseHandler) return 0;\n          else {\n            if (first?.isCaseHandler) return -1;\n            else return 1;\n          }\n        })\n      );\n    }\n  }, [educators]);\n\n  useEffect(() => {\n    let placeValue = 0;\n    if (localEducators) {\n      Object.values(localEducators).forEach((educator, index) => {\n        if (educator?.id === fetchedEducatorId) placeValue = index;\n      });\n      if(admin) \n      setValue(placeValue + 3);\n      else\n      setValue(placeValue + 2);\n\n    }\n  }, [fetchedEducatorId]);\n  const logout = () => {\n    dispatch(clearAllAuthAction());\n    dispatch(clearAllEducatorsAction());\n    dispatch(clearAllChatsAction());\n    dispatch(clearAllPatientAction());\n    if (admin) dispatch(logoutAction({ adminId: educatorId, token }));\n    else dispatch(logoutAction({ educatorId, token }));\n    history.replace('/');\n  };\n\n  const RenderEducator = (id) => {\n    dispatch(setFetchedEducatorIdReducer(id));\n  };\n  \n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleResetSubmit = () => {\n    if (newPassword === newPasswordVerify)\n      dispatch(\n        resetPasswordAction({\n          adminId: educatorId,\n          token,\n          oldPassword,\n          newPassword,\n        })\n      );\n      else \n      dispatch(setResetErrorAction('Passwords don\\'t match'))\n  };\n  return (\n    <div style={styles.root}>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}   \n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n          style={styles.tabs}\n        >\n          <img\n            alt=\"\"\n            src={logo}\n            width=\"110\"\n            height=\"35\"\n            style={styles.navLogo}\n          />\n          {admin ? \n          <>\n\n            <Button onClick={handleClickOpen}>\n              <PermIdentityIcon />\n            </Button>\n            <PopUpProfile\n              open={open}\n              setOpen={setOpen}\n              setOldPassword={setOldPassword}\n              setNewPassword={setNewPassword}\n              setNewPasswordVerify={setNewPasswordVerify}\n              handleResetSubmit={handleResetSubmit}\n              error={resetError}\n            /> \n          </>\n          : null\n          }\n          <Button style={styles.logout}>\n            <ExitToAppIcon className=\"logout\" onClick={() => logout()} />\n          </Button>\n          {Object.keys(localEducators).length\n            ? Object.values(localEducators).map((educator) => {\n                return (\n                  <Button\n                    style={styles.customTabDiv}\n                    onClick={() => RenderEducator(educator.id)}\n                  >\n                    <div style={styles.tabDiv}>\n                      <Typography style={styles.text}>\n                        <div style={styles.icon}>\n                          {educator?.isCaseHandler ? (\n                            <AssignmentIndIcon />\n                          ) : (\n                            <PersonIcon />\n                          )}\n                        </div>\n                        {educator.name}\n                      </Typography>\n                      <text>{educator?.specialty}</text>\n                    </div>\n                  </Button>\n                );\n              })\n            : ''}\n        </Tabs>\n        {loading ? <LinearProgress /> : null}\n      </AppBar>\n    </div>\n  );\n};\nexport default MyNav;\n","import React from \"react\";\nimport logo from \"../assets/logo-dark-notext.png\";\nimport AppBar from '@material-ui/core/AppBar';\nimport {darkStyles,lightStyles} from '../styles/myNavStyles'\nimport { useSelector } from \"react-redux\";\nconst Footer = () => {\n  const {darkMode } = useSelector((state) => state.auth)\n\n  const styles = !darkMode ? lightStyles : darkStyles\n\n  return (\n    <AppBar position=\"fixed\" color=\"black\" style={styles.footerAppBar}>\n      <img\n        alt=\"\"\n        src={logo}\n        width=\"100\"\n        height=\"40\"\n        className=\"d-inline-block align-top\"\n        style={styles.footerLogo}\n      />\n    </AppBar>\n  );\n};\n\nexport default Footer;\n","import { mainTheme, darkTheme } from \"./themes\";\n\nconst theme = mainTheme;\n\nexport const lightStyles = {\n  root: {\n    height: '100%',\n    width: '100%',\n  },\n  iconsButton: { height: 50, width: 50, marginLeft: 20, marginRight: 20, marginTop: 10 },\n  chatDiv: {\n    position: 'relative',\n    height: '80%',\n    width: '96%',\n  },\n  educatorsButton: {\n    width: '20%',\n    margin: 5,\n    backgroundColor: theme.secondary.lightBlue,\n  },\n  messageFooter: {\n    ontSize: 10,\n  },\n  customMessage: {\n    fontSize: 17,\n  },\n  messagelistContent: {\n    // backgroundColor: mainTheme.primary.white,\n  },\n  separatorDiv: {\n    flex: 1,\n    alignItems: 'center',\n    alignContent: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: 30,\n  },\n  leftLine: {\n    flex: 4,\n    height: 1,\n    backgroundColor: 'grey',\n  },\n  rightLine: {\n    flex: 4,\n    height: 1,\n    backgroundColor: 'grey',\n    marginRight: 30,\n  },\n  date: {\n    flex: 2,\n    textAlign: 'center',\n  },\n  statsDiv: {\n    color: 'black',\n  },\n  emptyMessages: {\n    color: 'black',\n  },\n  chatScrollDiv: {\n    overflow: 'auto',\n    height: '65vh',\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column-reverse',\n    backgroundColor: '#F4FBFF',\n  },\n};\nexport const darkStyles = {\n  root: {\n    height: '100%',\n    width: '100%',\n  },\n  chatDiv: {\n    position: 'relative',\n    height: '80%',\n    width: '96%',\n  },\n  messageFooter: {\n    ontSize: 10,\n  },\n  customMessage: {\n    fontSize: 17,\n  },\n  messagelistContent: {\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  separatorDiv: {\n    flex: 1,\n    alignItems: 'center',\n    alignContent: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: 30,\n  },\n  leftLine: {\n    flex: 4,\n    height: 1,\n    backgroundColor: 'grey',\n  },\n  rightLine: {\n    flex: 4,\n    height: 1,\n    backgroundColor: 'grey',\n    marginRight: 30,\n  },\n  date: {\n    flex: 2,\n    textAlign: 'center',\n  },\n  statsDiv: {\n    color: darkTheme.secondary.lightGrey,\n  },\n  emptyMessages: {\n    color: darkTheme.secondary.lightGrey,\n  },\n  chatScrollDiv: {\n    overflow: 'auto',\n    height: '100%',\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column-reverse',\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n};\n","export const formatMessages = (messages = []) => {\n  const imgTypes = ['png', 'jpg', 'jpeg', 'gif'];\n  const fileTypes = ['pdf', 'doc', 'docx'];\n  const audioTypes = ['mp3', '3gp', 'caf', 'wav', 'wave', 'm4a', 'aac'];\n  let duration = 0;\n\n  let formatedMessages = [];\n  let date;\n  for (var i in messages) {\n    let message = {};\n    Object.assign(message, messages[i]);\n    let id = parseInt(message.user._id) - 1;\n    if (message.media) {\n      var fileNameArr = message.media.split('.');\n      var fileExtension = fileNameArr[fileNameArr.length - 1];\n      var isImg = imgTypes.includes(fileExtension.split('?')[0]);\n      var isFile = fileTypes.includes(fileExtension.split('?')[0]);\n      var isAudio = audioTypes.includes(fileExtension.split('?')[0]);\n      if (isImg) {\n        if (date !== message.createdOn.split('T')[0]) {\n          duration++;\n          message.message = { image: message.media };\n          message.message.date = message.createdOn.split('T')[0];\n          date = message.createdOn.split('T')[0];\n        } else {\n          message.message = { image: message.media };\n          message.message.text = message.text;\n        }\n        delete message.media;\n      } else if (isFile) {\n        message.message = { text: message.text, file: message.media };\n        delete message.media;\n      } else if (isAudio) {\n        message.media = message.media.replace('vnd.wave', 'wav');\n        message.message = { audio: message.media };\n        message.message.text = message.text;\n        delete message.media;\n      } else {\n        message.message = {\n          text: 'this link is corrupted: ' + message.media,\n        };\n      }\n    } else if (message.text) {\n      if (date !== message.createdOn.split('T')[0]) {\n        duration++;\n        message.message = { text: message.text };\n        message.message.date = message.createdOn.split('T')[0];\n        date = message.createdOn.split('T')[0];\n      } else {\n        message.message = { text: message.text };\n      }\n    } else {\n      message.message = { text: '' };\n    }\n    message.message.createdOn = message.createdOn;\n    let userId;\n    if (id === 0) userId = 'outgoing';\n    else userId = 'incoming';\n    const createdOn = message.message.createdOn.split('T');\n    message.message.createdOn = createdOn;\n    let formattedMessage = { userId, message: message.message };\n\n    formatedMessages.push(formattedMessage);\n  }\n  const messagesAndDuration = { formatedMessages, duration };\n  return messagesAndDuration;\n};\n","import React from 'react';\nimport { darkStyles, lightStyles } from '../styles/chatStyles';\n\nconst CustomSeparator = ({ date, darkMode }) => {\n  const Styles = !darkMode ? lightStyles : darkStyles;\n  const d = new Date(date);\n  const days = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n  ];\n  return (\n    <div style={Styles.separatorDiv}>\n      <div style={Styles.leftLine} />\n      <div style={Styles.date}>\n        {date}, {days[d.getDay()]}\n      </div>\n      <div style={Styles.rightLine} />\n    </div>\n  );\n};\n\nexport default CustomSeparator;\n","import React, { useState, useEffect } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport styles from '@chatscope/chat-ui-kit-styles/dist/default/styles.min.css';\nimport { Message } from '@chatscope/chat-ui-kit-react';\nimport ReactAudioPlayer from 'react-audio-player';\nimport { darkStyles, lightStyles } from '../../styles/chatStyles';\nimport { formatMessages } from './helpers';\nimport CustomSeparator from '../../components/CustomSeparator';\nimport Linkify from 'react-linkify';\n\nimport { getChatsAction } from '../../redux/reducers/chatsReducer';\nimport { useSelector, useDispatch } from 'react-redux';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nimport { IconButton } from '@material-ui/core';\nconst Chat = () => {\n  const dispatch = useDispatch();\n  const [localMessages, setLocalMessages] = useState([]);\n  const [page, setPage] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [lang, setLang] = useState({\n    ar: {\n      messageCount: 'عدد الرسائل',\n      usageDuration: 'مدة الاستخدام',\n      emptyConvo: 'المحادثة فارغة',\n    },\n  });\n\n  const { token, educatorId, darkMode, admin } = useSelector(\n    (state) => state.auth\n  );\n  const { messages, loading, currentChat } = useSelector(\n    (state) => state.chats\n  );\n\n  const localStyles = !darkMode ? lightStyles : darkStyles;\n  const componentDecorator = (href, text, key) => (\n    <a href={href} key={key} target=\"_blank\" rel=\"noopener noreferrer\">\n      {text}\n    </a>\n  );\n  useEffect(() => {\n    let chatId = currentChat;\n    if (admin) {\n      dispatch(\n        getChatsAction({\n          chatId,\n          token,\n          educatorId,\n          adminId: educatorId,\n        })\n      );\n    } else {\n      dispatch(\n        getChatsAction({\n          chatId,\n          token,\n          educatorId,\n        })\n      );\n    }\n  }, [currentChat]);\n  useEffect(() => {\n    if (messages) {\n      const allMessagesAndDuration = formatMessages(messages);\n      setDuration(allMessagesAndDuration.duration);\n      const messagesAndDuration = formatMessages(messages.slice(messages.length - 30, messages.length));\n      setLocalMessages(messagesAndDuration.formatedMessages.reverse());\n      setPage(1)\n    }\n  }, [messages]);\n\n  const olderMessages = () => {\n    const messagesAndDuration = formatMessages(messages.slice(messages.length - 30 - (30 * page), messages.length - (30 * page)));\n    let tempLocalMessages = JSON.parse(JSON.stringify(messagesAndDuration.formatedMessages.reverse()));\n    setLocalMessages(tempLocalMessages);\n    setPage(page + 1)\n  }\n\n  const newerMessages = () => {\n    const messagesAndDuration = formatMessages(messages.slice(messages.length - 30 - (30 * (page - 2)), messages.length - (30 * (page - 2))));\n    let tempLocalMessages = JSON.parse(JSON.stringify(messagesAndDuration.formatedMessages.reverse()));\n    setLocalMessages(tempLocalMessages);\n    setPage(page - 1)\n  }\n\n  return (\n    <div style={localStyles.root}>\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <div style={localStyles.statsDiv}>\n          {messages.length} :{lang.ar.messageCount} <br />\n          {lang.ar.usageDuration}: {duration} {'يوم'}\n        </div>\n        {loading ? (\n          <CircularProgress animation=\"border\" />\n        ) : !localMessages.length ? (\n          <div style={localStyles.emptyMessages}>{lang.ar.emptyConvo} </div>\n        ) : null}\n      </div>\n      <div style={localStyles.chatDiv}>\n        <div style={localStyles.chatScrollDiv}>\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n            <IconButton\n              style={localStyles.iconsButton}\n              aria-label=\"newer\"\n              onClick={() => {\n                if (page != 1)\n                  newerMessages();\n              }}\n            >\n              <NavigateBeforeIcon style={styles.icons} fontSize=\"large\" />\n            </IconButton>\n            <div style={localStyles.emptyMessages}>{page} - {Math.ceil(messages.length / 30)} </div>\n            <IconButton\n              style={localStyles.iconsButton}\n              aria-label=\"older\"\n              onClick={() => {\n                olderMessages();\n              }}\n            >\n              <NavigateNextIcon style={styles.icons} fontSize=\"large\" />\n            </IconButton>\n          </div>\n          {localMessages.map((message) => (\n            <div key={message.id}>\n              {message.message?.date && (\n                <CustomSeparator\n                  date={message.message.date}\n                  darkMode={darkMode}\n                />\n              )}\n              {message.message?.image ? (\n                <Message\n                  model={{\n                    message: message.message.text,\n                    direction: message.userId,\n                  }}\n                >\n                  <Message.ImageContent\n                    src={message.message.image}\n                    alt={\n                      \"The image isn't working link: \" + message.message.image\n                    }\n                    width={400}\n                  />\n                </Message>\n              ) : message.message?.audio ? (\n                <Message\n                  model={{\n                    message: message.message.text,\n                    direction: message.userId,\n                    type: 'image',\n                  }}\n                >\n                  <Message.CustomContent>\n                    <ReactAudioPlayer src={message.message.audio} controls />\n                  </Message.CustomContent>\n                </Message>\n              ) : message.message?.file ? (\n                <Message\n                  model={{\n                    message: message.message.text,\n                    direction: message.userId,\n                  }}\n                >\n                  <Message.CustomContent>\n                    <a\n                      href={message.message.file}\n                      target=\"_blank\"\n                      download\n                      rel=\"noreferrer\"\n                    >\n                      {message.message.text}\n                    </a>\n                  </Message.CustomContent>\n                  <Message.Footer>\n                    <div style={localStyles.messageFooter}>\n                      {new Date(\n                        Date.parse(message.message.createdOn)\n                      ).toLocaleTimeString()}\n                    </div>\n                  </Message.Footer>\n                </Message>\n              ) : (\n                <Message\n                  model={{\n                    message: message.message.text,\n                    direction: message.userId,\n                  }}\n                >\n                  <Message.CustomContent>\n                    <div style={localStyles.customMessage}>\n                      <Linkify componentDecorator={componentDecorator}>\n                        {message.message.text}\n                      </Linkify>\n                    </div>\n                  </Message.CustomContent>\n                  <Message.Footer>\n                    <div style={localStyles.messageFooter}>\n                      {new Date(\n                        Date.parse(message.message.createdOn)\n                      ).toLocaleTimeString()}\n                    </div>\n                  </Message.Footer>\n                </Message>\n              )}\n            </div>\n          ))}\n          <div style={{ width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n            <IconButton\n              style={localStyles.iconsButton}\n              aria-label=\"newer\"\n              onClick={() => {\n                if (page != 1)\n                  newerMessages();\n              }}\n            >\n              <NavigateBeforeIcon style={styles.icons} fontSize=\"large\" />\n            </IconButton>\n            <div style={localStyles.emptyMessages}>{page} - {Math.ceil(messages.length / 30)} </div>\n            <IconButton\n              style={localStyles.iconsButton}\n              aria-label=\"older\"\n              onClick={() => {\n                olderMessages();\n              }}\n            >\n              <NavigateNextIcon style={styles.icons} fontSize=\"large\" />\n            </IconButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import { mainTheme, darkTheme } from './themes';\nconst theme = mainTheme;\nexport const lightStyles = {\n  root: {\n    flex: 1,\n    width: '95%',\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  flex1: {\n    flex: 1,\n  },\n  chartWrapper: {\n    width: '100%',\n    height: '100%',\n    marginTop: 10,\n  },\n  chartDiv: {\n    width: '100%',\n    height: '30.4%',\n  },\n  rightLowerCorner: {\n    width: '30vw',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: '1vw',\n    marginTop: '1vh',\n    height: '39.3vh',\n  },\n  text: {\n    textAlign: 'center',\n    verticalAlign: 'center',\n    top: 0,\n    position: 'relative',\n    color: theme.primary.red,\n    fontSize: 20,\n  },\n  leftSideCard: {\n    textAlign: 'center',\n    width: '100%',\n    height: '15vh',\n    margin: 10,\n    fontSize: 20,\n    alignVertical: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center', //Centered vertically\n    alignItems: 'center',\n  },\n  rightSideCard: {\n    textAlign: 'center',\n    width: '100%',\n    height: '15vh',\n    marginTop: 10,\n    fontSize: 20,\n    alignVertical: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center', //Centered vertically\n    alignItems: 'center',\n  },\n  rightSideDiv: {\n    flex: 1,\n    width: '50%',\n  },\n  paper: {\n    textAlign: 'center',\n    width: '30vw',\n    height: '6vh',\n    margin: 10,\n    fontSize: 20,\n    alignVertical: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center', //Centered vertically\n    alignItems: 'center',\n    color: mainTheme.primary.black,\n  },\n  chartMargin: {\n    top: 16,\n    right: 16,\n    bottom: 0,\n    left: 24,\n  },\n  medicineItems: {\n    listStyleType: 'none',\n    flex: 1,\n  },\n  medicinesText: {\n    listStyleType: 'none',\n    flex: 1,\n  },\n  patientName: {\n    flex: 1,\n    margin: 10,\n    height: '5vh',\n  },\n  clickPopever: {\n    width: '5vw',\n    margin: 10,\n    height: '5vh',\n  },\n  medicineTextPaper: {\n    width: '5vw',\n    margin: 10,\n    height: '5vh',\n  },\n  textColor: {\n    color: 'black',\n  },\n  educatorsDiv: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n  educatorsButton: {\n    width: '40%',\n    margin: 5,\n    backgroundColor: theme.secondary.lightBlue,\n  },\n  contentWrapper: {\n    flex: 1,\n    width: '50%',\n  },\n  rightBottomRightDiv: {\n    display: 'flex',\n    flexDirection: 'row',\n    // flex: 1,\n    height: '50.8%',\n  },\n  rightSideLeftColumn: {\n    width: '50%',\n    marginRight: 10,\n  },\n  rightSideRightColumn: {\n    width: '50%',\n    height: '85%',\n  },\n};\nexport const darkStyles = {\n  root: {\n    flex: 1,\n    width: '95%',\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  flex1: {\n    flex: 1,\n  },\n  chartWrapper: {\n    width: '100%',\n    height: '100%',\n    marginTop: 10,\n    backgroundColor: darkTheme.primary.black,\n  },\n  chartDiv: {\n    width: '100%',\n    height: '30.4%',\n  },\n  rightLowerCorner: {\n    width: '30vw',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: '1vw',\n    marginTop: '1vh',\n    height: '39.3vh',\n  },\n  text: {\n    textAlign: 'center',\n    verticalAlign: 'center',\n    top: 0,\n    position: 'relative',\n    color: darkTheme.primary.red,\n    fontSize: 20,\n  },\n  leftSideCard: {\n    textAlign: 'center',\n    width: '100%',\n    height: '15vh',\n    margin: 10,\n    fontSize: 20,\n    alignVertical: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center', //Centered vertically\n    alignItems: 'center',\n    backgroundColor: darkTheme.primary.black,\n  },\n  rightSideCard: {\n    textAlign: 'center',\n    width: '100%',\n    height: '15vh',\n    marginTop: 10,\n    fontSize: 20,\n    alignVertical: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center', //Centered vertically\n    alignItems: 'center',\n    backgroundColor: darkTheme.primary.black,\n  },\n  rightSideDiv: {\n    flex: 1,\n    width: '50%',\n  },\n  paper: {\n    textAlign: 'center',\n    width: '30vw',\n    height: '6vh',\n    margin: 10,\n    fontSize: 20,\n    alignVertical: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center', //Centered vertically\n    alignItems: 'center',\n    color: mainTheme.primary.black,\n  },\n  chartMargin: {\n    top: 16,\n    right: 16,\n    bottom: 0,\n    left: 24,\n  },\n  medicineItems: {\n    listStyleType: 'none',\n    flex: 1,\n  },\n  medicinesText: {\n    listStyleType: 'none',\n    flex: 1,\n  },\n  patientName: {\n    flex: 1,\n    margin: 10,\n    height: '5vh',\n    backgroundColor: darkTheme.primary.black,\n  },\n  clickPopever: {\n    width: '5vw',\n    margin: 10,\n    height: '5vh',\n  },\n  medicineTextPaper: {\n    width: '5vw',\n    margin: 10,\n    height: '5vh',\n  },\n  textColor: { color: darkTheme.secondary.lightGrey },\n  educatorsDiv: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n  educatorsButton: {\n    width: '40%',\n    margin: 5,\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  contentWrapper: {\n    flex: 1,\n    width: '50%',\n  },\n  rightBottomRightDiv: {\n    display: 'flex',\n    flexDirection: 'row',\n    // flex: 1,\n    height: '50%',\n  },\n  rightSideLeftColumn: {\n    width: '50%',\n    marginRight: 10,\n  },\n  rightSideRightColumn: {\n    width: '50%',\n    height: '85%',\n  },\n};\n","import React from 'react'\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport {lightStyles, darkStyles} from '../styles/patientProfileStyles'\nimport { useSelector } from 'react-redux';\nconst ProfileCard = ({text, description, style}) => {\n    const {darkMode} = useSelector((state) => state.auth)\n    const styles = !darkMode? lightStyles : darkStyles\n    return (\n      <Card color style={style}>\n        <CardContent>\n          <Typography style={styles.text} variant=\"h5\" component=\"h2\">\n            {description}\n          </Typography>\n          <Typography style={styles.textColor}>{text}</Typography>\n        </CardContent>\n      </Card>\n    );\n  };\n\nexport default ProfileCard","import {darkTheme, mainTheme} from './themes'\nconst theme = mainTheme\nexport const lightStyles = {\n    root: {height:'80%',minHeight:'100%',maxHeight:310, },\n    card:{ width: '100%', height: '100%', marginTop: 10 },\n    text: {\n        textAlign: 'center',\n        verticalAlign: 'center',\n        top: 0,\n        position: 'relative',\n        color: theme.primary.red,\n        fontSize: 20,\n      },\n      listDiv:{ height: '90%', overflow: 'auto'},\n      button:{\n        width: '90%',\n        height: 40,\n        marginTop:10,\n        marginLeft: 15,\n        marginRight:15,\n        backgroundColor: theme.secondary.lightBlue,\n      }\n}\nexport const darkStyles = {\n    root: {height:'80%',minHeight:'100%',maxHeight:310, },\n    card:{ width: '100%', height: '100%', marginTop: 10 , backgroundColor:darkTheme.primary.black},\n    text: {\n        textAlign: 'center',\n        verticalAlign: 'center',\n        top: 0,\n        position: 'relative',\n        color: theme.primary.red,\n        fontSize: 20,\n      },\n      listDiv:{ height: '90%', overflow: 'auto'},\n      button:{\n        \n        width: '90%',\n        height: 40,\n        marginTop:10,\n        marginLeft: 15,\n        marginRight:15,\n        backgroundColor: darkTheme.secondary.mainBlue,\n      }\n}","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { darkStyles, lightStyles } from '../styles/patientAppointmentsStyles';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport { setFetchedEducatorIdReducer } from '../redux/reducers/educatorsReducer';\nimport { getAppointmentsAction } from '../redux/reducers/patientReducer';\nimport { getAppointmentsEducators } from '../helpers';\nconst RenderAppointments = ({ patientId, educators, darkMode }) => {\n  const dispatch = useDispatch();\n  const [localAppointments, setLocalAppointments] = useState([]);\n  const { token, educatorId } = useSelector((state) => state.auth);\n  const { appointments } = useSelector((state) => state.patient);\n  useEffect(() => {\n    dispatch(getAppointmentsAction({ educatorId, token, patientId }));\n  }, [patientId]);\n  useEffect(() => {\n    if (appointments)\n      setLocalAppointments(getAppointmentsEducators(educators, appointments));\n  }, [appointments]);\n  const goToEducator = (educatorId) => {\n    dispatch(setFetchedEducatorIdReducer(educatorId));\n  };\n  const styles = !darkMode ? lightStyles : darkStyles;\n  return (\n    <div style={styles.root}>\n      <Card style={styles.card}>\n        <Typography style={styles.text} variant=\"h5\" component=\"h2\">\n          Appointments\n        </Typography>\n        <div style={styles.listDiv}>\n          {localAppointments?.map((appointment) => {\n            return (\n              <Button\n              key={appointment.id}\n                variant=\"contained\"\n                onClick={() => goToEducator(appointment.educatorId)}\n                style={styles.button}\n              >\n                <div key={appointment.id}>\n                  {appointment.date.split('T')[0]} {appointment.name}\n                </div>\n              </Button>\n            );\n          })}\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default RenderAppointments;\n","export const concatProfile = (patientProfile, profileValue) => {\n  //getting prfileValue without the last character\n  const valueInside = profileValue.substring(0, profileValue.length - 1);\n  let result = '';\n  if (patientProfile?.[profileValue])\n    //concating each value srting to the result\n    patientProfile[profileValue].forEach((item) => {\n      result = result.concat(item?.[valueInside] + '\\n');\n    });\n  return result;\n};\nexport const getAppointmentsEducators = (educators, appointments) => {\n  const tempAppointments = [];\n  if (educators) {\n    educators.forEach((educator) => {\n      tempAppointments.push(\n        appointments\n          .filter((appointment) => {\n            return educator.id === appointment.educatorId;\n          })\n          .map((appointment) => {\n            return {\n              date: appointment.date,\n              educatorId: appointment.educatorId,\n              name: educator.name,\n            };\n          })\n      );\n    });\n  }\n\n  return tempAppointments.flat();\n};\n","import React, { useEffect } from 'react';\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  ResponsiveContainer,\n  Label,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport { lightStyles as styles } from '../styles/patientProfileStyles';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useState } from 'react';\nconst ProfileChart = ({ text, hba1cs, weights, height }) => {\n  const theme = useTheme();\n  function createData(date, hba1c, weight, height) {\n    return { date, hba1c, weight, height };\n  }\n  const [data, setData] = useState([])\n  useEffect(() => {\n    let tempData = []\n    hba1cs?.forEach((hba1c) => {\n\n      tempData.push(\n        createData(\n          hba1c?.createdOn?.split('T')[0],\n          weights?.[0]?.weight,\n          hba1c?.hba1c,\n          height\n        )\n      );\n    });\n    setData(tempData)\n  }, [hba1cs]);\n  \n  return (\n    <React.Fragment>\n      <ResponsiveContainer>\n        <LineChart data={data} margin={styles.chartMargin}>\n          <XAxis dataKey=\"date\" stroke={theme.palette.text.secondary} />\n          <YAxis stroke={theme.palette.text.secondary}>\n            <Label\n              angle={270}\n              position=\"left\"\n              style={{\n                textAnchor: 'middle',\n                fill: theme.palette.text.primary,\n              }}\n            >\n              {text}\n            </Label>\n          </YAxis>\n          <Tooltip />\n          <Legend />\n          <Line\n            type=\"monotone\"\n            dataKey=\"hba1c\"\n            stroke=\"#8884d8\"\n            activeDot={{ r: 8 }}\n          />\n          <Line\n            type=\"monotone\"\n            dataKey=\"weight\"\n            stroke=\"#8884d8\"\n            activeDot={{ r: 8 }}\n          />\n          <Line type=\"monotone\" dataKey=\"height\" stroke=\"#82ca9d\" />\n        </LineChart>\n      </ResponsiveContainer>\n    </React.Fragment>\n  );\n};\nexport default ProfileChart;\n","import React from 'react'\nimport {lightStyles, darkStyles} from '../styles/patientProfileStyles'\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { useDispatch } from 'react-redux';\nimport {setFetchedEducatorIdReducer} from '../redux/reducers/educatorsReducer'\nconst PatientEducators = ({localEducators, darkMode}) => {\n    const dispatch = useDispatch()\n\n    const styles = !darkMode ? lightStyles : darkStyles\n\n    const goToEducator = (educatorId) => {\n        dispatch(setFetchedEducatorIdReducer(educatorId));\n      };\n    return (\n      <Card color style={styles.rightSideCard}>\n        <CardContent>\n          <Typography style={styles.text} variant=\"h5\" component=\"h2\">\n            Educators\n          </Typography>\n          <div style={styles.educatorsDiv}>\n            {localEducators?.map((educator) => (\n              <Button\n                variant=\"contained\"\n                onClick={() => {\n                  goToEducator(educator.id);\n                }}\n                style={styles.educatorsButton}\n              >\n                <text>{educator.name}</text>\n              </Button>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    );\n  };\nexport default PatientEducators","import React, { useEffect, useState } from 'react';\n\nimport { concatProfile } from '../helpers';\n// redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPatientAction } from '../redux/reducers/patientReducer';\n// ui\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport '../App.css';\nimport { lightStyles, darkStyles } from '../styles/patientProfileStyles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport RenderCard from '../components/ProfileCard';\nimport PatientAppointments from '../components/PatientAppointments';\nimport ProfileChart from '../components/ProfileChart';\nimport PatientEducators from '../components/PatientEducators';\n\nconst lang = {\n  ar: {\n    name: 'الاسم',\n    dateAffectedText: 'مصاب منذ',\n    dateBirthText: 'سنة الميلاد',\n    dietText: 'النظام الغذائي المتبع',\n    diseaseText: 'المرض',\n    weightText: 'الوزن',\n    heightText: 'الطول',\n    Hba1CText: 'Hba1C',\n    medicinesText: 'الأدوية',\n    sexText: 'الجنس',\n    surgeryText: 'العمليات الجراحية',\n    otherDiseaseText: 'الأمراض الأخرى',\n    whoIsPatientText: 'من المتلقي',\n    outSideLinkText: 'رابط ملف خارجي',\n    topicsText: 'المواضيع',\n    saveText: 'حفظ',\n    needPayment: 'بحاجه للدفع',\n  },\n};\n\nconst PatientProfile = () => {\n\n  const dispatch = useDispatch();\n\n  const [dateAffected, setDateAffected] = useState('');\n  const [dateBirth, setDateBirth] = useState('');\n  const [weights, setWeights] = useState([]);\n  const [heights, setHeights] = useState([]);\n  const [hba1cs, setHba1cs] = useState([]);\n  const [medicines, setMedicines] = useState([]);\n  const [patientName, setPatientName] = useState('');\n  const [notes, setNotes] = useState([]);\n  const [diseaseType, setDiseaseType] = useState('');\n  const [sex, setSex] = useState('');\n  const [whoIsPatient, setWhoIsPatient] = useState('');\n  const [surgery, setSurgery] = useState('');\n  const [otherDisease, setOtherDisease] = useState('');\n  const [outSideLink, setOutSideLink] = useState('');\n  const [topics, setTopics] = useState([]);\n  const [diet, setDiet] = useState('');\n  const [localEducators, setLocalEducators] = useState([]);\n  const [filteredEducators, setFilteredEducators] = useState([]);\n  const { darkMode, educatorId, token, admin } = useSelector(\n    (state) => state.auth\n  );\n  const { patients, educators } = useSelector((state) => state.educators);\n  const { patientProfile, loading, patientId } = useSelector(\n    (state) => state.patient\n  );\n\n  const styles = !darkMode ? lightStyles : darkStyles;\n\n  useEffect(() => {\n    try {\n      if (patientProfile) {\n        setDateAffected(patientProfile?.dateAffected);\n        setDateBirth(patientProfile?.dateBirth);\n        setWeights(patientProfile?.weights);\n        setHeights(patientProfile?.height);\n        setHba1cs(patientProfile?.hba1cs);\n        setMedicines(concatProfile(patientProfile, 'medicines'));\n        setNotes(patientProfile?.notes);\n        setDiseaseType(patientProfile?.diseaseType);\n        setWhoIsPatient(patientProfile?.whoIsPatient);\n        setSurgery(patientProfile?.surgery);\n        setOtherDisease(patientProfile?.otherDisease);\n        setOutSideLink(patientProfile?.outSideLink);\n        setTopics(patientProfile?.topics);\n        setDiet(patientProfile?.diet);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [patientProfile]);\n  useEffect(() => {\n    const patient = Object.values(patients).filter((patient) => {\n      return patient?.patientId === patientProfile?.patientId;\n    })[0];\n\n    setPatientName(patient?.patientName);\n    setLocalEducators(\n      patient?.educators.map((educator) => ({\n        id: educator.id,\n        name: educator.name,\n      }))\n    );\n  }, [patients, patientProfile]);\n  useEffect(() => {\n    const educatorsIds = [];\n    if (localEducators) {\n      localEducators.forEach((educator) => {\n        educatorsIds.push(educator.id);\n      });\n      const filteredEducators = Object.values(educators).filter((educator) => {\n        return educatorsIds.includes(educator.id);\n      });\n      setFilteredEducators(filteredEducators);\n    }\n  }, [localEducators]);\n  useEffect(() => {\n    if (admin) dispatch(getPatientAction({ adminId:educatorId, token, patientId }));\n    else dispatch(getPatientAction({ educatorId, token, patientId }));\n  }, [patientId]);\n  const {\n    dateAffectedText,\n    name,\n    dateBirthText,\n    dietText,\n    diseaseText,\n    medicinesText,\n    otherDiseaseText,\n    outSideLinkText,\n    sexText,\n    surgeryText,\n    whoIsPatientText,\n    Hba1CText,\n    needPayment,\n  } = lang.ar;\n  const renderContent = () => {\n    return (\n      <div style={{ flex: 1 }}>\n        <Card style={styles.patientName}>\n          <div style={styles.text}>\n            {patientName} :{name}\n          </div>\n        </Card>\n\n        <div style={{ display: 'flex', flexDirection: 'row', flex: 1 }}>\n          <div style={{ width: '50%', marginRight: 15 }}>\n            <RenderCard\n              text={\n                dateAffected ? new Date(dateAffected).toLocaleDateString() : ''\n              }\n              description={dateAffectedText}\n              style={styles.leftSideCard}\n            />\n            <RenderCard\n              text={dateBirth ? new Date(dateBirth).toLocaleDateString() : ''}\n              description={dateBirthText}\n              style={styles.leftSideCard}\n            />\n            <RenderCard\n              text={diseaseType}\n              description={diseaseText}\n              style={styles.leftSideCard}\n            />\n            <RenderCard\n              text={sex}\n              description={sexText}\n              style={styles.leftSideCard}\n            />\n          </div>\n          <div style={{ width: '50%', marginRight: 20 }}>\n            <RenderCard\n              text={whoIsPatient}\n              description={whoIsPatientText}\n              style={styles.leftSideCard}\n            />\n\n            <RenderCard\n              text={surgery}\n              description={surgeryText}\n              style={styles.leftSideCard}\n            />\n            <RenderCard\n              text={otherDisease}\n              description={otherDiseaseText}\n              style={styles.leftSideCard}\n            />\n            <Card color style={styles.leftSideCard}>\n              <CardContent>\n                <Typography style={styles.text} variant=\"h5\" component=\"h2\">\n                  {outSideLinkText}\n                </Typography>\n                <a\n                  href={outSideLink}\n                  target=\"_blank\"\n                  style={styles.textColor}\n                  rel=\"noreferrer\"\n                >\n                  {outSideLink}\n                </a>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <div style={styles.flex1}>\n      {loading ? <CircularProgress animation=\"border\" /> : ''}\n      <div style={styles.root}>\n        <div style={styles.contentWrapper}>{renderContent()}</div>\n\n        <div style={styles.rightSideDiv}>\n          <div style={styles.chartDiv}>\n            <Card style={styles.chartWrapper}>\n              <ProfileChart\n                text={'unit'}\n                hba1cs={hba1cs}\n                weights={weights}\n                height={heights}\n              />\n            </Card>\n          </div>\n\n          <div style={styles.rightBottomRightDiv}>\n            <div style={styles.rightSideLeftColumn}>\n              <RenderCard\n                text={medicines}\n                description={medicinesText}\n                style={styles.rightSideCard}\n              />\n              <RenderCard\n                text={diet}\n                description={dietText}\n                style={styles.rightSideCard}\n              />\n              <RenderCard\n                text={patientProfile?.needPayment ? 'نعم' : 'لا'}\n                description={needPayment}\n                style={styles.rightSideCard}\n              />\n            </div>\n            <div style={styles.rightSideRightColumn}>\n              <PatientEducators\n                localEducators={localEducators}\n                darkMode={darkMode}\n              />\n              <PatientAppointments\n                patientId={patientId}\n                educators={filteredEducators}\n                darkMode={darkMode}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PatientProfile;\n","import { darkTheme} from '../styles/themes'\n\nexport const lightStyles = {\n  mainDev: {\n    height: '90%',\n    width: '100%',\n    marginTop: '2vh',\n    marginRight: '4vw',\n    marginBottom: '4vh',\n    overflow: 'auto',\n  },\n  root: {\n    minWidth: 275,\n    height: '30vh',\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  date: {\n    fontSize: 14,\n    marginRight: 20,\n    position: 'absolute',\n    right: 5,\n    bottom:5\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  learnMore: {\n    position: 'absolute',\n    left: 2,\n    bottom: 0,\n  },\n  learnMoreButton: {\n    backgroundColor: '#6AC6F7',\n  },\n  cardDev: {\n    width: '20vw',\n    marginRight: '2vh',\n    marginTop: '2vh',\n  },\n  cardContent: {\n    position: 'relative',\n    height: '100%',\n  },\n  color: 'initial'\n};\nexport const darkStyles = {\n  mainDev: {\n    height: '90%',\n    width: '100%',\n    marginTop: '2vh',\n    marginRight: '4vw',\n    marginBottom: '4vh',\n    overflow: 'auto',\n  },\n  root: {\n    minWidth: 275,\n    height: '30vh',\n    backgroundColor:darkTheme.primary.black\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  date: {\n    fontSize: 14,\n    marginRight: 20,\n    position: 'absolute',\n    right: 5,\n    bottom:5,\n    color:darkTheme.secondary.lightGrey\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  learnMore: {\n    position: 'absolute',\n    left: 2,\n    bottom: 0,\n  },\n  learnMoreButton: {\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  cardDev: {\n    width: '20vw',\n    marginRight: '2vh',\n    marginTop: '2vh',\n  },\n  cardContent: {\n    position: 'relative',\n    height: '100%',\n  },\n  color: 'secondary',\n  text:{\n    color:darkTheme.secondary.lightGrey\n  }\n};\n","import {  darkTheme } from './themes';\n\nexport const lightStyles = {\n  titleText: {fontSize:30},\n  text: { overflow: 'auto' },\n};\nexport const darkStyles = {\n  titleText: {fontSize:30,color: darkTheme.secondary.lightGrey},\n  text: { overflow: 'auto', color: darkTheme.secondary.lightGrey },\n};\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { useSelector } from 'react-redux';\nimport { lightStyles, darkStyles } from '../styles/readMoreStyles';\nconst ReadMore = ({ currentNote, setNotes }) => {\n  const { darkMode } = useSelector((state) => state.auth);\n  const styles = !darkMode ? lightStyles : darkStyles;\n  return (\n    <div>\n      <Button\n        onClick={() => {\n          setNotes();\n        }}\n      >\n        <ArrowBackIcon />\n      </Button>\n      <div style={styles.titleText}>{currentNote.title}</div>\n      <div style={styles.text}>{currentNote.text}</div>\n    </div>\n  );\n};\n\nexport default ReadMore;\n","import React, { useState,useEffect } from 'react';\nimport { useSelector,useDispatch } from 'react-redux';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { lightStyles, darkStyles } from '../styles/patientNotesStyles';\n\nimport '../App.css';\nimport ReadMore from '../components/ReadMore';\n\nimport {getPatientAction} from '../redux/reducers/patientReducer'\n\nconst PatientNotes = () => {\n  const dispatch = useDispatch()\n\n  const { patientProfile, patientId } = useSelector((state) => state.patient);\n  const { darkMode, educatorId, token, admin } = useSelector((state) => state.auth);\n\n  const [currentPage, setCurrentPage] = useState('notes');\n  const [currentNote, setCurrentNote] = useState(null);\n  const lang = {\n    ar: {\n      title: 'العنوان',\n      text: 'المحتوى',\n      date: 'التاريخ',\n      summary: 'الملخص',\n      goToPatient: 'اذهب للمريض',\n      patientName: 'اسم المريض',\n      learnMore: 'اقرا المزيد',\n      notes:'الملاحظات'\n    },\n  };\n  \n  const styles = !darkMode ? lightStyles : darkStyles;\n  useEffect(() => {\n    if (admin) dispatch(getPatientAction({ adminId:educatorId, token, patientId }));\n    else dispatch(getPatientAction({ educatorId, token, patientId }));\n  },[patientId])\n  const setReadMore = (note) => {\n    setCurrentNote(note);\n    setCurrentPage('readmore');\n  };\n  const setNotes = () => {\n    setCurrentPage('notes');\n  };\n  const renderCard = () => {\n    return patientProfile?.notes?.map((note) => (\n      <div style={styles.cardDev}>\n        <Card style={styles.root} variant=\"outlined\">\n          <CardContent style={styles.cardContent}>\n            <Typography color={styles.color} variant=\"h5\" component=\"h2\">\n              {note.title}\n            </Typography>\n            <Typography\n              color={styles.color}\n              style={styles.text}\n              variant=\"body2\"\n              component=\"p\"\n            >\n              {note.text}\n            </Typography>\n            <Typography color={styles.color} style={styles.date} gutterBottom>\n              {note.createdOn.split('T')[0]}\n            </Typography>\n            <Typography\n              style={styles.learnMore}\n              color=\"textSecondary\"\n              gutterBottom\n            >\n              <Button\n                size=\"small\"\n                style={styles.learnMoreButton}\n                onClick={() => setReadMore(note)}\n              >\n                {lang.ar.learnMore}\n              </Button>\n            </Typography>\n          </CardContent>\n        </Card>\n      </div>\n    ));\n  };\n  return (\n    <div style={styles.mainDev}>\n      <div style={{ width: '100%',}}>\n        <div style={{textAlign:'center',marginRight:50, fontSize:25}}>{lang.ar.notes}</div>\n      </div>\n      <div className=\"grid-container\">\n        {currentPage === 'notes' ? (\n          renderCard()\n        ) : (\n          <ReadMore currentNote={currentNote} setNotes={setNotes} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PatientNotes;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { lightStyles, darkStyles } from '../styles/patientNotesStyles';\n\nimport '../App.css';\nimport ReadMore from '../components/ReadMore';\n\nimport { getPatientAction } from '../redux/reducers/patientReducer';\n\nconst PatientSummaries = () => {\n  const dispatch = useDispatch();\n\n  const { patientProfile, patientId } = useSelector((state) => state.patient);\n  const { darkMode, educatorId, token, admin } = useSelector(\n    (state) => state.auth\n  );\n\n  const [currentPage, setCurrentPage] = useState('notes');\n  const [currentNote, setCurrentNote] = useState(null);\n  const lang = {\n    ar: {\n      title: 'العنوان',\n      text: 'المحتوى',\n      date: 'التاريخ',\n      summary: 'الملخص',\n      goToPatient: 'اذهب للمريض',\n      patientName: 'اسم المريض',\n      learnMore: 'اقرا المزيد',\n      summaries: 'الملخصات',\n    },\n  };\n  const styles = !darkMode ? lightStyles : darkStyles;\n  useEffect(() => {\n    if (admin)\n      dispatch(getPatientAction({ adminId: educatorId, token, patientId }));\n    else dispatch(getPatientAction({ educatorId, token, patientId }));\n  }, [patientId]);\n  const renderReadMore = (note) => {\n    setCurrentNote(note);\n    setCurrentPage('readmore');\n  };\n  const renderNotes = () => {\n    setCurrentPage('notes');\n  };\n  const renderCard = () => {\n    return patientProfile?.summaries?.map((note) => (\n      <div style={styles.cardDev}>\n        <Card style={styles.root} variant=\"outlined\">\n          <CardContent style={styles.cardContent}>\n            <Typography color={styles.color} variant=\"h5\" component=\"h2\">\n              {note.title}\n            </Typography>\n            <Typography\n              color={styles.color}\n              style={styles.text}\n              variant=\"body2\"\n              component=\"p\"\n            >\n              {note.text}\n            </Typography>\n            <Typography color={styles.color} style={styles.date} gutterBottom>\n              {note.createdOn.split('T')[0]}\n            </Typography>\n            <Typography\n              style={styles.learnMore}\n              color=\"textSecondary\"\n              gutterBottom\n            >\n              <Button\n                size=\"small\"\n                style={styles.learnMoreButton}\n                onClick={() => renderReadMore(note)}\n              >\n                {lang.ar.learnMore}\n              </Button>\n            </Typography>\n          </CardContent>\n        </Card>\n      </div>\n    ));\n  };\n  return (\n    <div style={styles.mainDev}>\n      <div style={{ width: '100%' }}>\n        <div style={{ textAlign: 'center', marginRight: 50, fontSize: 25 }}>\n          {lang.ar.summaries}\n        </div>\n      </div>\n      <div className=\"grid-container\">\n        {currentPage === 'notes' ? (\n          renderCard()\n        ) : (\n          <ReadMore currentNote={currentNote} setNotes={renderNotes} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PatientSummaries;\n","import { mainTheme, darkTheme } from './themes';\n\nconst theme = mainTheme;\n\nexport const lightStyles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    height: '90%',\n    width: '100%',\n    backgroundColor: theme.primary.black,\n  },\n  card: {\n    width: '95%',\n    display: 'flex',\n    direction: 'row',\n    padding: 10,\n    marginTop: 10,\n    marginBottom: 10,\n    backgroundColor: theme.primary.white,\n    borderRadius:10\n  },\n\n  buttonsText: {\n    marginTop: 5,\n    marginRight: 5,\n    backgroundColor: theme.primary.black,\n    color: theme.primary.white,\n  },\n  icons: {\n    color: theme.primary.black,\n  },\n  goToPatientButton: {\n    width: '6vw',\n    marginLeft: '2vw',\n    backgroundColor: '#6D9DC5',\n  },\n  mianDev: {\n    marginLeft: 20,\n    width: '100%',\n    height: '100%',\n  },\n  iconsDev: {\n    width: '100%',\n    height: '100%',\n  },\n  listDev: {\n    width: '20%',\n    backgroundColor: theme.primary.bluishWhite,\n  },\n  rightColumn: {\n    width: '80%',\n    height: '100%',\n  },\n  cardContainer: theme.primary.white,\n  listHeaderDiv: {\n    display: 'block',\n    backgroundColor: theme.primary.white,\n    textAlign: 'center',\n    padding: 10,\n  },\n  patientListName: {\n    color: 'black',\n  },\n  listAppointemntsButton: {\n    width: '100%',\n    backgroundColor: theme.primary.bluishWhite,\n  },\n  popUpDiv: { height: '10vh', width: '10vw', backgroundColor: 'white' },\n  calendarMainDiv: { flex: 1 },\n  headerListDiv: { width: '20%', height: '10%' },\n  calendarContentDiv: { width: '100%', height: '90%' },\n  calendarCardDiv: { flex: 1, display: 'flex', justifyContent: 'center' },\n  calendarCard: {\n    display: 'flex',\n    height: '60%',\n    width: '100%',\n    marginLeft: '15%',\n    marginRight: '15%',\n    alignContent: 'center',\n    alignItems: 'center',\n    backgroundColor: theme.secondary.lightBlue,\n  },\n  calendarDiv: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  calendar: { height: 500, width: '90%', marginTop: '5%', marginBottom: '5%' },\n};\nexport const darkStyles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    height: '90.5vh',\n    width: '100%',\n    backgroundColor: darkTheme.primary.black,\n  },\n  buttonsText: {\n    marginTop: 5,\n    marginRight: 5,\n    backgroundColor: darkTheme.primary.black,\n    color: darkTheme.primary.white,\n  },\n  icons: {\n    color: darkTheme.secondary.lightGrey,\n  },\n  goToPatientButton: {\n    width: '6vw',\n    marginLeft: '2vw',\n    backgroundColor: darkTheme.secondary.lightBlue,\n  },\n  mianDev: {\n    marginLeft: 20,\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n  },\n  iconsDev: {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n  },\n  listDev: {\n    width: '20%',\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  rightColumn: {\n    width: '80%',\n    height: '100%',\n  },\n  cardContainer: darkTheme.secondary.darkBlue,\n  listHeaderDiv: {\n    display: 'block',\n    backgroundColor: darkTheme.secondary.darkBlue,\n    textAlign: 'center',\n    padding: 10,\n  },\n  card: {\n    width: '95%',\n    display: 'flex',\n    direction: 'row',\n    padding: 10,\n    marginTop: 10,\n    marginBottom: 10,\n    backgroundColor: theme.primary.white,\n    borderRadius:10,\n  },\n  patientListName: {\n    color: darkTheme.secondary.lightGrey,\n  },\n  listAppointemntsButton: {\n    width: '100%',\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  popUpDiv: {\n    height: '10vh',\n    width: '10vw',\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  calendarMainDiv: { flex: 1 },\n  headerListDiv: { width: '20%', height: '10%' },\n  calendarContentDiv: { width: '100%', height: '90%' },\n  calendarCardDiv: { flex: 1, display: 'flex', justifyContent: 'center' },\n  calendarCard: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    marginLeft: '15%',\n    marginRight: '15%',\n    alignContent: 'center',\n    alignItems: 'center',\n    backgroundColor: theme.primary.black,\n  },\n  calendarDiv: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  calendar: { height: 600, width: '90%', marginTop: '5%', marginBottom: '5%' },\n};\n","import React from 'react'\nimport { momentLocalizer, Calendar } from 'react-big-calendar';\nimport moment from 'moment';\nimport {darkStyles, lightStyles} from '../styles/showPatientsViewStyles'\nimport Card from '@material-ui/core/Card';\nimport convoStyles from 'react-big-calendar/lib/css/react-big-calendar.css';\n\nconst localizer = momentLocalizer(moment);\nconst CalendarView = ({currentEducator, darkMode, goToPatient}) => {\n\n    const styles = !darkMode ? lightStyles : darkStyles\n    let appointments = [];\n    if (currentEducator) {\n      const educatorAppointments = currentEducator.appointments;\n      educatorAppointments.forEach((appointment) => {\n        appointments.push({\n          appointmentId: appointment.appointmentId,\n          date: new Date(appointment.date.split('T')[0]),\n          name: appointment.name,\n          time: appointment.time,\n          patientId: appointment.patientId,\n        });\n      });\n    }\n\n    if (!appointments || (appointments && !Object.keys(appointments).length)) {\n      return null;\n    }\n    let upComing = 0;\n    const calendarAppointments = appointments.map((appointment) => {\n      let date = new Date(appointment.date);\n      if (date > Date.now()) upComing++;\n      date.setHours(appointment.time.split(':')[0]);\n\n      return {\n        id: appointment.appointmentId,\n        title: appointment.name,\n        allDay: false,\n        start: date,\n        end: date,\n        patinetId: appointment.patientId,\n      };\n    });\n\n    return (\n      <div style={styles.calendarCardDiv}>\n        <Card elevation={5} style={styles.calendarCard}>\n          <div style={styles.calendarDiv}>\n            <div\n              style={{\n                alignSelf: 'start',\n                marginLeft: 10,\n                marginTop: 5,\n                fontSize: 20,\n              }}\n            >\n              Upcoming Appointments: {upComing}\n            </div>\n            <Calendar\n              localizer={localizer}\n              events={calendarAppointments}\n              startAccessor=\"start\"\n              endAccessor=\"end\"\n              style={styles.calendar}\n              onSelectEvent={(e) => {\n                goToPatient(e?.patinetId);\n              }}\n            />\n          </div>\n        </Card>\n      </div>\n    );\n  };\n\nexport default CalendarView","import {darkTheme, mainTheme} from './themes'\n\nconst theme = mainTheme;\n\nexport const lightStyles = {\n  mainDiv: { height: '76vh', overflow: 'auto' },\n  uperDiv: { display: 'flex', flexDirection: 'row', height: 50 },\n  input: {\n    height: '100%',\n    width: '100%',\n    alignSelf: 'end',\n    justifyContent: 'end',\n    borderColor: 'white',\n    textAlign: 'end',\n    backgroundColor: theme.primary.bluishWhite,\n  },\n  convo: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  accountIcon: { marginRight: 5 },\n  inputDiv:{\n    width:'70%'\n  },\n  switchDiv: {\n    width: '30%',\n    height: '100%',\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom:10\n  },\n  allChatsSwitch: {\n  },\n  allChatsText: {\n    marginBottom: -5,\n    fontSize: 14,\n    width: '100%',\n    textAlign: 'center',\n    height:20\n  },\n  patientListName: {\n    color: 'black',\n  },\n};\nexport const darkStyles = {\n  mainDiv: { height: '76vh', overflow: 'auto' },\n  uperDiv: { display: 'flex', flexDirection: 'row', height: 50 },\n  input: {\n    height: '100%',\n    width: 300,\n    alignSelf: 'end',\n    justifyContent: 'end',\n    borderColor: darkTheme.secondary.darkBlue,\n    textAlign: 'end',\n    backgroundColor: darkTheme.secondary.mainBlue,\n  },\n  convo: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  inputDiv:{\n    width:'70%'\n  },\n  switchDiv: {\n    width: '30%',\n    height: '100%',\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom:10\n  },\n  allChatsSwitch: {\n    backgroundColor: theme.secondary.lightBlue,\n    // margin: 2,\n  },\n  allChatsText: {\n    marginBottom: -5,\n    fontSize: 16,\n    width: '100%',\n    textAlign: 'center',\n  },\n  accountIcon: { marginRight: 5 },\n  patientListName: {\n    color: 'black',\n  },\n};\n","import React, { useEffect, useState } from 'react';\nimport Input from '@material-ui/core/Input';\nimport { Conversation } from '@chatscope/chat-ui-kit-react';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { darkStyles, lightStyles } from '../styles/patientListStyles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\n\nconst PatientList = ({\n  localPatients,\n  allPateints,\n  activateChat,\n  patientId,\n  darkMode,\n  setSearchTerm,\n  searchTerm,\n  allChatsLoading,\n  checkedAllChats,\n  setCheckedAllChats,\n}) => {\n  const [filteredPatients, setFilteredPatients] = useState([]);\n  const lang = {\n    ar: {\n      allChats: 'جميع المحادثات',\n      searchHolder: 'ابحث',\n    },\n  };\n\n  const styles = !darkMode ? lightStyles : darkStyles;\n  useEffect(() => {\n    if (checkedAllChats) allPateints();\n  },[checkedAllChats])\n  useEffect(() => {\n    \n    if (!localPatients.length) {\n      setFilteredPatients([]);\n      return null;\n    }\n    let patients;\n    searchTerm === ''\n      ? (patients = localPatients)\n      : (patients = localPatients?.filter((patient) => {\n          return (\n            patient?.patientName?.toLowerCase().includes(searchTerm) ||\n            patient?.id?.includes(searchTerm)\n          );\n        }));\n    setFilteredPatients(patients);\n  }, [localPatients, searchTerm,]);\n\n  return (\n    <div>\n      <div style={styles.mainDiv}>\n        <div style={styles.uperDiv}>\n          <div style={styles.inputDiv} dir=\"rtl\">\n            <Input\n              style={styles.input}\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value.toLowerCase())}\n              placeholder={lang.ar.searchHolder}\n            />\n          </div>\n          <div style={styles.switchDiv}>\n            <Typography style={styles.allChatsText}>\n              {lang.ar.allChats}\n            </Typography>\n            <Switch\n              style={styles.allChatsSwitch}\n              checked={checkedAllChats}\n              onChange={() => {\n                setCheckedAllChats(!checkedAllChats);\n              }}\n              name=\"checkedB\"\n              color=\"primary\"\n            />\n          </div>\n        </div>\n        {allChatsLoading ? <LinearProgress /> : null}\n        {filteredPatients?.map((patient) => (\n          <Conversation\n            key={patient.id}\n            active={patientId === patient.patientId}\n            onClick={() => activateChat(patient.id, patient.patientId)}\n          >\n            <Conversation.Content>\n              <div style={styles.convo}>\n                <AccountCircleIcon\n                  fontSize=\"large\"\n                  style={styles.accountIcon}\n                ></AccountCircleIcon>\n                <div style={styles.patientListName}>{patient.patientName}</div>\n              </div>\n            </Conversation.Content>\n          </Conversation>\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default PatientList;\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { commonState } from '../../../helpers/commonReducerState';\nimport axios from 'axios';\nimport url from '../../../config/apiConfig';\n\nexport const addRefrralsAction = createAsyncThunk(\n  'refrrals/addRefrralsAction',\n  async (\n    { name, phone, specialty, referCode, medium, referAction, token, adminId },\n    { rejectWithValue }\n  ) => {\n    const data = { name, phone, specialty, referCode, referAction, medium };\n\n    return axios\n      .post(`${url}/referrer?adminId=${adminId}`, data, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        if (res.data) {\n          return res.data;\n        } else return rejectWithValue('credintials');\n      })\n      .catch((e) => {\n        console.log('error ', e);\n        return rejectWithValue('credintials');\n      });\n  }\n);\nexport const getRefrralsAction = createAsyncThunk(\n  'refrrals/getRefrralsAction',\n  async ({ token, adminId }, { rejectWithValue }) => {\n    return axios\n      .get(`${url}/referrers?adminId=${adminId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => {\n        if (res.data) {\n          return res.data;\n        } else return rejectWithValue('credintials');\n      })\n      .catch((e) => {\n        console.log('error ', e);\n      });\n  }\n);\nconst initialState = {\n  referral: null,\n  referrers: [],\n  added: false,\n  ...commonState,\n};\nconst refrralsReducer = createSlice({\n  name: 'refrrals',\n  initialState,\n  reducers: {\n    clearAll: () => initialState,\n    clearErrors: (state, action) => {\n      state.added = false;\n      state.error = false;\n      state.loading = false;\n    },\n  },\n\n  extraReducers: {\n    [getRefrralsAction.fulfilled]: (state, action) => {\n      state.referrers = action.payload;\n    },\n    [getRefrralsAction.rejected]: (state, action) => {\n      state.error = action.payload;\n    },\n    [addRefrralsAction.fulfilled]: (state, action) => {\n      state.referrers.push(action.payload);\n      state.loading = false;\n      state.error = false;\n      state.added = true;\n    },\n    [addRefrralsAction.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [addRefrralsAction.rejected]: (state, action) => {\n      state.error = true;\n      state.loading = false;\n      state.added = false;\n    },\n  },\n});\n\nexport const {\n  clearAll: clearAllRefrralsAction,\n  clearErrors: clearErrorsAction,\n} = refrralsReducer.actions;\n\nexport default refrralsReducer.reducer;\n","const styles = {\n  iconsButton: { height: 50, width: 50, marginLeft: 20, marginTop: 10 },\n  closeIcon: { height: 50, width: 50 },\n  mainContainer: {\n    display: 'flex',\n    flex: 1,\n    paddingBottom: 50,\n    height: '100%',\n  },\n  leftHalf: {\n    height: '100%',\n    width: '30%',\n    alignContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  addLinkText: { textAlign: 'center', fontSize: 20 },\n  formDiv: { height: '100%', width: '70%', alignSelf: 'center' },\n  formText: { justifyContent: 'center', width: '100%', marginTop: '10%' },\n  menuButton: { justifyContent: 'center', width: '100%', marginTop: '10%', border: '1px solid gray' },\n  discountContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginTop: '10%'\n  },\n  discountInput: {\n    display: 'flex',\n    flex: 3,\n    justifyContent: 'center',\n  },\n  discountUnit: {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    marginLeft: '5%'\n  },\n  formButton: {\n    justifyContent: 'center',\n    width: '100%',\n    height: 50,\n  },\n  divider: { height: '90%', width: 2, backgroundColor: 'grey' },\n  rightHalf: {\n    height: '100%',\n    width: '70%',\n  },\n  rightMainContainer: {\n    padding: 15,\n    height: '95%',\n    overflow: 'auto',\n  },\n  numberOfLinks: { marginLeft: 30, fontSize: 20 },\n  linksWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  linkCardDiv: {\n    width: '48%',\n    marginLeft: 10,\n    right: 0,\n  },\n  linkCard: {\n    marginTop: 10,\n    paddingRight: 20,\n    paddingLeft: 20,\n  },\n  linkText: { textAlign: 'end', fontSize: 18 },\n  error: {\n    width: '100%',\n    marginTop: '10%',\n    textAlign: 'center',\n  },\n  errorDiscountINput: {\n    width: '100%',\n    marginTop: '5%',\n    textAlign: 'center',\n    color: 'red',\n  },\n  fullUrlText: {\n    overflowWrap: 'break-word',\n    textAlign: 'end',\n    fontSize: 18,\n    maxWidth: '90%',\n  },\n  fullUrlDiv: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  }\n};\nexport default styles;\n","import React, { useEffect, useState } from 'react';\n//redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addRefrralsAction,\n  getRefrralsAction,\n  clearErrorsAction,\n} from '../redux/reducers/refrralsReducer';\n//UI\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Card } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CloseIcon from '@material-ui/icons/Close';\nimport styles from '../styles/refrralsStyles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst Refrrals = ({ setActiveList }) => {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(null);\n  const [phone, setPhone] = useState(null);\n  const [specialty, setSpecialty] = useState(null);\n  const [referCode, setReferCode] = useState(null);\n  const [medium, setMedium] = useState(null);\n  const [langText, setLangText] = useState({\n    ar: {\n      addLink: 'اضافة رابط',\n      numberOfLinks: 'عدد الروابط',\n      name: 'الاسم',\n      code: 'كود',\n      link: 'رابط',\n      date: 'تاريخ',\n      added: 'تمت الاضافه بنجاح',\n      error: 'حدث خطا',\n      discount: 'خصم'\n    },\n  });\n  const [lang, setLang] = useState('ar');\n  const [showMenu, setShowMenu] = React.useState(null);\n  const [visibleDiscountType, setVisibleDiscountType] = useState(null);\n  const [discountAmount, setDiscountAmount] = useState(null);\n  const [errorDiscount, setErrorDiscount] = useState(null);\n  const { token, educatorId } = useSelector((state) => state.auth);\n  const { referrers, loading, error, added } = useSelector(\n    (state) => state.refrrals\n  );\n  useEffect(() => {\n    dispatch(getRefrralsAction({ token, adminId: educatorId }));\n  }, []);\n\n  const submit = () => {\n    let referAction = null;\n    if (discountAmount) {\n      referAction = setReferAction()\n    }\n    if (name && phone && specialty && referCode && medium) {\n      dispatch(\n        addRefrralsAction({\n          name,\n          phone,\n          specialty,\n          referCode,\n          medium,\n          referAction,\n          token,\n          adminId: educatorId,\n        })\n      );\n    }\n  };\n\n  const setReferAction = () => {\n    if (visibleDiscountType === 'flat' && discountAmount) {\n      return `discount_flat_${discountAmount}`\n    }\n    if (visibleDiscountType === 'percentage' && discountAmount) {\n      return `discount_percentage_0.${discountAmount}`\n    }\n    return null;\n  }\n  const handleClick = (event) => {\n    setShowMenu(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setShowMenu(null);\n  };\n\n  const handleClickPercentDiscount = () => {\n    setDiscountAmount(null);\n    setVisibleDiscountType('percentage')\n    handleClose();\n  }\n\n  const handleClickFlatDiscount = () => {\n    setDiscountAmount(null);\n    setVisibleDiscountType('flat')\n    handleClose();\n  }\n\n  const handleNoneDiscount = () => {\n    setDiscountAmount(null);\n    setVisibleDiscountType(null)\n    handleClose();\n  }\n  const onChangeDiscountInput = (e) => {\n    const newVal = e.target.value;\n    setErrorDiscount(null);\n    if (newVal === '') {\n      setDiscountAmount('');\n      return;\n    }\n    if (visibleDiscountType === 'flat') {\n      if (newVal <= 0) {\n        setErrorDiscount('Amount must not be less than 0')\n      } else {\n        setDiscountAmount(newVal);\n      }\n    } else if (visibleDiscountType === 'percentage') {\n      if (newVal <= 0) {\n        setErrorDiscount('Amount must not be less than 0')\n      } else if (newVal > 100) {\n        setErrorDiscount('Amount must not be greater than 100')\n      } else {\n        setDiscountAmount(newVal);\n      }\n    }\n  }\n\n  const renderDiscountInput = () => {\n    switch (visibleDiscountType) {\n      case 'flat': return (\n        <div style={styles.discountContainer}>\n          <TextField\n            style={styles.discountInput}\n            value={discountAmount}\n            onChange={onChangeDiscountInput}\n            label=\"discount amount\"\n            variant=\"outlined\"\n            type='number'\n          />\n          <div style={styles.discountUnit}><h6>SAR</h6></div>\n        </div>\n      )\n      case 'percentage': return (\n        <div style={styles.discountContainer}>\n          <TextField\n            style={styles.discountInput}\n            value={discountAmount}\n            onChange={onChangeDiscountInput}\n            label=\"discount percentage\"\n            variant=\"outlined\"\n            type='number'\n          />\n          <div style={styles.discountUnit}><h6>%</h6></div>\n        </div>\n      )\n      default: return null;\n    }\n  }\n\n  const renderTextInputs = () => {\n    return (\n      <>\n        <TextField\n          style={styles.formText}\n          onChange={(e) => setName(e.target.value)}\n          label=\"name\"\n          variant=\"outlined\"\n        />\n        <TextField\n          style={styles.formText}\n          onChange={(e) => setPhone(e.target.value)}\n          label=\"phone\"\n          variant=\"outlined\"\n        />\n        <TextField\n          style={styles.formText}\n          onChange={(e) => setSpecialty(e.target.value)}\n          label=\"specialty\"\n          variant=\"outlined\"\n        />\n        <TextField\n          style={styles.formText}\n          onChange={(e) => setReferCode(e.target.value)}\n          label=\"referCode\"\n          variant=\"outlined\"\n        />\n        <TextField\n          style={styles.formText}\n          onChange={(e) => setMedium(e.target.value)}\n          label=\"medium\"\n          variant=\"outlined\"\n        />\n      </>\n    )\n  }\n\n  const renderErrorDiscount = () => {\n    if (errorDiscount) {\n      return (\n        <div style={styles.errorDiscountINput}>{errorDiscount}</div>\n      )\n    }\n    return null;\n  }\n  const renderActionSelect = () => {\n    return (\n      <div>\n        <Button style={styles.menuButton} aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n          Add Refer Action\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={showMenu}\n          keepMounted\n          open={Boolean(showMenu)}\n          onClose={handleClose}\n        >\n          <MenuItem onClick={handleNoneDiscount}>None</MenuItem>\n          <MenuItem onClick={handleClickPercentDiscount}>Percentage Discount</MenuItem>\n          <MenuItem onClick={handleClickFlatDiscount}>Flat Discount</MenuItem>\n        </Menu>\n      </div>\n    )\n  }\n\n  const getActionText = (referActionItem) => {\n    if (referActionItem) {\n      const [_, discountType, discount ] = referActionItem.split('_')\n      if (discountType === 'flat') {\n        return `${discount} SAR`\n      } if (discountType === 'percentage') {\n        const amount = parseFloat(discount) *100\n        return `${amount}%`\n      }\n    }\n    return null;\n  }\n  return (\n    <div>\n      <IconButton\n        style={styles.iconsButton}\n        aria-label=\"notes\"\n        onClick={() => {\n          setActiveList('');\n          dispatch(clearErrorsAction());\n        }}\n      >\n        <CloseIcon style={styles.closeIcon} fontSize=\"large\" />\n      </IconButton>\n      <div style={styles.mainContainer}>\n        <div style={styles.leftHalf}>\n          <div style={styles.addLinkText}>{langText[lang].addLink}</div>\n          <div style={styles.formDiv}>\n            {renderTextInputs()}\n            {renderActionSelect()}\n            {renderDiscountInput()}\n            {renderErrorDiscount()}\n            <div style={styles.formText}>{loading && <LinearProgress />}</div>\n            <Button\n              style={styles.formButton}\n              onClick={() => submit()}\n              label=\"medium\"\n              variant=\"outlined\"\n            >\n              ارسال{' '}\n            </Button>\n            {error ? (\n              <div style={styles.error}>{langText[lang].error}</div>\n            ) : (\n              added && <div style={styles.error}>{langText[lang].added}</div>\n            )}\n          </div>\n        </div>\n        <div style={styles.divider} />\n        <div style={styles.rightHalf}>\n          <div style={styles.numberOfLinks}>\n            {' '}\n            {langText[lang].numberOfLinks}: {referrers?.length}\n          </div>\n          <div style={styles.rightMainContainer}>\n            <div style={styles.linksWrapper}>\n              {referrers &&\n                Object.values(referrers)\n                  .sort((a, b) => {\n                    return new Date(b?.createdOn) - new Date(a?.createdOn);\n                  })\n                  .map((ref) => {\n                    console.log('ref?', ref?.referAction);\n                    return (\n                      <div style={styles.linkCardDiv}>\n                        <Card style={styles.linkCard}>\n                          <div style={styles.linkText}>\n                            {ref?.name} :{langText[lang].name}\n                          </div>\n                          <div style={styles.linkText}>\n                            {ref?.referCode} :{langText[lang].code}\n                          </div>\n                          {ref?.referAction ? (\n                            <div style={styles.linkText}>\n                              {getActionText(ref?.referAction)} :{langText[lang].discount}\n                            </div>\n                          ) : null}\n                          <div\n                            style={styles.fullUrlDiv}\n                          >\n                            <div\n                              style={styles.fullUrlText}\n                            >\n                              {ref?.fullUrl}\n                            </div>\n                            <div style={styles.linkText}>\n                              :{langText[lang].link}\n                            </div>\n                          </div>\n                          <div style={styles.linkText}>\n                            {new Date(ref?.createdOn).toLocaleDateString()} :\n                            {langText[lang].date}\n                          </div>\n                        </Card>\n                      </div>\n                    );\n                  })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Refrrals;\n","import React, { useState, useEffect } from 'react';\nimport { parseArray } from '../helpers/Converters';\n\n// Components\nimport MyNav from '../components/MyNav';\nimport Footer from '../components/Footer';\nimport Chat from './Chat';\nimport PatientProfile from './PatientProfile';\nimport PatientNotes from './PatientNotes';\nimport PatientSummaries from './patientSummaries';\nimport CalendarView from './CalendarView';\nimport PatientList from '../components/PatientList';\nimport Refrrals from '../components/Refrrals'\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setChatsAction } from '../redux/reducers/authReducer';\nimport {\n  setCurrentChatAction,\n  clearAllChatsAction,\n  getAllChatsAction,\n} from '../redux/reducers/chatsReducer';\nimport { setPatientIdAction } from '../redux/reducers/patientReducer';\nimport { setCurrentEducatorAction } from '../redux//reducers/educatorsReducer';\nimport { setDarkModeAction } from '../redux//reducers/authReducer';\n\n// ui libraries\nimport IconButton from '@material-ui/core/IconButton';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\nimport NoteIcon from '@material-ui/icons/Note';\nimport Button from '@material-ui/core/Button';\nimport ShortTextIcon from '@material-ui/icons/ShortText';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport TextField from '@material-ui/core/TextField';\n\nimport '../App.css';\nimport { lightStyles, darkStyles } from '../styles/showPatientsViewStyles';\nimport { useHistory } from 'react-router-dom';\n\nconst ShowPatientsView = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const [activeList, setActiveList] = useState('');\n  const [localPatients, setLocalPatients] = useState([]);\n  const [currentPage, setCurrentPage] = useState('');\n  const [disableIcons, setDisableIcons] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [checkedAllChats, setCheckedAllChats] = useState('');\n  const [lang, setLang] = useState({\n    ar: {\n      chat: 'المحادثة',\n      profile: 'البروفايل',\n      educators: 'المتابعين',\n      patientName: 'اسم المريض',\n      goToPatient: 'اذهب للمريض',\n      time: 'الوقت',\n    },\n  });\n\n  const { chats, token, educatorId, darkMode, admin } = useSelector(\n    (state) => state.auth\n  );\n  const {\n    fetchedEducatorId,\n    patients,\n    educators,\n    currentEducator,\n  } = useSelector((state) => state.educators);\n  const { patientId } = useSelector((state) => state.patient);\n  const { allChats, allChatsLoading } = useSelector((state) => state.chats);\n\n  const styles = !darkMode ? lightStyles : darkStyles;\n  useEffect(() => {\n    if (!token) history.replace('/');\n  }, [token]);\n  useEffect(() => {\n    try {\n      if (chats?.length && !chats[0].id) {\n        let tempChats = parseArray(chats);\n        dispatch(setChatsAction(tempChats));\n      } \n    } catch (err) {\n      console.log('error setting chats:', err);\n    }\n  }, [chats, dispatch]);\n  useEffect(() => {\n    let tempEducator;\n    if (educators) {\n      tempEducator = Object.values(educators).filter((educator) => {\n        return fetchedEducatorId === educator.id;\n      });\n      if (tempEducator.length !== 0) {\n        setLocalPatients(tempEducator[0].chats);\n      }\n      setCheckedAllChats(false)\n      setSearchTerm('');\n      dispatch(setCurrentEducatorAction(tempEducator[0]));\n      dispatch(clearAllChatsAction());\n    }\n  }, [dispatch, educatorId, educators, fetchedEducatorId, patients]);\n  useEffect(() => {\n    if (patientId) {\n      setDisableIcons(false);\n    }\n  }, [patientId]);\n  useEffect(() => {\n    if (allChats?.length) {\n      setLocalPatients(allChats);\n    }\n  }, [allChats]);\n  useEffect(() => {\n    let tempEducator\n    if(!checkedAllChats){\n      tempEducator = Object.values(educators).filter((educator) => {\n        return fetchedEducatorId === educator.id;\n      });\n      if (tempEducator.length !== 0) {\n        setLocalPatients(tempEducator[0].chats);\n      }\n    }\n  },[checkedAllChats])\n  const renderChat = () => {\n    if (!localPatients.length) {\n      return null;\n    }\n\n    return (\n      <Chat/>\n    );\n  };\n\n  const activateChat = (chatId, patientId) => {\n    dispatch(setPatientIdAction(patientId));\n    dispatch(setCurrentChatAction(chatId));\n  };\n  const allPateints = () => {\n    if(fetchedEducatorId){\n      if(admin)\n      dispatch(getAllChatsAction({ educatorId: fetchedEducatorId, token, adminId: educatorId }));\n      else\n      dispatch(getAllChatsAction({ educatorId: fetchedEducatorId, token }));\n\n    }\n  };\n  const renderListHeader = () => {\n    return (\n      <div style={styles.listHeaderDiv}>\n        {\n          admin &&\n        <Button\n          variant=\"contained\"\n          onClick={() => setActiveList('links')}\n          style={styles.buttonsText}\n        >\n          روابط\n        </Button>\n        }\n        <Button\n          variant=\"contained\"\n          onClick={() => setActiveList('patients')}\n          style={styles.buttonsText}\n        >\n          المحادثات\n        </Button>\n        <Button\n          style={styles.buttonsText}\n          variant=\"contained\"\n          onClick={() => setActiveList('appointments')}\n        >\n          المواعيد\n        </Button>\n      </div>\n    );\n  };\n  const goToPatient = (patientId) => {\n    setCurrentPage('profile');\n    setActiveList('');\n    if (patientId) dispatch(setPatientIdAction(patientId));\n    const currentChat = currentEducator?.chats?.find((chat) => {\n      return chat?.patientId === patientId;\n    });\n    if (currentChat) dispatch(setCurrentChatAction(currentChat?.id));\n  };\n  const renderIcons = () => {\n    return (\n      <div>\n        <IconButton\n          aria-label=\"chat\"\n          onClick={() => setValueCurrentPage('chat')}\n        >\n          <ChatBubbleIcon style={styles.icons} fontSize=\"large\" />\n        </IconButton>\n        <IconButton\n          aria-label=\"chat\"\n          onClick={() => {\n            setValueCurrentPage('profile');\n          }}\n        >\n          <PersonIcon style={styles.icons} fontSize=\"large\" />\n        </IconButton>\n        <IconButton\n          aria-label=\"notes\"\n          onClick={() => {\n            setValueCurrentPage('notes');\n          }}\n        >\n          <NoteIcon style={styles.icons} fontSize=\"large\"></NoteIcon>\n        </IconButton>\n        <IconButton\n          aria-label=\"summary\"\n          onClick={() => {\n            setValueCurrentPage('summaries');\n          }}\n        >\n          <ShortTextIcon style={styles.icons} fontSize=\"large\" />\n        </IconButton>\n        {/* <IconButton\n          aria-label=\"darkmode\"\n          style={{ right: 85, position: 'absolute' }}\n          onClick={() => {\n            dispatch(setDarkModeAction(!darkMode));\n          }}\n        >\n          <Brightness4Icon\n            style={styles.icons}\n            fontSize=\"large\"\n          ></Brightness4Icon>\n        </IconButton> */}\n      </div>\n    );\n  };\n  // \"name\": \"pamphlet\", \"phone\":\"+966500000000\", \"specialty\":\"none\", \"referCode\":\"pamphlet1\", \"medium\":\"pamphlet\"\n  const setValueCurrentPage = (page) => {\n    if (!disableIcons) setCurrentPage(page);\n  };\n  return (\n    <div style={{height:'100vh'}}>\n      <MyNav />\n      <Container maxWidth={false} style={styles.container}>\n        <Card style={styles.card}\n        >\n          {activeList === 'appointments' ? (\n            <div style={styles.calendarMainDiv}>\n              <div style={styles.headerListDiv}>{renderListHeader()}</div>\n              <div style={styles.calendarContentDiv}>\n                <CalendarView\n                  currentEducator={currentEducator}\n                  darkMode={darkMode}\n                  goToPatient={goToPatient}\n                />\n              </div>\n            </div>\n          ) :\n          activeList === 'links'? (\n            <Refrrals setActiveList={setActiveList}/>\n          ) : (\n            <div style={{ display: 'flex', flexDirection: 'row', flex: 1 }}>\n              <div style={styles.listDev}>\n                {renderListHeader()}\n                <div>\n                  <PatientList\n                    localPatients={localPatients}\n                    allPateints={allPateints}\n                    activateChat={activateChat}\n                    patientId={patientId}\n                    darkMode={darkMode}\n                    searchTerm={searchTerm}\n                    setSearchTerm={setSearchTerm}\n                    allChatsLoading={allChatsLoading}\n                    checkedAllChats={checkedAllChats}\n                    setCheckedAllChats={setCheckedAllChats}\n                  />\n                </div>\n              </div>\n              <div style={styles.rightColumn}>\n                <div style={styles.mianDev}>\n                  <div style={styles.iconsDev}>\n                    {renderIcons()}\n                    {currentPage === 'profile' ? (\n                      <PatientProfile />\n                    ) : currentPage === 'notes' ? (\n                      <PatientNotes />\n                    ) : currentPage === 'summaries' ? (\n                      <PatientSummaries />\n                    ) : (\n                      renderChat()\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </Card>\n      </Container>\n      <Footer />\n    </div >\n  );\n};\n\nexport default ShowPatientsView;\n","import chatsReducer from './chatsReducer'\nimport authReducer from './authReducer'\nimport educatorsReducer from './educatorsReducer'\nimport patientReducer from './patientReducer'\nimport refrralsReducer from './refrralsReducer'\nimport {persistCombineReducers} from 'redux-persist'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['auth'],\n}\nconst reducers = persistCombineReducers(persistConfig,{\n    chats:chatsReducer,\n    auth:authReducer,\n    educators:educatorsReducer,\n    patient:patientReducer,\n    refrrals:refrralsReducer\n})\n\nexport default reducers","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport reducer from './reducers';\nimport { persistStore } from 'redux-persist';\n\nlet middleware = getDefaultMiddleware();\n//DEV\n\nconst store = configureStore({\n  reducer,\n  ...middleware,\n});\n\nexport const persistor = persistStore(store);\n\nexport default store;\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport LoginView from './views/LoginView'\nimport ShowPatientsView from './views/ShowPatientsView'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport {persistor} from './redux/index'\n\nconst App = () => {\n  return (\n\n    <PersistGate loading={null} persistor={persistor}>\n      <Router \n      >\n       \n\n        <Switch>\n        <Route exact  path=\"/\" component={LoginView} />\n        <Route exact path=\"/showpatients\" component={ShowPatientsView} />\n        <Route path=\"*\" component={ShowPatientsView} /> \n\n        </Switch>\n\n\n      </Router>\n       </PersistGate>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux'\n\nimport store from './redux'\nReactDOM.render(\n    <Provider store={store}>\n\n<App />\n    </Provider>,\n\n document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}