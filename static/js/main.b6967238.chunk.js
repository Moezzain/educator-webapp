(this["webpackJsonpeducator-webapp"]=this["webpackJsonpeducator-webapp"]||[]).push([[0],{115:function(e,t,n){},490:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(17),c=n.n(o),s=n(119),l=n(36),d=n(10),u=n.n(d),h=n(24),j=n(8),g=n.p+"static/media/bright-no-bg.d6200e7f.png",b=n(18),f=n(26),p=n(63),m=n(37),v=n(33),x=n.n(v),O="https://api.ithnain.com",y=n(238),w={loading:!1,error:null},k=function(e){return Object(y.sha256)(e)},C=Object(m.b)("auth/loginEducatorAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,i=n.rejectWithValue,e.next=4,k(r);case 4:return o=e.sent,c={},s={id:a,password:o},e.abrupt("return",x.a.post("".concat(O,"/login"),s).then((function(e){if(e.data.educator){var t=e.data,n=t.educatorId,a=t.appointments,r=t.chats;i();var o=JSON.parse(e.data.educator).token;return c.token=o[o.length-1],c.educatorId=n,c.appointments=a,c.chats=r,c.admin=!1,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(m.b)("auth/loginAdminAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,i=n.rejectWithValue,e.next=4,k(r);case 4:return o=e.sent,c={},s={adminUsername:a,password:o},e.abrupt("return",x.a.post("".concat(O,"/login"),s).then((function(e){if(e.data.admin){var t=JSON.parse(e.data.admin),n=t.id,a=t.token;return c.token=a[a.length-1],c.educatorId=n,c.admin=!0,c}return i("credintials")})).catch((function(e){return console.log("error",e),i("network")})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(m.b)("auth/logout",function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,r=t.adminId,i=r?{adminId:r}:{educatorId:n,notificationToken:" "},e.next=4,x.a.patch("".concat(O,"/logout"),i,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){})).catch((function(e){console.log("error ",e)}));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(m.b)("auth/resetPasswordAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.adminId,r=t.token,i=t.oldPassword,o=t.newPassword,c=n.rejectWithValue,e.prev=2,e.next=5,k(o);case 5:return s=e.sent,e.next=8,k(i);case 8:return l=e.sent,d={adminId:a,oldPassword:l,password:s},e.next=12,x.a.patch("".concat(O,"/admin?adminId=").concat(a),d,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.data.id?e.data:c("wrong password")})).catch((function(e){return console.log("error reseting ",e),c(e)}));case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",c(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(p.a)({token:null,educatorId:null,appointments:null,chats:null,response:null,darkMode:!1,admin:!1,resetError:""},w),B=Object(m.c)({name:"auth",initialState:T,reducers:{clearAll:function(){return T},setLoading:function(e,t){e.loading=t.payload},setChats:function(e,t){e.chats=t.payload},setDarkMode:function(e,t){e.darkMode=t.payload},setResetError:function(e,t){e.resetError=t.payload}},extraReducers:(a={},Object(f.a)(a,C.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.appointments=t.payload.appointments,e.chats=t.payload.chats,e.admin=t.payload.admin,e.loading=!1})),Object(f.a)(a,C.pending,(function(e,t){e.loading=!0})),Object(f.a)(a,C.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),Object(f.a)(a,I.fulfilled,(function(e,t){e.token=t.payload.token,e.educatorId=t.payload.educatorId,e.admin=t.payload.admin,e.loading=!1})),Object(f.a)(a,I.pending,(function(e,t){e.loading=!0})),Object(f.a)(a,I.rejected,(function(e,t){"network"===t.payload?e.error="There's a Network issue":"credintials"===t.payload&&(e.error="The Username or Password is incorrect"),e.loading=!1})),Object(f.a)(a,D.fulfilled,(function(e,t){e.token=t.payload.token[0]})),Object(f.a)(a,D.rejected,(function(e,t){e.resetError="somthing went wrong"})),a)}),A=B.actions,E=A.setLoading,L=A.setChats,P=A.clearAll,z=A.setDarkMode,M=A.setResetError,N=B.reducer,R=n(550),W=n(536),F=n(535),H=n(537),V={container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#0a122a",width:"100%"},card:{width:"80%",padding:30,borderRadius:8},root:{display:"flex",flexDirection:"row"},logo:{width:"30%",marginBottom:"15%"},formDiv:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column"},username:{marginTop:10,marginBottom:10},password:{marginTop:10,marginBottom:10},button:{backgroundColor:"lightblue",marginTop:10,marginBottom:10},error:{color:"red"}},G=n(538),J=n(1),q=function(){var e=Object(b.b)(),t=Object(l.f)(),n=Object(r.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),d=s[0],f=s[1],p=Object(r.useState)("educator"),m=Object(j.a)(p,2),v=m[0],x=m[1],O=Object(r.useState)("lightgrey"),y=Object(j.a)(O,2),w=y[0],k=y[1],S=Object(r.useState)("white"),D=Object(j.a)(S,2),T=D[0],B=D[1],A=Object(r.useState)({ar:{username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",password:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a",submit:"\u062f\u062e\u0648\u0644"}}),L=Object(j.a)(A,2),P=L[0],z=(L[1],Object(b.c)((function(e){return e.auth}))),M=z.educatorId,N=z.token,q=z.loading,U=z.error;Object(r.useEffect)((function(){N&&M&&t.push("showpatients")}),[M,t,N]);var K=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(E(!0)),e(C({username:i,password:d}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(E(!0)),e(I({username:i,password:d}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(J.jsx)(H.a,{maxWidth:!1,style:V.container,children:Object(J.jsxs)("div",{style:V.root,children:[Object(J.jsx)("img",{src:g,style:V.logo}),Object(J.jsx)("div",{style:V.formDiv,children:Object(J.jsxs)(G.a,{style:V.card,children:[Object(J.jsxs)("div",{style:{borderRadius:5,borderWidth:1,borderColor:"grey",borderStyle:"solid"},children:[Object(J.jsx)(F.a,{style:{width:"50%",height:50,backgroundColor:w},value:"educator",onClick:function(){x("educator"),k("lightgrey"),B("white")},children:"Educator"}),Object(J.jsxs)(F.a,{style:{width:"50%",height:50,backgroundColor:T},value:"admin",onClick:function(){x("admin"),B("lightgrey"),k("white")},children:[" ","Admin"]})]}),"admin"===v?Object(J.jsxs)("form",{style:V.form,children:[Object(J.jsx)(R.a,{type:"username",required:!0,id:"outlined-required",label:P.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:V.username}),Object(J.jsx)(R.a,{type:"password",required:!0,id:"outlined-required",label:P.ar.password,variant:"outlined",value:d,onChange:function(e){e.persist(),f(e.target.value)},style:V.password}),Object(J.jsx)(F.a,{variant:"primary",style:V.button,onClick:function(){_()},children:P.ar.submit}),q?Object(J.jsx)(W.a,{}):null,U?Object(J.jsx)("text",{style:V.error,children:U}):""]}):Object(J.jsxs)("form",{style:V.form,children:[Object(J.jsx)(R.a,{type:"username",required:!0,id:"outlined-required",label:P.ar.username,variant:"outlined",value:i,onChange:function(e){e.persist(),o(e.target.value)},style:V.username}),Object(J.jsx)(R.a,{type:"password",required:!0,id:"outlined-required",label:P.ar.password,variant:"outlined",value:d,onChange:function(e){e.persist(),f(e.target.value)},style:V.password}),Object(J.jsx)(F.a,{variant:"primary",style:V.button,onClick:K,children:P.ar.submit}),q?Object(J.jsx)(W.a,{}):null,U?Object(J.jsx)("text",{style:V.error,children:U}):""]})]})})]})})};function U(e){return e.map((function(e){return JSON.parse(e)}))}function K(e){var t=[],n={};for(var a in e){var r=e[a];Array.isArray(r)&&(n[a]=U(r),t.push(U(r)))}return n}var _,Y,$,Q=n.p+"static/media/logo-dark-notext.58fe3789.png",X=Object(m.b)("chats/getChatsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.chatId,r=t.educatorId,i=t.token,o=t.adminId,c=n.rejectWithValue,e.prev=2,s=o?"adminId=".concat(o,"&"):"",e.next=6,x.a.get("".concat(O,"/message?chatId=").concat(a,"&").concat(s,"educatorId=").concat(r),{headers:{Authorization:"Bearer ".concat(i)},timeout:1e4});case 6:if(!(null===(l=e.sent)||void 0===l?void 0:l.data)){e.next=9;break}return e.abrupt("return",l.data.reverse());case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),console.log("error",e.t0),e.abrupt("return",c(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(m.b)("chats/getAllChats",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s,l,d,h,j,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=t.adminId,o=n.rejectWithValue,e.prev=2,c=i?"adminId=".concat(i,"&"):"",e.next=6,x.a.get("".concat(O,"/chats?educatorId=").concat(a,"&").concat(c,"filterDate=all"),{headers:{Authorization:"Bearer ".concat(r)},timeout:1e4});case 6:if(!(null===(s=e.sent)||void 0===s?void 0:s.data)){e.next=12;break}return h=U(null===(l=s.data)||void 0===l?void 0:l.chats),j=U(null===(d=s.data)||void 0===d?void 0:d.archivedChats),g={chats:h,archivedChats:j},e.abrupt("return",g);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),o(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(p.a)({messages:null,currentChat:null,allChats:[],archivedChats:[],allChatsLoading:!1},w),te=Object(m.c)({name:"chats",initialState:ee,reducers:{clearAll:function(){return ee},setChats:function(e,t){e.chats=t.payload},setCurrentChat:function(e,t){e.currentChat=t.payload}},extraReducers:(_={},Object(f.a)(_,X.fulfilled,(function(e,t){e.messages=t.payload,e.loading=!1})),Object(f.a)(_,X.pending,(function(e,t){e.loading=!0})),Object(f.a)(_,X.rejected,(function(e,t){e.error=t.payload})),Object(f.a)(_,Z.pending,(function(e,t){e.allChatsLoading=!0})),Object(f.a)(_,Z.fulfilled,(function(e,t){e.allChats=t.payload.chats,e.archivedChats=t.payload.archivedChats,e.allChatsLoading=!1})),Object(f.a)(_,Z.rejected,(function(e,t){e.allChatsLoading=!1,e.error=t.payload})),_)}),ne=te.actions,ae=(ne.setChats,ne.setCurrentChat),re=ne.clearAll,ie=te.reducer,oe=function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"adminId"!==Object.keys(t)[0]){e.next=7;break}return e.next=4,x.a.get("".concat(O,"/educator?get=all&adminId=").concat(t.adminId,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,x.a.get("".concat(O,"/educator?get=all&").concat(t,"&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 9:a=e.sent;case 10:if(!a.data){e.next=14;break}return r={},a.data.forEach((function(e){var t=JSON.parse(e),n=t.name,a=t.id;r[a]={name:n,id:a}})),e.abrupt("return",r);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Error getEducatorIds",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,e.prev=1,"chats,appointments,educator,all",e.next=5,x.a.get("".concat(O,"/educator?id=").concat(n,"&get=").concat("chats,appointments,educator,all","&educatorId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 5:if(!(r=e.sent).data){e.next=13;break}return i=r.data,o=JSON.parse(i.educator),delete i.educator,c=K(i),s=c.appointments,l=c.chats,d=c.educators,e.abrupt("return",{chats:l,appointments:s,educator:o,educators:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getEducatorData Error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(h.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get("".concat(O,"/educator?id=").concat(t,"&get=educator&educatorId=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.isCaseHandler})).catch((function(e){console.log("isCaseHandler error ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,s,l,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.adminId,r=t.token,e.prev=1,"chats,appointments,educator,all",e.next=5,x.a.get("".concat(O,"/educator?id=").concat(n,"&get=").concat("chats,appointments,educator,all","&adminId=").concat(a),{headers:{Authorization:"Bearer ".concat(r)}});case 5:if(!(i=e.sent).data){e.next=13;break}return o=i.data,c=JSON.parse(o.educator),delete o.educator,s=K(o),l=s.appointments,d=s.chats,h=s.educators,e.abrupt("return",{chats:d,appointments:l,educator:c,educators:h});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getAdminData Error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),de=Object(m.b)("educators/getEducatorsAndPatients",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s,l,d,h,j,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=n.rejectWithValue,e.prev=2,e.next=5,se(a,r);case 5:if(!e.sent){e.next=13;break}return e.delegateYield(u.a.mark((function e(){var t,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(a,r);case 2:t=e.sent,n={},i=u.a.mark((function e(){var a,i,c,s,l,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[o],e.next=3,ce({educatorId:a.id,token:r});case 3:i=e.sent,c=i.chats,s=i.appointments,l=i.educators,d=null===l||void 0===l?void 0:l.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)})),t[o].specialty=null===d||void 0===d?void 0:d.specialty,h=null===d||void 0===d?void 0:d.isCaseHandler,a.isCaseHandler=h,c&&(a.chats=c,a.count=c.length,c.forEach((function(e){var t=n[e.patientId];t||(n[e.patientId]=e,t=n[e.patientId]),t&&t.educators?t.educators.push({id:a.id,name:a.name}):t.educators=[{id:a.id,name:a.name}]}))),s&&(t[o].appointments=s);case 13:case"end":return e.stop()}}),e)})),e.t0=u.a.keys(t);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(i(),"t2",9);case 9:e.next=6;break;case 11:return e.abrupt("return",{v:{educators:t,patients:n}});case 12:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:if("object"!==typeof(c=e.t0)){e.next=11;break}return e.abrupt("return",c.v);case 11:e.next=24;break;case 13:return s={},e.next=16,ce({educatorId:a,token:r});case 16:return l=e.sent,d=l.chats,h=l.appointments,j=l.educator,d&&(j.chats=d,j.count=d.length,d.forEach((function(e){var t=s[e.patientId];t||(s[e.patientId]=e,t=s[e.patientId]),t&&t.educators?t.educators.push({id:j.id,name:j.name}):t.educators=[{id:j.id,name:j.name}]}))),h&&(j.appointments=h),g=[j],e.abrupt("return",{educators:g,patients:s});case 24:e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(2),console.log(" Error getEducatorsAndPatients",e.t1),e.abrupt("return",i(e.t1));case 30:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(m.b)("educators/getAllEducators",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.adminId,r=t.token,n.rejectWithValue,e.next=4,oe({adminId:a},r);case 4:i=e.sent,o={},c=u.a.mark((function e(){var t,n,c,l,d,h,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i[s],e.next=3,le({educatorId:t.id,adminId:a,token:r});case 3:n=e.sent,c=n.chats,l=n.appointments,d=n.educators,h=null===d||void 0===d?void 0:d.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})),i[s].specialty=null===h||void 0===h?void 0:h.specialty,j=null===h||void 0===h?void 0:h.isCaseHandler,t.isCaseHandler=j,c&&(t.chats=c,t.count=c.length,c.forEach((function(e){var n=o[e.patientId];n||(o[e.patientId]=e,n=o[e.patientId]),n&&n.educators?n.educators.push({id:t.id,name:t.name}):n.educators=[{id:t.id,name:t.name}]}))),l&&(i[s].appointments=l);case 13:case"end":return e.stop()}}),e)})),e.t0=u.a.keys(i);case 8:if((e.t1=e.t0()).done){e.next=13;break}return s=e.t1.value,e.delegateYield(c(),"t2",11);case 11:e.next=8;break;case 13:return e.abrupt("return",{educators:i,patients:o});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),he=Object(p.a)({educators:[],patients:[],fetchedEducatorId:"",currentEducator:""},w),je=Object(m.c)({name:"educators",initialState:he,reducers:{clearAll:function(){return he},setFetchedEducatiorId:function(e,t){e.fetchedEducatorId=t.payload},setCurrentEducator:function(e,t){e.currentEducator=t.payload}},extraReducers:(Y={},Object(f.a)(Y,de.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(f.a)(Y,de.pending,(function(e,t){e.loading=!0})),Object(f.a)(Y,de.rejected,(function(e,t){e.loading=!1})),Object(f.a)(Y,ue.fulfilled,(function(e,t){e.educators=t.payload.educators,e.patients=t.payload.patients,e.loading=!1})),Object(f.a)(Y,ue.pending,(function(e,t){e.loading=!0})),Object(f.a)(Y,ue.rejected,(function(e,t){e.loading=!1})),Y)}),ge=je.actions,be=ge.clearAll,fe=ge.setFetchedEducatiorId,pe=ge.setCurrentEducator,me=je.reducer,ve=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.educatorId,a=t.token,r=t.patientId,e.prev=1,e.next=4,x.a.get("".concat(O,"/patient?patientId=").concat(r,"&educatorId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(!(i=e.sent).data){e.next=9;break}return o=i.data,c=o.patient,s=o.patientProfile,l=JSON.parse(c),e.abrupt("return",{patient:l,patientProfile:s});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("getPatient Error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.adminId,a=t.token,r=t.patientId,e.prev=1,e.next=4,x.a.get("".concat(O,"/patient?patientId=").concat(r,"&adminId=").concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(!(i=e.sent).data){e.next=9;break}return o=i.data,c=o.patient,s=o.patientProfile,l=JSON.parse(c),e.abrupt("return",{patient:l,patientProfile:s});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("getPatient Error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(h.a)(u.a.mark((function e(t,n,a){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(O,"/appointment?patientId=").concat(t,"&educatorId=").concat(a,"&get=one"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if(!(r=e.sent).data){e.next=7;break}return i=U(r.data),e.abrupt("return",i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ye=Object(m.b)("patient/getPatientAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.educatorId,r=t.token,i=t.patientId,o=t.adminId,c=n.rejectWithValue,!o){e.next=8;break}return e.next=5,xe({adminId:o,token:r,patientId:i}).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),c(e)}));case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,ve({educatorId:a,token:r,patientId:i}).then((function(e){return null===e||void 0===e?void 0:e.patientProfile})).catch((function(e){return console.log(e),c(e)}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),we=Object(m.b)("patinet/getAppointmentsAction",function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.educatorId,r=t.token,i=t.patientId,o=n.rejectWithValue,e.next=4,Oe(i,r,a).then((function(e){if(e)return e})).catch((function(e){console.log(e),o(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ke=Object(p.a)({patientProfile:null,patientId:null,appointments:null},w),Ce=Object(m.c)({name:"patient",initialState:ke,reducers:{clearAll:function(){return ke},setPatientId:function(e,t){e.patientId=t.payload}},extraReducers:($={},Object(f.a)($,ye.fulfilled,(function(e,t){e.patientProfile=t.payload,e.loading=!1})),Object(f.a)($,ye.rejeceted,(function(e,t){e.error=t.payload,e.loading=!1})),Object(f.a)($,ye.pending,(function(e,t){e.loading=!0})),Object(f.a)($,we.fulfilled,(function(e,t){e.appointments=t.payload})),$)}),Ie=Ce.actions,Se=Ie.setPatientId,De=Ie.clearAll,Te=Ce.reducer,Be=n(539),Ae=n(540),Ee=n(554),Le=n(492),Pe=n(160),ze=n(534),Me=n(557),Ne=n(556),Re=n(243),We=n.n(Re),Fe=Object(Be.a)({avatar:{backgroundColor:Pe.a[100],color:Pe.a[600]}}),He=function(e){var t=e.setOpen,n=e.open,a=e.setOldPassword,i=e.setNewPassword,o=e.setNewPasswordVerify,c=e.handleResetSubmit,s=e.error,l=Object(r.useState)("profile"),d=Object(j.a)(l,2),u=d[0],h=d[1],g=Fe();return Object(J.jsx)(Ee.a,{onClose:function(){t(!1)},open:n,children:Object(J.jsx)("div",{style:{height:400,width:600},children:"profile"===u?Object(J.jsxs)("div",{children:[Object(J.jsx)(Ae.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"Profile"}),Object(J.jsx)(Le.a,{style:{backgroundColor:"lightblue",marginLeft:10,textAlign:"center",width:580,height:40},children:"Name: "}),Object(J.jsx)(F.a,{style:{width:580,height:40,backgroundColor:"lightblue",marginLeft:10,marginTop:10},onClick:function(){h("reset")},children:"Reset Password"})]}):Object(J.jsxs)("div",{children:[Object(J.jsx)(Ae.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"Reset Password"}),Object(J.jsx)(F.a,{style:{backgroundColor:"lightblue",marginLeft:10},onClick:function(){h("profile")},children:Object(J.jsx)(We.a,{})}),Object(J.jsxs)(ze.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:g.margin,variant:"outlined",children:[Object(J.jsx)(Me.a,{htmlFor:"outlined-adornment-amount",children:"Old Password"}),Object(J.jsx)(Ne.a,{type:"password",onChange:function(e){a(e.target.value)},labelWidth:50})]}),Object(J.jsxs)(ze.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:g.margin,variant:"outlined",children:[Object(J.jsx)(Me.a,{htmlFor:"outlined-adornment-amount",children:"New Password"}),Object(J.jsx)(Ne.a,{type:"password",onChange:function(e){i(e.target.value)},labelWidth:50})]}),Object(J.jsxs)(ze.a,{style:{width:580,marginTop:10,marginLeft:10},fullWidth:!0,className:g.margin,variant:"outlined",children:[Object(J.jsx)(Me.a,{htmlFor:"outlined-adornment-amount",children:"New Password"}),Object(J.jsx)(Ne.a,{type:"password",onChange:function(e){o(e.target.value)},labelWidth:50})]}),Object(J.jsx)(F.a,{style:{backgroundColor:"lightblue",width:580,marginTop:10,marginLeft:10},onClick:function(){c()},variant:"primary",children:"Submit"}),Object(J.jsx)(Me.a,{style:{textAlign:"center",marginTop:10,color:"red"},children:s})]})})})},Ve=n(552),Ge=n(541),Je={primary:{black:"#042c42",red:"#ee3d60",white:"#ffffff",bluishWhite:"#EDF8FF"},secondary:{lightBlue:"#d2edf4 ",mainBlue:"#51c7ea",darkBlue:"#005792",orange:"#fbbd33"}},qe={black:"#042639",red:"#D03554",white:"#ffffff",bluishWhite:"#CFD9DF"},Ue={lightBlue:"#B8CFD6",mainBlue:"#337C92",darkBlue:"#003B52",orange:"#BC8E26",lightGrey:"#CBCBCB"},Ke=Je,_e={root:{width:"100%",height:"5%"},tabs:{backgroundColor:Ue.lightBlue,height:"100%"},logout:{fontSize:20,color:"black",width:30,height:50,marginLeft:25,transform:[{rotate:"90deg"}]},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Ue.lightBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10},customTabDiv:{width:200,minWidth:140,height:50,fontSize:25,display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"center",textTransform:"none"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",fontSize:20,flexDirection:"row",display:"flex",marginBottom:-5},icon:{marginRight:10},tabDiv:{fontSize:16,marginBottom:2}},Ye={root:{flexGrow:1,width:"100%",height:50,backgroundColor:Ke.secondary.darkBlue},tabs:{backgroundColor:Ke.secondary.darkBlue,height:50},logout:{fontSize:20,color:"black",width:30,height:50,marginLeft:25,transform:[{rotate:"90deg"}]},footerAppBar:{top:"auto",bottom:0,width:"100%",height:"5%",backgroundColor:Ke.secondary.darkBlue,alignItems:"center"},navLogo:{marginTop:5},footerLogo:{marginTop:5,marginBottom:10},customTabDiv:{width:200,minWidth:140,height:50,fontSize:25,display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"center",textTransform:"none"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",fontSize:20,flexDirection:"row",display:"flex",marginBottom:-5,color:Ue.lightGrey},icon:{marginRight:10},tabDiv:{fontSize:16,marginBottom:2,color:Ue.lightGrey}},$e=n(246),Qe=n.n($e),Xe=n(152),Ze=n.n(Xe),et=n(245),tt=n.n(et),nt=n(244),at=n.n(nt),rt=(n(115),function(){var e=Object(b.b)(),t=Object(l.f)(),n=Object(r.useState)([]),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(!1),s=Object(j.a)(c,2),d=s[0],u=s[1],h=Object(r.useState)(""),g=Object(j.a)(h,2),f=g[0],p=g[1],m=Object(r.useState)(""),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)(2),T=Object(j.a)(I,2),B=T[0],A=T[1],E=Object(b.c)((function(e){return e.educators})),L=E.educators,z=E.loading,N=E.fetchedEducatorId,R=Object(b.c)((function(e){return e.auth})),H=R.educatorId,V=R.token,G=R.darkMode,q=R.admin,U=R.resetError,K=G?Ye:_e;Object(r.useEffect)((function(){e(q?ue({adminId:H,token:V}):de({educatorId:H,token:V}))}),[]),Object(r.useEffect)((function(){L&&o(Object.values(L).sort((function(e,t){return(null===e||void 0===e?void 0:e.isCaseHandler)===(null===t||void 0===t?void 0:t.isCaseHandler)?0:(null===e||void 0===e?void 0:e.isCaseHandler)?-1:1})))}),[L]),Object(r.useEffect)((function(){var e=0;i&&(Object.values(i).forEach((function(t,n){(null===t||void 0===t?void 0:t.id)===N&&(e=n)})),A(q?e+3:e+2))}),[N]);return Object(J.jsx)("div",{style:K.root,children:Object(J.jsxs)(Ge.a,{position:"static",color:"default",children:[Object(J.jsxs)(Ve.a,{value:B,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",style:K.tabs,children:[Object(J.jsx)("img",{alt:"",src:Q,width:"110",height:"35",style:K.navLogo}),q?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(F.a,{onClick:function(){u(!0)},children:Object(J.jsx)(at.a,{})}),Object(J.jsx)(He,{open:d,setOpen:u,setOldPassword:p,setNewPassword:O,setNewPasswordVerify:C,handleResetSubmit:function(){e(x===k?D({adminId:H,token:V,oldPassword:f,newPassword:x}):M("Passwords don't match"))},error:U})]}):null,Object(J.jsx)(F.a,{style:K.logout,children:Object(J.jsx)(tt.a,{className:"logout",onClick:function(){return e(P()),e(be()),e(re()),e(De()),e(S(q?{adminId:H,token:V}:{educatorId:H,token:V})),void t.replace("/")}})}),Object.keys(i).length?Object.values(i).map((function(t){return Object(J.jsx)(F.a,{style:K.customTabDiv,onClick:function(){return n=t.id,void e(fe(n));var n},children:Object(J.jsxs)("div",{style:K.tabDiv,children:[Object(J.jsxs)(Le.a,{style:K.text,children:[Object(J.jsx)("div",{style:K.icon,children:(null===t||void 0===t?void 0:t.isCaseHandler)?Object(J.jsx)(Qe.a,{}):Object(J.jsx)(Ze.a,{})}),t.name]}),Object(J.jsx)("text",{children:null===t||void 0===t?void 0:t.specialty})]})})})):""]}),z?Object(J.jsx)(W.a,{}):null]})})}),it=function(){var e=Object(b.c)((function(e){return e.auth})).darkMode?Ye:_e;return Object(J.jsx)(Ge.a,{position:"fixed",color:"black",style:e.footerAppBar,children:Object(J.jsx)("img",{alt:"",src:Q,width:"100",height:"40",className:"d-inline-block align-top",style:e.footerLogo})})},ot=n(542),ct=(n(341),n(47)),st=n(261),lt=n.n(st),dt={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:"black"},emptyMessages:{color:"black"},chatScrollDiv:{overflow:"auto",height:"65vh",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:"#F4FBFF"}},ut={root:{height:"100%",width:"100%"},chatDiv:{position:"relative",height:"80%",width:"96%"},messageFooter:{ontSize:10},customMessage:{fontSize:17},messagelistContent:{backgroundColor:Ue.mainBlue},separatorDiv:{flex:1,alignItems:"center",alignContent:"center",display:"flex",flexDirection:"row",marginLeft:30},leftLine:{flex:4,height:1,backgroundColor:"grey"},rightLine:{flex:4,height:1,backgroundColor:"grey",marginRight:30},date:{flex:2,textAlign:"center"},statsDiv:{color:Ue.lightGrey},emptyMessages:{color:Ue.lightGrey},chatScrollDiv:{overflow:"auto",height:"100%",width:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:Ue.mainBlue}},ht=function(e){var t=e.date,n=e.darkMode?ut:dt,a=new Date(t);return Object(J.jsxs)("div",{style:n.separatorDiv,children:[Object(J.jsx)("div",{style:n.leftLine}),Object(J.jsxs)("div",{style:n.date,children:[t,", ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()]]}),Object(J.jsx)("div",{style:n.rightLine})]})},jt=n(262),gt=n.n(jt),bt=function(){var e=Object(b.b)(),t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),c=Object(j.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)({ar:{messageCount:"\u0639\u062f\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644",usageDuration:"\u0645\u062f\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645",emptyConvo:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0641\u0627\u0631\u063a\u0629"}}),u=Object(j.a)(d,2),h=u[0],g=(u[1],Object(b.c)((function(e){return e.auth}))),f=g.token,p=g.educatorId,m=g.darkMode,v=g.admin,x=Object(b.c)((function(e){return e.chats})),O=x.messages,y=x.loading,w=x.currentChat,k=m?ut:dt,C=function(e,t,n){return Object(J.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t},n)};return Object(r.useEffect)((function(){e(X(v?{chatId:w,token:f,educatorId:p,adminId:p}:{chatId:w,token:f,educatorId:p}))}),[w]),Object(r.useEffect)((function(){var e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=["png","jpg","jpeg","gif"],a=["pdf","doc","docx"],r=["mp3","3gp","caf","wav","wave","m4a","aac"],i=0,o=[];for(var c in t){var s={};Object.assign(s,t[c]);var l=parseInt(s.user._id)-1;if(s.media){var d=s.media.split("."),u=d[d.length-1],h=n.includes(u.split("?")[0]),j=a.includes(u.split("?")[0]),g=r.includes(u.split("?")[0]);h?(e!==s.createdOn.split("T")[0]?(i++,s.message={image:s.media},s.message.date=s.createdOn.split("T")[0],e=s.createdOn.split("T")[0]):(s.message={image:s.media},s.message.text=s.text),delete s.media):j?(s.message={text:s.text,file:s.media},delete s.media):g?(s.media=s.media.replace("vnd.wave","wav"),s.message={audio:s.media},s.message.text=s.text,delete s.media):s.message={text:"this link is corrupted: "+s.media}}else s.text?e!==s.createdOn.split("T")[0]?(i++,s.message={text:s.text},s.message.date=s.createdOn.split("T")[0],e=s.createdOn.split("T")[0]):s.message={text:s.text}:s.message={text:""};s.message.createdOn=s.createdOn;var b=void 0;b=0===l?"outgoing":"incoming";var f=s.message.createdOn.split("T");s.message.createdOn=f;var p={userId:b,message:s.message};o.push(p)}return{formatedMessages:o,duration:i}}(O);i(e.formatedMessages.reverse()),l(e.duration)}),[O]),Object(J.jsxs)("div",{style:k.root,children:[Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(J.jsxs)("div",{style:k.statsDiv,children:[a.length," :",h.ar.messageCount," ",Object(J.jsx)("br",{}),h.ar.usageDuration,": ",s," ","\u064a\u0648\u0645"]}),y?Object(J.jsx)(ot.a,{animation:"border"}):a.length?null:Object(J.jsxs)("div",{style:k.emptyMessages,children:[h.ar.emptyConvo," "]})]}),Object(J.jsx)("div",{style:k.chatDiv,children:Object(J.jsx)("div",{style:k.chatScrollDiv,children:a.map((function(e){var t,n,a,r;return Object(J.jsxs)("div",{children:[(null===(t=e.message)||void 0===t?void 0:t.date)&&Object(J.jsx)(ht,{date:e.message.date,darkMode:m}),(null===(n=e.message)||void 0===n?void 0:n.image)?Object(J.jsx)(ct.b,{model:{message:e.message.text,direction:e.userId},children:Object(J.jsx)(ct.b.ImageContent,{src:e.message.image,alt:"The image isn't working link: "+e.message.image,width:400})}):(null===(a=e.message)||void 0===a?void 0:a.audio)?Object(J.jsx)(ct.b,{model:{message:e.message.text,direction:e.userId,type:"image"},children:Object(J.jsx)(ct.b.CustomContent,{children:Object(J.jsx)(lt.a,{src:e.message.audio,controls:!0})})}):(null===(r=e.message)||void 0===r?void 0:r.file)?Object(J.jsxs)(ct.b,{model:{message:e.message.text,direction:e.userId},children:[Object(J.jsx)(ct.b.CustomContent,{children:Object(J.jsx)("a",{href:e.message.file,target:"_blank",download:!0,rel:"noreferrer",children:e.message.text})}),Object(J.jsx)(ct.b.Footer,{children:Object(J.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]}):Object(J.jsxs)(ct.b,{model:{message:e.message.text,direction:e.userId},children:[Object(J.jsx)(ct.b.CustomContent,{children:Object(J.jsx)("div",{style:k.customMessage,children:Object(J.jsx)(gt.a,{componentDecorator:C,children:e.message.text})})}),Object(J.jsx)(ct.b.Footer,{children:Object(J.jsx)("div",{style:k.messageFooter,children:new Date(Date.parse(e.message.createdOn)).toLocaleTimeString()})})]})]},e.id)}))})})]})},ft=Je,pt={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:ft.primary.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center"},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Je.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh"},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:"black"},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:ft.secondary.lightBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50.8%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},mt={root:{flex:1,width:"95%",display:"flex",flexDirection:"row"},flex1:{flex:1},chartWrapper:{width:"100%",height:"100%",marginTop:10,backgroundColor:qe.black},chartDiv:{width:"100%",height:"30.4%"},rightLowerCorner:{width:"30vw",display:"flex",flexDirection:"row",marginLeft:"1vw",marginTop:"1vh",height:"39.3vh"},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:qe.red,fontSize:20},leftSideCard:{textAlign:"center",width:"100%",height:"15vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:qe.black},rightSideCard:{textAlign:"center",width:"100%",height:"15vh",marginTop:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:qe.black},rightSideDiv:{flex:1,width:"50%"},paper:{textAlign:"center",width:"30vw",height:"6vh",margin:10,fontSize:20,alignVertical:"center",alignSelf:"center",justifyContent:"center",alignItems:"center",color:Je.primary.black},chartMargin:{top:16,right:16,bottom:0,left:24},medicineItems:{listStyleType:"none",flex:1},medicinesText:{listStyleType:"none",flex:1},patientName:{flex:1,margin:10,height:"5vh",backgroundColor:qe.black},clickPopever:{width:"5vw",margin:10,height:"5vh"},medicineTextPaper:{width:"5vw",margin:10,height:"5vh"},textColor:{color:Ue.lightGrey},educatorsDiv:{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap"},educatorsButton:{width:"40%",margin:5,backgroundColor:Ue.mainBlue},contentWrapper:{flex:1,width:"50%"},rightBottomRightDiv:{display:"flex",flexDirection:"row",height:"50%"},rightSideLeftColumn:{width:"50%",marginRight:10},rightSideRightColumn:{width:"50%",height:"85%"}},vt=n(543),xt=function(e){var t=e.text,n=e.description,a=e.style,r=Object(b.c)((function(e){return e.auth})).darkMode?mt:pt;return Object(J.jsx)(G.a,{color:!0,style:a,children:Object(J.jsxs)(vt.a,{children:[Object(J.jsx)(Le.a,{style:r.text,variant:"h5",component:"h2",children:n}),Object(J.jsx)(Le.a,{style:r.textColor,children:t})]})})},Ot=Je,yt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ot.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:Ot.secondary.lightBlue}},wt={root:{height:"80%",minHeight:"100%",maxHeight:310},card:{width:"100%",height:"100%",marginTop:10,backgroundColor:qe.black},text:{textAlign:"center",verticalAlign:"center",top:0,position:"relative",color:Ot.primary.red,fontSize:20},listDiv:{height:"90%",overflow:"auto"},button:{width:"90%",height:40,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:Ue.mainBlue}},kt=function(e){var t=e.patientId,n=e.educators,a=e.darkMode,i=Object(b.b)(),o=Object(r.useState)([]),c=Object(j.a)(o,2),s=c[0],l=c[1],d=Object(b.c)((function(e){return e.auth})),u=d.token,h=d.educatorId,g=Object(b.c)((function(e){return e.patient})).appointments;Object(r.useEffect)((function(){i(we({educatorId:h,token:u,patientId:t}))}),[t]),Object(r.useEffect)((function(){g&&l(function(e,t){var n=[];return e&&e.forEach((function(e){n.push(t.filter((function(t){return e.id===t.educatorId})).map((function(t){return{date:t.date,educatorId:t.educatorId,name:e.name}})))})),n.flat()}(n,g))}),[g]);var f=a?wt:yt;return Object(J.jsx)("div",{style:f.root,children:Object(J.jsxs)(G.a,{style:f.card,children:[Object(J.jsx)(Le.a,{style:f.text,variant:"h5",component:"h2",children:"Appointments"}),Object(J.jsx)("div",{style:f.listDiv,children:null===s||void 0===s?void 0:s.map((function(e){return Object(J.jsx)(F.a,{variant:"contained",onClick:function(){return function(e){i(fe(e))}(e.educatorId)},style:f.button,children:Object(J.jsxs)("div",{children:[e.date.split("T")[0]," ",e.name]},e.id)},e.id)}))})]})})},Ct=n(544),It=n(545),St=n(278),Dt=n(279),Tt=n(61),Bt=n(130),At=n(126),Et=n(293),Lt=n(53),Pt=function(e){var t=e.text,n=e.hba1cs,a=e.weights,o=e.height,c=Object(Lt.a)();var s=Object(r.useState)([]),l=Object(j.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){var e=[];null===n||void 0===n||n.forEach((function(t){var n,r;e.push(function(e,t,n,a){return{date:e,hba1c:t,weight:n,height:a}}(null===t||void 0===t||null===(n=t.createdOn)||void 0===n?void 0:n.split("T")[0],null===a||void 0===a||null===(r=a[0])||void 0===r?void 0:r.weight,null===t||void 0===t?void 0:t.hba1c,o))})),u(e)}),[n]),Object(J.jsx)(i.a.Fragment,{children:Object(J.jsx)(Ct.a,{children:Object(J.jsxs)(It.a,{data:d,margin:pt.chartMargin,children:[Object(J.jsx)(St.a,{dataKey:"date",stroke:c.palette.text.secondary}),Object(J.jsx)(Dt.a,{stroke:c.palette.text.secondary,children:Object(J.jsx)(Tt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:c.palette.text.primary},children:t})}),Object(J.jsx)(Bt.a,{}),Object(J.jsx)(At.a,{}),Object(J.jsx)(Et.a,{type:"monotone",dataKey:"hba1c",stroke:"#8884d8",activeDot:{r:8}}),Object(J.jsx)(Et.a,{type:"monotone",dataKey:"weight",stroke:"#8884d8",activeDot:{r:8}}),Object(J.jsx)(Et.a,{type:"monotone",dataKey:"height",stroke:"#82ca9d"})]})})})},zt=function(e){var t=e.localEducators,n=e.darkMode,a=Object(b.b)(),r=n?mt:pt;return Object(J.jsx)(G.a,{color:!0,style:r.rightSideCard,children:Object(J.jsxs)(vt.a,{children:[Object(J.jsx)(Le.a,{style:r.text,variant:"h5",component:"h2",children:"Educators"}),Object(J.jsx)("div",{style:r.educatorsDiv,children:null===t||void 0===t?void 0:t.map((function(e){return Object(J.jsx)(F.a,{variant:"contained",onClick:function(){var t;t=e.id,a(fe(t))},style:r.educatorsButton,children:Object(J.jsx)("text",{children:e.name})})}))})]})})},Mt={name:"\u0627\u0644\u0627\u0633\u0645",dateAffectedText:"\u0645\u0635\u0627\u0628 \u0645\u0646\u0630",dateBirthText:"\u0633\u0646\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062f",dietText:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u063a\u0630\u0627\u0626\u064a \u0627\u0644\u0645\u062a\u0628\u0639",diseaseText:"\u0627\u0644\u0645\u0631\u0636",weightText:"\u0627\u0644\u0648\u0632\u0646",heightText:"\u0627\u0644\u0637\u0648\u0644",Hba1CText:"Hba1C",medicinesText:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",sexText:"\u0627\u0644\u062c\u0646\u0633",surgeryText:"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u062c\u0631\u0627\u062d\u064a\u0629",otherDiseaseText:"\u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0623\u062e\u0631\u0649",whoIsPatientText:"\u0645\u0646 \u0627\u0644\u0645\u062a\u0644\u0642\u064a",outSideLinkText:"\u0631\u0627\u0628\u0637 \u0645\u0644\u0641 \u062e\u0627\u0631\u062c\u064a",topicsText:"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639",saveText:"\u062d\u0641\u0638",needPayment:"\u0628\u062d\u0627\u062c\u0647 \u0644\u0644\u062f\u0641\u0639"},Nt=function(){var e=Object(b.b)(),t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),c=Object(j.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)([]),u=Object(j.a)(d,2),h=u[0],g=u[1],f=Object(r.useState)([]),p=Object(j.a)(f,2),m=p[0],v=p[1],x=Object(r.useState)([]),O=Object(j.a)(x,2),y=O[0],w=O[1],k=Object(r.useState)([]),C=Object(j.a)(k,2),I=C[0],S=C[1],D=Object(r.useState)(""),T=Object(j.a)(D,2),B=T[0],A=T[1],E=Object(r.useState)([]),L=Object(j.a)(E,2),P=(L[0],L[1]),z=Object(r.useState)(""),M=Object(j.a)(z,2),N=M[0],R=M[1],W=Object(r.useState)(""),F=Object(j.a)(W,2),H=F[0],V=(F[1],Object(r.useState)("")),q=Object(j.a)(V,2),U=q[0],K=q[1],_=Object(r.useState)(""),Y=Object(j.a)(_,2),$=Y[0],Q=Y[1],X=Object(r.useState)(""),Z=Object(j.a)(X,2),ee=Z[0],te=Z[1],ne=Object(r.useState)(""),ae=Object(j.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(r.useState)([]),ce=Object(j.a)(oe,2),se=(ce[0],ce[1]),le=Object(r.useState)(""),de=Object(j.a)(le,2),ue=de[0],he=de[1],je=Object(r.useState)([]),ge=Object(j.a)(je,2),be=ge[0],fe=ge[1],pe=Object(r.useState)([]),me=Object(j.a)(pe,2),ve=me[0],xe=me[1],Oe=Object(b.c)((function(e){return e.auth})),we=Oe.darkMode,ke=Oe.educatorId,Ce=Oe.token,Ie=Oe.admin,Se=Object(b.c)((function(e){return e.educators})),De=Se.patients,Te=Se.educators,Be=Object(b.c)((function(e){return e.patient})),Ae=Be.patientProfile,Ee=Be.loading,Pe=Be.patientId,ze=we?mt:pt;Object(r.useEffect)((function(){try{Ae&&(i(null===Ae||void 0===Ae?void 0:Ae.dateAffected),l(null===Ae||void 0===Ae?void 0:Ae.dateBirth),g(null===Ae||void 0===Ae?void 0:Ae.weights),v(null===Ae||void 0===Ae?void 0:Ae.height),w(null===Ae||void 0===Ae?void 0:Ae.hba1cs),S(function(e,t){var n=t.substring(0,t.length-1),a="";return(null===e||void 0===e?void 0:e[t])&&e[t].forEach((function(e){a=a.concat((null===e||void 0===e?void 0:e[n])+"\n")})),a}(Ae,"medicines")),P(null===Ae||void 0===Ae?void 0:Ae.notes),R(null===Ae||void 0===Ae?void 0:Ae.diseaseType),K(null===Ae||void 0===Ae?void 0:Ae.whoIsPatient),Q(null===Ae||void 0===Ae?void 0:Ae.surgery),te(null===Ae||void 0===Ae?void 0:Ae.otherDisease),ie(null===Ae||void 0===Ae?void 0:Ae.outSideLink),se(null===Ae||void 0===Ae?void 0:Ae.topics),he(null===Ae||void 0===Ae?void 0:Ae.diet))}catch(e){console.log(e)}}),[Ae]),Object(r.useEffect)((function(){var e=Object.values(De).filter((function(e){return(null===e||void 0===e?void 0:e.patientId)===(null===Ae||void 0===Ae?void 0:Ae.patientId)}))[0];A(null===e||void 0===e?void 0:e.patientName),fe(null===e||void 0===e?void 0:e.educators.map((function(e){return{id:e.id,name:e.name}})))}),[De,Ae]),Object(r.useEffect)((function(){var e=[];if(be){be.forEach((function(t){e.push(t.id)}));var t=Object.values(Te).filter((function(t){return e.includes(t.id)}));xe(t)}}),[be]),Object(r.useEffect)((function(){e(ye(Ie?{adminId:ke,token:Ce,patientId:Pe}:{educatorId:ke,token:Ce,patientId:Pe}))}),[Pe]);var Me=Mt,Ne=Me.dateAffectedText,Re=Me.name,We=Me.dateBirthText,Fe=Me.dietText,He=Me.diseaseText,Ve=Me.medicinesText,Ge=Me.otherDiseaseText,Je=Me.outSideLinkText,qe=Me.sexText,Ue=Me.surgeryText,Ke=Me.whoIsPatientText,_e=(Me.Hba1CText,Me.needPayment);return Object(J.jsxs)("div",{style:ze.flex1,children:[Ee?Object(J.jsx)(ot.a,{animation:"border"}):"",Object(J.jsxs)("div",{style:ze.root,children:[Object(J.jsx)("div",{style:ze.contentWrapper,children:Object(J.jsxs)("div",{style:{flex:1},children:[Object(J.jsx)(G.a,{style:ze.patientName,children:Object(J.jsxs)("div",{style:ze.text,children:[B," :",Re]})}),Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(J.jsxs)("div",{style:{width:"50%",marginRight:15},children:[Object(J.jsx)(xt,{text:a?new Date(a).toLocaleDateString():"",description:Ne,style:ze.leftSideCard}),Object(J.jsx)(xt,{text:s?new Date(s).toLocaleDateString():"",description:We,style:ze.leftSideCard}),Object(J.jsx)(xt,{text:N,description:He,style:ze.leftSideCard}),Object(J.jsx)(xt,{text:H,description:qe,style:ze.leftSideCard})]}),Object(J.jsxs)("div",{style:{width:"50%",marginRight:20},children:[Object(J.jsx)(xt,{text:U,description:Ke,style:ze.leftSideCard}),Object(J.jsx)(xt,{text:$,description:Ue,style:ze.leftSideCard}),Object(J.jsx)(xt,{text:ee,description:Ge,style:ze.leftSideCard}),Object(J.jsx)(G.a,{color:!0,style:ze.leftSideCard,children:Object(J.jsxs)(vt.a,{children:[Object(J.jsx)(Le.a,{style:ze.text,variant:"h5",component:"h2",children:Je}),Object(J.jsx)("a",{href:re,target:"_blank",style:ze.textColor,rel:"noreferrer",children:re})]})})]})]})]})}),Object(J.jsxs)("div",{style:ze.rightSideDiv,children:[Object(J.jsx)("div",{style:ze.chartDiv,children:Object(J.jsx)(G.a,{style:ze.chartWrapper,children:Object(J.jsx)(Pt,{text:"unit",hba1cs:y,weights:h,height:m})})}),Object(J.jsxs)("div",{style:ze.rightBottomRightDiv,children:[Object(J.jsxs)("div",{style:ze.rightSideLeftColumn,children:[Object(J.jsx)(xt,{text:I,description:Ve,style:ze.rightSideCard}),Object(J.jsx)(xt,{text:ue,description:Fe,style:ze.rightSideCard}),Object(J.jsx)(xt,{text:(null===Ae||void 0===Ae?void 0:Ae.needPayment)?"\u0646\u0639\u0645":"\u0644\u0627",description:_e,style:ze.rightSideCard})]}),Object(J.jsxs)("div",{style:ze.rightSideRightColumn,children:[Object(J.jsx)(zt,{localEducators:be,darkMode:we}),Object(J.jsx)(kt,{patientId:Pe,educators:ve,darkMode:we})]})]})]})]})]})},Rt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:"#6AC6F7"},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"initial"},Wt={mainDev:{height:"90%",width:"100%",marginTop:"2vh",marginRight:"4vw",marginBottom:"4vh",overflow:"auto"},root:{minWidth:275,height:"30vh",backgroundColor:qe.black},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},date:{fontSize:14,marginRight:20,position:"absolute",right:5,bottom:5,color:Ue.lightGrey},pos:{marginBottom:12},learnMore:{position:"absolute",left:2,bottom:0},learnMoreButton:{backgroundColor:Ue.mainBlue},cardDev:{width:"20vw",marginRight:"2vh",marginTop:"2vh"},cardContent:{position:"relative",height:"100%"},color:"secondary",text:{color:Ue.lightGrey}},Ft=n(280),Ht=n.n(Ft),Vt={titleText:{fontSize:30},text:{overflow:"auto"}},Gt={titleText:{fontSize:30,color:Ue.lightGrey},text:{overflow:"auto",color:Ue.lightGrey}},Jt=function(e){var t=e.currentNote,n=e.setNotes,a=Object(b.c)((function(e){return e.auth})).darkMode?Gt:Vt;return Object(J.jsxs)("div",{children:[Object(J.jsx)(F.a,{onClick:function(){n()},children:Object(J.jsx)(Ht.a,{})}),Object(J.jsx)("div",{style:a.titleText,children:t.title}),Object(J.jsx)("div",{style:a.text,children:t.text})]})},qt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.patient})),n=t.patientProfile,a=t.patientId,i=Object(b.c)((function(e){return e.auth})),o=i.darkMode,c=i.educatorId,s=i.token,l=i.admin,d=Object(r.useState)("notes"),u=Object(j.a)(d,2),h=u[0],g=u[1],f=Object(r.useState)(null),p=Object(j.a)(f,2),m=p[0],v=p[1],x={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f",notes:"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a"},O=o?Wt:Rt;Object(r.useEffect)((function(){e(ye(l?{adminId:c,token:s,patientId:a}:{educatorId:c,token:s,patientId:a}))}),[a]);return Object(J.jsxs)("div",{style:O.mainDev,children:[Object(J.jsx)("div",{style:{width:"100%"},children:Object(J.jsx)("div",{style:{textAlign:"center",marginRight:50,fontSize:25},children:x.notes})}),Object(J.jsx)("div",{className:"grid-container",children:"notes"===h?function(){var e;return null===n||void 0===n||null===(e=n.notes)||void 0===e?void 0:e.map((function(e){return Object(J.jsx)("div",{style:O.cardDev,children:Object(J.jsx)(G.a,{style:O.root,variant:"outlined",children:Object(J.jsxs)(vt.a,{style:O.cardContent,children:[Object(J.jsx)(Le.a,{color:O.color,variant:"h5",component:"h2",children:e.title}),Object(J.jsx)(Le.a,{color:O.color,style:O.text,variant:"body2",component:"p",children:e.text}),Object(J.jsx)(Le.a,{color:O.color,style:O.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(J.jsx)(Le.a,{style:O.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(J.jsx)(F.a,{size:"small",style:O.learnMoreButton,onClick:function(){return function(e){v(e),g("readmore")}(e)},children:x.learnMore})})]})})})}))}():Object(J.jsx)(Jt,{currentNote:m,setNotes:function(){g("notes")}})})]})},Ut=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.patient})),n=t.patientProfile,a=t.patientId,i=Object(b.c)((function(e){return e.auth})),o=i.darkMode,c=i.educatorId,s=i.token,l=i.admin,d=Object(r.useState)("notes"),u=Object(j.a)(d,2),h=u[0],g=u[1],f=Object(r.useState)(null),p=Object(j.a)(f,2),m=p[0],v=p[1],x={title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",text:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",summary:"\u0627\u0644\u0645\u0644\u062e\u0635",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",learnMore:"\u0627\u0642\u0631\u0627 \u0627\u0644\u0645\u0632\u064a\u062f",summaries:"\u0627\u0644\u0645\u0644\u062e\u0635\u0627\u062a"},O=o?Wt:Rt;Object(r.useEffect)((function(){e(ye(l?{adminId:c,token:s,patientId:a}:{educatorId:c,token:s,patientId:a}))}),[a]);return Object(J.jsxs)("div",{style:O.mainDev,children:[Object(J.jsx)("div",{style:{width:"100%"},children:Object(J.jsx)("div",{style:{textAlign:"center",marginRight:50,fontSize:25},children:x.summaries})}),Object(J.jsx)("div",{className:"grid-container",children:"notes"===h?function(){var e;return null===n||void 0===n||null===(e=n.summaries)||void 0===e?void 0:e.map((function(e){return Object(J.jsx)("div",{style:O.cardDev,children:Object(J.jsx)(G.a,{style:O.root,variant:"outlined",children:Object(J.jsxs)(vt.a,{style:O.cardContent,children:[Object(J.jsx)(Le.a,{color:O.color,variant:"h5",component:"h2",children:e.title}),Object(J.jsx)(Le.a,{color:O.color,style:O.text,variant:"body2",component:"p",children:e.text}),Object(J.jsx)(Le.a,{color:O.color,style:O.date,gutterBottom:!0,children:e.createdOn.split("T")[0]}),Object(J.jsx)(Le.a,{style:O.learnMore,color:"textSecondary",gutterBottom:!0,children:Object(J.jsx)(F.a,{size:"small",style:O.learnMoreButton,onClick:function(){return function(e){v(e),g("readmore")}(e)},children:x.learnMore})})]})})})}))}():Object(J.jsx)(Jt,{currentNote:m,setNotes:function(){g("notes")}})})]})},Kt=n(191),_t=n(284),Yt=n.n(_t),$t=Je,Qt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90%",width:"100%",backgroundColor:$t.primary.black},card:{width:"95%",display:"flex",direction:"row",padding:10,marginTop:10,marginBottom:10,backgroundColor:$t.primary.white,borderRadius:10},buttonsText:{marginTop:5,marginRight:5,backgroundColor:$t.primary.black,color:$t.primary.white},icons:{color:$t.primary.black},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:"#6D9DC5"},mianDev:{marginLeft:20,width:"100%",height:"100%"},iconsDev:{width:"100%",height:"100%"},listDev:{width:"20%",backgroundColor:$t.primary.bluishWhite},rightColumn:{width:"80%",height:"100%"},cardContainer:$t.primary.white,listHeaderDiv:{display:"block",backgroundColor:$t.primary.white,textAlign:"center",padding:10},patientListName:{color:"black"},listAppointemntsButton:{width:"100%",backgroundColor:$t.primary.bluishWhite},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:"white"},calendarMainDiv:{flex:1},headerListDiv:{width:"20%",height:"10%"},calendarContentDiv:{width:"100%",height:"90%"},calendarCardDiv:{flex:1,display:"flex",justifyContent:"center"},calendarCard:{display:"flex",height:"60%",width:"100%",marginLeft:"15%",marginRight:"15%",alignContent:"center",alignItems:"center",backgroundColor:$t.secondary.lightBlue},calendarDiv:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},calendar:{height:500,width:"90%",marginTop:"5%",marginBottom:"5%"}},Xt={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"90.5vh",width:"100%",backgroundColor:qe.black},buttonsText:{marginTop:5,marginRight:5,backgroundColor:qe.black,color:qe.white},icons:{color:Ue.lightGrey},goToPatientButton:{width:"6vw",marginLeft:"2vw",backgroundColor:Ue.lightBlue},mianDev:{marginLeft:20,width:"100%",height:"100%",overflow:"hidden"},iconsDev:{width:"100%",height:"100%",overflow:"hidden"},listDev:{width:"20%",backgroundColor:Ue.mainBlue},rightColumn:{width:"80%",height:"100%"},cardContainer:Ue.darkBlue,listHeaderDiv:{display:"block",backgroundColor:Ue.darkBlue,textAlign:"center",padding:10},card:{width:"95%",display:"flex",direction:"row",padding:10,marginTop:10,marginBottom:10,backgroundColor:$t.primary.white,borderRadius:10},patientListName:{color:Ue.lightGrey},listAppointemntsButton:{width:"100%",backgroundColor:Ue.mainBlue},popUpDiv:{height:"10vh",width:"10vw",backgroundColor:Ue.mainBlue},calendarMainDiv:{flex:1},headerListDiv:{width:"20%",height:"10%"},calendarContentDiv:{width:"100%",height:"90%"},calendarCardDiv:{flex:1,display:"flex",justifyContent:"center"},calendarCard:{display:"flex",height:"100%",width:"100%",marginLeft:"15%",marginRight:"15%",alignContent:"center",alignItems:"center",backgroundColor:$t.primary.black},calendarDiv:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},calendar:{height:600,width:"90%",marginTop:"5%",marginBottom:"5%"}},Zt=(n(487),Object(Kt.b)(Yt.a)),en=function(e){var t=e.currentEducator,n=e.darkMode,a=e.goToPatient,r=n?Xt:Qt,i=[];t&&t.appointments.forEach((function(e){i.push({appointmentId:e.appointmentId,date:new Date(e.date.split("T")[0]),name:e.name,time:e.time,patientId:e.patientId})}));if(!i||i&&!Object.keys(i).length)return null;var o=0,c=i.map((function(e){var t=new Date(e.date);return t>Date.now()&&o++,t.setHours(e.time.split(":")[0]),{id:e.appointmentId,title:e.name,allDay:!1,start:t,end:t,patinetId:e.patientId}}));return Object(J.jsx)("div",{style:r.calendarCardDiv,children:Object(J.jsx)(G.a,{elevation:5,style:r.calendarCard,children:Object(J.jsxs)("div",{style:r.calendarDiv,children:[Object(J.jsxs)("div",{style:{alignSelf:"start",marginLeft:10,marginTop:5,fontSize:20},children:["Upcoming Appointments: ",o]}),Object(J.jsx)(Kt.a,{localizer:Zt,events:c,startAccessor:"start",endAccessor:"end",style:r.calendar,onSelectEvent:function(e){a(null===e||void 0===e?void 0:e.patinetId)}})]})})})},tn=n(530),nn=n(285),an=n.n(nn),rn=Je,on={mainDiv:{height:"76vh",overflow:"auto"},uperDiv:{display:"flex",flexDirection:"row",height:50},input:{height:"100%",width:"100%",alignSelf:"end",justifyContent:"end",borderColor:"white",textAlign:"end",backgroundColor:rn.primary.bluishWhite},convo:{display:"flex",flexDirection:"row",alignItems:"center"},accountIcon:{marginRight:5},inputDiv:{width:"70%"},switchDiv:{width:"30%",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginBottom:10},allChatsSwitch:{},allChatsText:{marginBottom:-5,fontSize:14,width:"100%",textAlign:"center",height:20},patientListName:{color:"black"}},cn={mainDiv:{height:"76vh",overflow:"auto"},uperDiv:{display:"flex",flexDirection:"row",height:50},input:{height:"100%",width:300,alignSelf:"end",justifyContent:"end",borderColor:Ue.darkBlue,textAlign:"end",backgroundColor:Ue.mainBlue},convo:{display:"flex",flexDirection:"row",alignItems:"center"},inputDiv:{width:"70%"},switchDiv:{width:"30%",height:"100%",alignItems:"center",display:"flex",flexDirection:"column",marginBottom:10},allChatsSwitch:{backgroundColor:rn.secondary.lightBlue},allChatsText:{marginBottom:-5,fontSize:16,width:"100%",textAlign:"center"},accountIcon:{marginRight:5},patientListName:{color:"black"}},sn=n(555),ln=function(e){var t=e.localPatients,n=e.allPateints,a=e.activateChat,i=e.patientId,o=e.darkMode,c=e.setSearchTerm,s=e.searchTerm,l=e.allChatsLoading,d=e.checkedAllChats,u=e.setCheckedAllChats,h=Object(r.useState)([]),g=Object(j.a)(h,2),b=g[0],f=g[1],p={allChats:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a",searchHolder:"\u0627\u0628\u062d\u062b"},m=o?cn:on;return Object(r.useEffect)((function(){d&&n()}),[d]),Object(r.useEffect)((function(){if(!t.length)return f([]),null;var e;e=""===s?t:null===t||void 0===t?void 0:t.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.patientName)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===e||void 0===e||null===(n=e.id)||void 0===n?void 0:n.includes(s))})),f(e)}),[t,s]),Object(J.jsx)("div",{children:Object(J.jsxs)("div",{style:m.mainDiv,children:[Object(J.jsxs)("div",{style:m.uperDiv,children:[Object(J.jsx)("div",{style:m.inputDiv,dir:"rtl",children:Object(J.jsx)(tn.a,{style:m.input,value:s,onChange:function(e){return c(e.target.value.toLowerCase())},placeholder:p.searchHolder})}),Object(J.jsxs)("div",{style:m.switchDiv,children:[Object(J.jsx)(Le.a,{style:m.allChatsText,children:p.allChats}),Object(J.jsx)(sn.a,{style:m.allChatsSwitch,checked:d,onChange:function(){u(!d)},name:"checkedB",color:"primary"})]})]}),l?Object(J.jsx)(W.a,{}):null,null===b||void 0===b?void 0:b.map((function(e){return Object(J.jsx)(ct.a,{active:i===e.patientId,onClick:function(){return a(e.id,e.patientId)},children:Object(J.jsx)(ct.a.Content,{children:Object(J.jsxs)("div",{style:m.convo,children:[Object(J.jsx)(an.a,{fontSize:"large",style:m.accountIcon}),Object(J.jsx)("div",{style:m.patientListName,children:e.patientName})]})})},e.id)}))]})})},dn=n(549),un=n(286),hn=n.n(un),jn=n(287),gn=n.n(jn),bn=n(288),fn=n.n(bn),pn=n(289),mn=n.n(pn),vn=function(){var e=Object(l.f)(),t=Object(b.b)(),n=Object(r.useState)(""),a=Object(j.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)([]),s=Object(j.a)(c,2),d=s[0],u=s[1],h=Object(r.useState)(""),g=Object(j.a)(h,2),f=g[0],p=g[1],m=Object(r.useState)(!0),v=Object(j.a)(m,2),x=v[0],O=v[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),k=w[0],C=w[1],I=Object(r.useState)(""),S=Object(j.a)(I,2),D=S[0],T=S[1],B=Object(r.useState)({ar:{chat:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",profile:"\u0627\u0644\u0628\u0631\u0648\u0641\u0627\u064a\u0644",educators:"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646",patientName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",goToPatient:"\u0627\u0630\u0647\u0628 \u0644\u0644\u0645\u0631\u064a\u0636",time:"\u0627\u0644\u0648\u0642\u062a"}}),A=Object(j.a)(B,2),E=(A[0],A[1],Object(b.c)((function(e){return e.auth}))),P=E.chats,M=E.token,N=E.educatorId,R=E.darkMode,W=E.admin,V=Object(b.c)((function(e){return e.educators})),q=V.fetchedEducatorId,K=V.patients,_=V.educators,Y=V.currentEducator,$=Object(b.c)((function(e){return e.patient})).patientId,Q=Object(b.c)((function(e){return e.chats})),X=Q.allChats,ee=Q.allChatsLoading,te=R?Xt:Qt;Object(r.useEffect)((function(){M||e.replace("/")}),[M]),Object(r.useEffect)((function(){try{if((null===P||void 0===P?void 0:P.length)&&!P[0].id){var e=U(P);t(L(e))}}catch(n){console.log("error setting chats:",n)}}),[P,t]),Object(r.useEffect)((function(){var e;_&&(0!==(e=Object.values(_).filter((function(e){return q===e.id}))).length&&u(e[0].chats),T(!1),C(""),t(pe(e[0])),t(re()))}),[t,N,_,q,K]),Object(r.useEffect)((function(){$&&O(!1)}),[$]),Object(r.useEffect)((function(){(null===X||void 0===X?void 0:X.length)&&u(X)}),[X]),Object(r.useEffect)((function(){var e;D||0!==(e=Object.values(_).filter((function(e){return q===e.id}))).length&&u(e[0].chats)}),[D]);var ne=function(){return Object(J.jsxs)("div",{style:te.listHeaderDiv,children:[Object(J.jsx)(F.a,{variant:"contained",onClick:function(){return o("patients")},style:te.buttonsText,children:"\u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0627\u062a"}),Object(J.jsx)(F.a,{style:te.buttonsText,variant:"contained",onClick:function(){return o("appointments")},children:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"})]})},ie=function(e){x||p(e)};return Object(J.jsxs)("div",{style:{height:"100vh"},children:[Object(J.jsx)(rt,{}),Object(J.jsx)(H.a,{maxWidth:!1,style:te.container,children:Object(J.jsx)(G.a,{style:te.card,children:"appointments"===i?Object(J.jsxs)("div",{style:te.calendarMainDiv,children:[Object(J.jsx)("div",{style:te.headerListDiv,children:ne()}),Object(J.jsx)("div",{style:te.calendarContentDiv,children:Object(J.jsx)(en,{currentEducator:Y,darkMode:R,goToPatient:function(e){var n;p("profile"),o(""),e&&t(Se(e));var a=null===Y||void 0===Y||null===(n=Y.chats)||void 0===n?void 0:n.find((function(t){return(null===t||void 0===t?void 0:t.patientId)===e}));a&&t(ae(null===a||void 0===a?void 0:a.id))}})})]}):Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:1},children:[Object(J.jsxs)("div",{style:te.listDev,children:[ne(),Object(J.jsx)("div",{children:Object(J.jsx)(ln,{localPatients:d,allPateints:function(){q&&t(Z(W?{educatorId:q,token:M,adminId:N}:{educatorId:q,token:M}))},activateChat:function(e,n){t(Se(n)),t(ae(e))},patientId:$,darkMode:R,searchTerm:k,setSearchTerm:C,allChatsLoading:ee,checkedAllChats:D,setCheckedAllChats:T})})]}),Object(J.jsx)("div",{style:te.rightColumn,children:Object(J.jsx)("div",{style:te.mianDev,children:Object(J.jsxs)("div",{style:te.iconsDev,children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(dn.a,{"aria-label":"chat",onClick:function(){return ie("chat")},children:Object(J.jsx)(hn.a,{style:te.icons,fontSize:"large"})}),Object(J.jsx)(dn.a,{"aria-label":"chat",onClick:function(){ie("profile")},children:Object(J.jsx)(Ze.a,{style:te.icons,fontSize:"large"})}),Object(J.jsx)(dn.a,{"aria-label":"notes",onClick:function(){ie("notes")},children:Object(J.jsx)(gn.a,{style:te.icons,fontSize:"large"})}),Object(J.jsx)(dn.a,{"aria-label":"summary",onClick:function(){ie("summaries")},children:Object(J.jsx)(fn.a,{style:te.icons,fontSize:"large"})}),Object(J.jsx)(dn.a,{"aria-label":"darkmode",style:{right:85,position:"absolute"},onClick:function(){t(z(!R))},children:Object(J.jsx)(mn.a,{style:te.icons,fontSize:"large"})})]}),"profile"===f?Object(J.jsx)(Nt,{}):"notes"===f?Object(J.jsx)(qt,{}):"summaries"===f?Object(J.jsx)(Ut,{}):d.length?Object(J.jsx)(bt,{}):null]})})})]})})}),Object(J.jsx)(it,{})]})},xn=n(290),On=n(159),yn=n(291),wn={key:"root",storage:n.n(yn).a,whitelist:["auth"]},kn=Object(On.a)(wn,{chats:ie,auth:N,educators:me,patient:Te}),Cn=Object(m.d)(),In=Object(m.a)(Object(p.a)({reducer:kn},Cn)),Sn=Object(On.b)(In),Dn=In,Tn=function(){return Object(J.jsx)(xn.a,{loading:null,persistor:Sn,children:Object(J.jsx)(s.a,{children:Object(J.jsxs)(l.c,{children:[Object(J.jsx)(l.a,{exact:!0,path:"/",component:q}),Object(J.jsx)(l.a,{exact:!0,path:"/showpatients",component:vn}),Object(J.jsx)(l.a,{path:"*",component:vn})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(J.jsx)(b.a,{store:Dn,children:Object(J.jsx)(Tn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[490,1,2]]]);
//# sourceMappingURL=main.b6967238.chunk.js.map